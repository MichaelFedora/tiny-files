/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/buefy.scss":
/*!************************!*\
  !*** ./src/buefy.scss ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/styles.scss":
/*!*************************!*\
  !*** ./src/styles.scss ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/app.vue?vue&type=style&index=0&lang=scss&":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/app.vue?vue&type=style&index=0&lang=scss& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/explorer/explorer.vue?vue&type=style&index=0&lang=scss&":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/explorer/explorer.vue?vue&type=style&index=0&lang=scss& ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/loading/loading.vue?vue&type=style&index=0&lang=scss&":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/loading/loading.vue?vue&type=style&index=0&lang=scss& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/pages/not-found/not-found.vue?vue&type=style&index=0&lang=scss&":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/pages/not-found/not-found.vue?vue&type=style&index=0&lang=scss& ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./src/app/app.ts?vue&type=script&lang=js&":
/*!****************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./src/app/app.ts?vue&type=script&lang=js& ***!
  \****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm.js");
/* harmony import */ var services_tiny_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! services/tiny-api */ "./src/services/tiny-api.ts");
/* harmony import */ var buefy__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! buefy */ "./node_modules/buefy/dist/esm/dialog.js");
/* harmony import */ var services_data_bus__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! services/data-bus */ "./src/services/data-bus.ts");




/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (vue__WEBPACK_IMPORTED_MODULE_2__.default.component('app', {
    data() {
        return {
            loggedIn: Boolean(services_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.homeToken)
        };
    },
    watch: {
        $route(n, o) {
            if (n.path !== o.path && !this.loggedIn && !/^\/login/.test(n.path))
                this.loggedIn = Boolean(services_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.homeToken);
        }
    },
    methods: {
        async settings() {
            buefy__WEBPACK_IMPORTED_MODULE_3__.DialogProgrammatic.alert({
                type: 'is-info',
                message: 'to be implemented ;3'
            });
        },
        async logout() {
            await services_tiny_api__WEBPACK_IMPORTED_MODULE_0__.default.auth.logout();
            this.$router.push('/login');
            this.loggedIn = false;
        },
        async deleteSelf() {
            const choice = await new Promise(res => buefy__WEBPACK_IMPORTED_MODULE_3__.DialogProgrammatic.confirm({
                title: 'Delete Account',
                type: 'is-danger',
                message: 'Are you sure you want to delete your account? This cannot be undone.',
                onCancel: () => res(false),
                onConfirm: () => res(true)
            }));
            if (choice) {
                await services_tiny_api__WEBPACK_IMPORTED_MODULE_0__.default.deleteSelf();
                this.$router.push('/login');
                this.loggedIn = false;
            }
        }
    }
}));


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./src/components/explorer/explorer.ts?vue&type=script&lang=js&":
/*!*************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./src/components/explorer/explorer.ts?vue&type=script&lang=js& ***!
  \*************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var jszip__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jszip */ "./node_modules/jszip/lib/index.js");
/* harmony import */ var jszip__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jszip__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var file_saver__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! file-saver */ "./node_modules/file-saver/dist/FileSaver.min.js");
/* harmony import */ var file_saver__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(file_saver__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var filesize__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! filesize */ "./node_modules/filesize/lib/filesize.min.js");
/* harmony import */ var filesize__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(filesize__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var luxon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! luxon */ "./node_modules/luxon/build/cjs-browser/luxon.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util */ "./src/util.ts");








/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (vue__WEBPACK_IMPORTED_MODULE_6__.default.component('tiny-explorer', {
    props: {
        rootName: { type: String, required: false, default: 'root' },
        rootRoute: { type: String, required: true },
        paths: { type: Array, required: true },
        mapLink: { type: Function, required: true },
        viewOnly: Boolean
    },
    data() {
        const rootInfo = {
            path: '/',
            name: 'root',
            size: filesize__WEBPACK_IMPORTED_MODULE_3___default()(0),
            rawSize: 0,
            lastModified: 'null',
            rawLastModified: 0
        };
        return {
            // "exploring"
            dir: '/',
            dirInfo: rootInfo,
            bigList: [],
            index: {},
            rootInfo,
            // downloading/uploading
            working: false,
            progress: 0,
            workingOn: '',
            // sorting
            sortByName: 'name',
            sortByDir: false,
            // selection
            lastActive: '',
            lastActiveTime: 0,
            active: {},
            anyActive: false,
            // selection box
            drawing: false,
            drawBegin: { x: 0, y: 0 },
            drawPoints: { x1: 0, y1: 0, x2: 0, y2: 0 },
            drawPos: {
                top: '0px',
                left: '0px',
                height: '0px',
                width: '0px'
            }
        };
    },
    computed: {
        splitDir() {
            const sdir = [];
            let buff = '';
            this.dir.replace(/^\/|\/$/g, '').split('/').forEach(v => {
                if (!v)
                    buff += '/';
                else if (buff)
                    sdir.push(buff + v);
                else
                    sdir.push(v);
            });
            return [
                this.rootName,
                ...sdir
            ];
        },
        sortedFolders() {
            if (!this.index || !this.index[this.dir])
                return [];
            return this.sortEntries(this.index[this.dir].folders);
        },
        sortedFiles() {
            if (!this.index || !this.index[this.dir])
                return [];
            return this.sortEntries(this.index[this.dir].files);
        }
    },
    watch: {
        dir() {
            this.active = {};
            this.lastActive = '';
            this.lastActiveTime = 0;
            if (this.sliceRouteForPath() !== this.dir)
                this.$router.replace({ path: this.rootRoute + this.dir });
            if (this.dir.length > 1 && this.index && this.index[this.dir]) {
                const idx = this.dir.lastIndexOf('/', this.dir.length - 2);
                const dirParent = this.dir.slice(0, idx + 1);
                const dirName = this.dir.slice(idx + 1, -1);
                const info = this.index[dirParent] ? this.index[dirParent].folders.find(a => a.name === dirName) : null;
                this.dirInfo = info || this.rootInfo;
            }
            else
                this.dirInfo = this.rootInfo;
            this.$emit('update:dir', this.dir);
        },
        paths() {
            this.refresh();
        },
        $route() {
            if (this.sliceRouteForPath() !== this.dir && this.index[this.sliceRouteForPath()])
                this.dir = this.sliceRouteForPath();
        },
        active() {
            this.anyActive = this.active && Object.values(this.active).reduce((a, b) => a || b, false);
        }
    },
    async mounted() {
        window.addEventListener('mouseup', this.drawEnd);
        window.addEventListener('mousemove', this.drawContinue);
        this.refresh();
        if (this.index[this.sliceRouteForPath()])
            this.dir = this.sliceRouteForPath();
        else
            this.$router.replace(this.rootRoute);
    },
    destroyed() {
        window.removeEventListener('mouseup', this.drawEnd);
        window.removeEventListener('mousemove', this.drawContinue);
    },
    methods: {
        sliceRouteForPath() {
            let path = this.$route.path.slice(this.rootRoute.length);
            if (!path.endsWith('/'))
                path += '/';
            return path;
        },
        formatDate(time) {
            return luxon__WEBPACK_IMPORTED_MODULE_7__.DateTime.fromMillis(time, { zone: 'utc' }).toLocal().toLocaleString(luxon__WEBPACK_IMPORTED_MODULE_7__.DateTime.DATETIME_SHORT);
        },
        sortEntries(entries) {
            return entries.sort((_a, _b) => {
                let a, b;
                if (!this.sortByDir) {
                    a = _a;
                    b = _b;
                }
                else {
                    b = _a;
                    a = _b;
                }
                switch (this.sortByName) {
                    case 'size': return b.rawSize - a.rawSize;
                    case 'mod': return b.rawLastModified - a.rawLastModified;
                    case 'name':
                    default:
                        return a.name.localeCompare(b.name);
                }
            });
        },
        sort(col) {
            if (col === this.sortByName)
                this.sortByDir = !this.sortByDir;
            else {
                this.sortByName = col;
                this.sortByDir = false;
            }
        },
        goto(dir) {
            if (dir <= 0) {
                this.dir = '/';
                return;
            }
            else if (dir >= this.splitDir.length)
                return;
            const d = '/' + this.splitDir.slice(1, dir + 1).join('/');
            this.dir = d.endsWith('/') ? d : d + '/';
        },
        newFolder() {
            console.log('create folder');
        },
        refresh() {
            const index = {};
            if (!this.index || Object.keys(this.index).length === 0)
                this.index = index;
            const oldestLatestModifiedDates = {};
            for (const entry of this.paths) {
                // create folder objects
                const folders = entry.path.split('/').map((p, i, arr) => arr.slice(0, i).join('/') + '/').slice(1);
                for (let i = 0, fpath = folders[i]; i < folders.length; i++, fpath = folders[i]) {
                    if (!index[fpath]) {
                        index[fpath] = { files: [], folders: [] };
                    }
                    if (i + 1 < folders.length) {
                        const subFName = folders[i + 1].slice(folders[i + 1].lastIndexOf('/', folders[i + 1].length - 2)).replace(/\//g, '');
                        if (!index[fpath].folders.find(a => a.name === subFName)) {
                            index[fpath].folders.push({
                                path: fpath + '/' + subFName,
                                name: subFName,
                                size: '--',
                                rawSize: 0,
                                lastModified: '--',
                                rawLastModified: 0,
                                itemCount: 0
                            });
                        }
                    }
                }
                if (entry.size === 0 && entry.modified === 0 && entry.path.endsWith('null'))
                    continue;
                // file logic
                const folder = index[folders[folders.length - 1]];
                const fileName = entry.name || entry.path.slice(entry.path.lastIndexOf('/', entry.path.length - 2) + 1);
                const file = folder.files.find(a => a.name === fileName);
                const rawLastModified = entry.modified;
                // new
                if (!file) {
                    const newFile = {
                        name: fileName,
                        path: entry.path,
                        rawSize: entry.size,
                        size: filesize__WEBPACK_IMPORTED_MODULE_3___default()(entry.size),
                        rawLastModified: rawLastModified,
                        lastModified: this.formatDate(rawLastModified),
                        contentType: entry.type,
                        ...(0,_util__WEBPACK_IMPORTED_MODULE_5__.getFileIcon)(entry.type)
                    };
                    folder.files.push(newFile);
                    oldestLatestModifiedDates[entry.path] = { oldest: rawLastModified, latest: rawLastModified };
                    // new file & newer modified & has size
                }
                if (oldestLatestModifiedDates[entry.path].latest < rawLastModified && entry.size > 0) {
                    file.rawSize = entry.size;
                    file.size = filesize__WEBPACK_IMPORTED_MODULE_3___default()(entry.size);
                    file.rawLastModified = rawLastModified;
                    file.lastModified = this.formatDate(rawLastModified);
                    file.contentType = entry.type;
                    const icon = (0,_util__WEBPACK_IMPORTED_MODULE_5__.getFileIcon)(entry.type);
                    file.fileIcon = icon.fileIcon;
                    file.fileIconColor = icon.fileIconColor;
                    oldestLatestModifiedDates[entry.path] = { oldest: rawLastModified, latest: rawLastModified };
                    // it's just old (or non existant)
                }
                else { }
            }
            // post-entries logic -- fill out folder information
            // make sure we process the farthest folders first (i.e. the longest paths)
            // so the shorter ones can reference their children
            let paths = Object.keys(index).filter(a => index[a] && (index[a].folders.length || index[a].files.length));
            paths = paths.sort((a, b) => a.length === b.length ? a.localeCompare(b) : b.length - a.length);
            // currentPath = 0;
            for (const path of paths) {
                /* currentPath++;
                this.workingOn = 'Filling folder information (' + currentPath + '/' + paths.length + ')...';
                this.progress = currentPath / paths.length;*/
                let totalSize = 0;
                let lastModified = 0;
                let itemCount = 0;
                for (const f of index[path].folders) {
                    totalSize += f.rawSize;
                    lastModified = Math.max(lastModified, f.rawLastModified);
                    itemCount += f.itemCount;
                }
                for (const f of index[path].files) {
                    totalSize += f.rawSize;
                    lastModified = Math.max(lastModified, f.rawLastModified);
                    itemCount++;
                }
                if (path.length > 1) {
                    const idx = path.lastIndexOf('/', path.length - 2);
                    const subPath = path.slice(0, idx + 1);
                    const fName = path.slice(idx + 1, -1);
                    const folder = index[subPath].folders.find(a => a.name === fName);
                    folder.rawSize = totalSize;
                    folder.size = filesize__WEBPACK_IMPORTED_MODULE_3___default()(totalSize);
                    folder.rawLastModified = lastModified;
                    folder.lastModified = this.formatDate(lastModified);
                    folder.itemCount = itemCount;
                }
                else {
                    this.rootInfo.rawSize = totalSize;
                    this.rootInfo.size = filesize__WEBPACK_IMPORTED_MODULE_3___default()(totalSize);
                    this.rootInfo.rawLastModified = lastModified;
                    this.rootInfo.lastModified = this.formatDate(lastModified);
                    this.rootInfo.itemCount = itemCount;
                }
            }
            this.index = index;
            this.$forceUpdate();
        },
        clickItem(event, item, folder = false) {
            const name = folder ? '/' + item.name : item.name;
            if (event.getModifierState('Shift') || event.shiftKey) {
                const allItems = this.index[this.dir].folders.map(a => '/' + a.name).concat(this.index[this.dir].files.map(a => a.name));
                const s1 = allItems.indexOf(this.lastActive);
                const s2 = allItems.indexOf(name);
                const items = allItems.slice(Math.min(s1, s2), Math.max(s1, s2) + 1);
                if (event.getModifierState('Control') || event.ctrlKey)
                    for (const i of items)
                        vue__WEBPACK_IMPORTED_MODULE_6__.default.set(this.active, i, true);
                else
                    this.active = items.reduce((acc, c) => { acc[c] = true; return acc; }, {});
                this.lastActiveTime = 0;
                return; // no 'lastActive' whatnot
            }
            else if (event.getModifierState('Control') || event.ctrlKey) {
                this.active[name] = !this.active[name];
                this.lastActiveTime = 0;
            }
            else {
                this.active = { [name]: true };
                if (Date.now() - this.lastActiveTime < 333) { // 1/3 of a sec
                    if (name.startsWith('/'))
                        this.openFolder(name.slice(1));
                    else
                        this.openFile(item.path);
                    this.lastActiveTime = 0;
                }
                this.lastActiveTime = Date.now();
            }
            this.lastActive = name;
        },
        openFolder(folder) {
            if (this.dir)
                this.dir = this.dir + folder + '/';
            else
                this.dir = '/' + folder + '/';
        },
        async openFile(path, open = true) {
            if (open)
                this.$emit('open', path);
            else
                return axios__WEBPACK_IMPORTED_MODULE_4___default().get(this.mapLink(path), { responseType: 'blob' });
        },
        async downloadSelected() {
            if (this.working)
                return;
            const items = [];
            for (const k in this.active)
                if (this.active[k] === true)
                    items.push(k.startsWith('/') ? k.slice(1) : k);
            let allItems = [];
            for (const i of items) {
                allItems = allItems.concat(this.bigList
                    .filter(a => a.startsWith(this.dir.slice(1) + i)));
            }
            let name = items.length === 1 ?
                items[0] :
                this.splitDir.length === 1 ?
                    'tiny-files-data' :
                    this.splitDir[this.splitDir.length - 1];
            return this.download(allItems, name);
        },
        async downloadDir(path) {
            if (this.working)
                return;
            if (!path.endsWith('/'))
                path += '/';
            if (path.startsWith('/'))
                path = path.slice(1);
            let name;
            if (path.length < 2)
                name = 'tiny-files-data';
            else {
                const idx = path.lastIndexOf('/', path.length - 2);
                const dirName = path.slice(idx + 1, -1);
                name = dirName;
            }
            return this.download(this.bigList.filter(a => a.startsWith(path)), name);
        },
        async download(items, name) {
            if (this.working)
                return;
            this.working = true;
            this.progress = 0;
            const zip = new (jszip__WEBPACK_IMPORTED_MODULE_1___default())();
            for (let n = 0, it = items[n]; n < items.length; n++, it = items[n]) {
                console.log('download:', it);
                this.progress = n / items.length;
                this.workingOn = 'Zipping ' + it;
                await new Promise(resolve => setTimeout(resolve, 500));
                zip.file(it, await this.openFile(it, false));
            }
            this.progress = 1;
            this.workingOn = 'Serving the Zip';
            const blob = await zip.generateAsync({ type: 'blob' });
            file_saver__WEBPACK_IMPORTED_MODULE_2___default().saveAs(blob, name.replace('*', ''));
            this.workingOn = '';
            this.working = false;
            this.progress = 0;
        },
        drawStart(event) {
            if (event.button !== 0)
                return;
            this.drawing = true;
            vue__WEBPACK_IMPORTED_MODULE_6__.default.set(this.drawBegin, 'x', event.x);
            vue__WEBPACK_IMPORTED_MODULE_6__.default.set(this.drawBegin, 'y', event.y);
            this.drawPoints = { x1: event.x, x2: event.x, y1: event.y, y2: event.y };
            this.drawPos = { top: event.y + 'px', left: event.x + 'px', height: 0 + 'px', width: 0 + 'px' };
        },
        boxInside(a, b) {
            return !(a.x1 > b.x2 ||
                a.x2 < b.x1 ||
                a.y1 > b.y2 ||
                a.y2 < b.y1);
        },
        drawContinue: lodash__WEBPACK_IMPORTED_MODULE_0___default().throttle(function (event) {
            if (!this.drawing)
                return;
            vue__WEBPACK_IMPORTED_MODULE_6__.default.set(this.drawPoints, 'y1', Math.min(event.y, this.drawBegin.y)); // top
            vue__WEBPACK_IMPORTED_MODULE_6__.default.set(this.drawPoints, 'x1', Math.min(event.x, this.drawBegin.x)); // left
            vue__WEBPACK_IMPORTED_MODULE_6__.default.set(this.drawPoints, 'y2', Math.max(event.y, this.drawBegin.y)); // bottom
            vue__WEBPACK_IMPORTED_MODULE_6__.default.set(this.drawPoints, 'x2', Math.max(event.x, this.drawBegin.x)); // right
            vue__WEBPACK_IMPORTED_MODULE_6__.default.set(this.drawPos, 'top', this.drawPoints.y1 + 'px');
            vue__WEBPACK_IMPORTED_MODULE_6__.default.set(this.drawPos, 'left', this.drawPoints.x1 + 'px');
            vue__WEBPACK_IMPORTED_MODULE_6__.default.set(this.drawPos, 'height', this.drawPoints.y2 - this.drawPoints.y1 + 'px');
            vue__WEBPACK_IMPORTED_MODULE_6__.default.set(this.drawPos, 'width', this.drawPoints.x2 - this.drawPoints.x1 + 'px');
            const children = this.$refs.explorer.children;
            for (let i = 0, child = children.item(i); i < children.length; i++, child = children.item(i)) {
                if (!(child.classList.contains('folder') || child.classList.contains('file')))
                    continue;
                const box = child.getBoundingClientRect();
                const b = {
                    x1: box.left,
                    y1: box.top,
                    x2: box.right,
                    y2: box.bottom
                };
                if (this.boxInside(b, this.drawPoints))
                    child.classList.add('hover');
                else if (child.classList.contains('hover'))
                    child.classList.remove('hover');
            }
        }, 15),
        drawEnd(event) {
            if (!this.drawing || event.button !== 0)
                return;
            this.drawing = false;
            const children = this.$refs.explorer.children;
            const newActive = [];
            for (let i = 0, child = children.item(i); i < children.length; i++, child = children.item(i)) {
                if (!(child.classList.contains('folder') || child.classList.contains('file')))
                    continue;
                if (child.classList.contains('hover')) {
                    const itemMatch = /m-(.+)/.exec(child.id);
                    if (itemMatch && itemMatch[1])
                        newActive.push(itemMatch[1]);
                    child.classList.remove('hover');
                }
            }
            if (!(event.getModifierState('State') || event.shiftKey))
                this.active = {};
            for (const i of newActive)
                vue__WEBPACK_IMPORTED_MODULE_6__.default.set(this.active, i, true);
        },
        getPath(folder) {
            return this.rootRoute + this.dir + folder;
        },
        getLink(file) {
            return this.mapLink(file);
        }
    }
}));


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./src/components/loading/loading.ts?vue&type=script&lang=js&":
/*!***********************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./src/components/loading/loading.ts?vue&type=script&lang=js& ***!
  \***********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (vue__WEBPACK_IMPORTED_MODULE_0__.default.component('tiny-loading', {}));


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm.js");
/* harmony import */ var buefy__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! buefy */ "./node_modules/buefy/dist/esm/button.js");
/* harmony import */ var buefy__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! buefy */ "./node_modules/buefy/dist/esm/input.js");
/* harmony import */ var buefy__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! buefy */ "./node_modules/buefy/dist/esm/field.js");
/* harmony import */ var buefy__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! buefy */ "./node_modules/buefy/dist/esm/icon.js");
/* harmony import */ var buefy__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! buefy */ "./node_modules/buefy/dist/esm/loading.js");
/* harmony import */ var buefy__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! buefy */ "./node_modules/buefy/dist/esm/dialog.js");
/* harmony import */ var buefy__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! buefy */ "./node_modules/buefy/dist/esm/modal.js");
/* harmony import */ var buefy__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! buefy */ "./node_modules/buefy/dist/esm/dropdown.js");
/* harmony import */ var buefy__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! buefy */ "./node_modules/buefy/dist/esm/upload.js");
/* harmony import */ var _buefy_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./buefy.scss */ "./src/buefy.scss");
/* harmony import */ var _styles_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./styles.scss */ "./src/styles.scss");
/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util */ "./src/util.ts");
/* harmony import */ var _app_app__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/app */ "./src/app/app.vue");
/* harmony import */ var _components_loading_loading__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/loading/loading */ "./src/components/loading/loading.vue");
/* harmony import */ var _components_explorer_explorer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/explorer/explorer */ "./src/components/explorer/explorer.vue");
/* harmony import */ var _router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./router */ "./src/router.ts");

// @ts-ignore
Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_mdi_font_css_materialdesignicons_css"), __webpack_require__.e("node_modules_mdi_font_css_materialdesignicons_css")]).then(__webpack_require__.bind(__webpack_require__, /*! @mdi/font/css/materialdesignicons.css */ "./node_modules/@mdi/font/css/materialdesignicons.css"));








console.log('Environment:', "development");
vue__WEBPACK_IMPORTED_MODULE_7__.default.use(buefy__WEBPACK_IMPORTED_MODULE_8__.default);
vue__WEBPACK_IMPORTED_MODULE_7__.default.use(buefy__WEBPACK_IMPORTED_MODULE_9__.default);
vue__WEBPACK_IMPORTED_MODULE_7__.default.use(buefy__WEBPACK_IMPORTED_MODULE_10__.default);
vue__WEBPACK_IMPORTED_MODULE_7__.default.use(buefy__WEBPACK_IMPORTED_MODULE_11__.default);
vue__WEBPACK_IMPORTED_MODULE_7__.default.use(buefy__WEBPACK_IMPORTED_MODULE_12__.default);
vue__WEBPACK_IMPORTED_MODULE_7__.default.use(buefy__WEBPACK_IMPORTED_MODULE_13__.default);
vue__WEBPACK_IMPORTED_MODULE_7__.default.use(buefy__WEBPACK_IMPORTED_MODULE_14__.default);
vue__WEBPACK_IMPORTED_MODULE_7__.default.use(buefy__WEBPACK_IMPORTED_MODULE_15__.default);
vue__WEBPACK_IMPORTED_MODULE_7__.default.use(buefy__WEBPACK_IMPORTED_MODULE_16__.default);
const v = new vue__WEBPACK_IMPORTED_MODULE_7__.default({
    router: _router__WEBPACK_IMPORTED_MODULE_6__.default,
    el: '#app',
    components: { AppComponent: _app_app__WEBPACK_IMPORTED_MODULE_3__.default, TinyExplorer: _components_explorer_explorer__WEBPACK_IMPORTED_MODULE_5__.default },
    data: { loaded: false },
    render(h) {
        if (this.loaded) {
            return h(_app_app__WEBPACK_IMPORTED_MODULE_3__.default, { key: 'app' });
        }
        else
            return (0,_util__WEBPACK_IMPORTED_MODULE_2__.makeInitializerComponent)(h, _components_loading_loading__WEBPACK_IMPORTED_MODULE_4__.default);
    }
});
(async () => {
    // hmmm
})().then(() => {
    console.log('Initialized Main!');
    v.loaded = true;
}, e => {
    console.error('Error initializing main: ', e.stack || e.message || e);
    buefy__WEBPACK_IMPORTED_MODULE_13__.DialogProgrammatic.alert({
        title: 'Error',
        message: 'Error initializing main: ' + String(e.message || e),
        type: 'is-danger'
    });
});


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./src/pages/not-found/not-found.ts?vue&type=script&lang=js&":
/*!**********************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./src/pages/not-found/not-found.ts?vue&type=script&lang=js& ***!
  \**********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (vue__WEBPACK_IMPORTED_MODULE_0__.default.component('tiny-not-found', {}));


/***/ }),

/***/ "./src/router.ts":
/*!***********************!*\
  !*** ./src/router.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm.js");
/* harmony import */ var vue_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vue-router */ "./node_modules/vue-router/dist/vue-router.esm.js");
/* harmony import */ var _pages_not_found_not_found__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pages/not-found/not-found */ "./src/pages/not-found/not-found.vue");
/* harmony import */ var _services_data_bus__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./services/data-bus */ "./src/services/data-bus.ts");


const HomePage = () => __webpack_require__.e(/*! import() */ "src_pages_home_home_vue").then(__webpack_require__.bind(__webpack_require__, /*! ./pages/home/home */ "./src/pages/home/home.vue"));
const BrowsePage = () => __webpack_require__.e(/*! import() */ "src_pages_browse_browse_vue").then(__webpack_require__.bind(__webpack_require__, /*! ./pages/browse/browse */ "./src/pages/browse/browse.vue"));
const SettingsPage = () => __webpack_require__.e(/*! import() */ "src_pages_settings_settings_vue").then(__webpack_require__.bind(__webpack_require__, /*! ./pages/settings/settings */ "./src/pages/settings/settings.vue"));
const LoginPage = () => __webpack_require__.e(/*! import() */ "src_pages_login_login_vue").then(__webpack_require__.bind(__webpack_require__, /*! ./pages/login/login */ "./src/pages/login/login.vue"));


vue__WEBPACK_IMPORTED_MODULE_2__.default.use(vue_router__WEBPACK_IMPORTED_MODULE_3__.default);
const router = new vue_router__WEBPACK_IMPORTED_MODULE_3__.default({
    mode: 'history',
    routes: [
        { path: '/', redirect: '/browse', name: 'home' },
        { path: '/browse**', component: BrowsePage, name: 'browse' },
        // { path: '/explore/:origin/:username/:share/**', component: ExplorePage, name: 'explore' }, // other's files
        { path: '/settings', component: SettingsPage, name: 'settings' },
        { path: '/login', component: LoginPage, name: 'login' },
        { path: '**', component: _pages_not_found_not_found__WEBPACK_IMPORTED_MODULE_0__.default, name: 'not-found' }
    ]
});
router.beforeEach((to, from, next) => {
    if (to.path !== from.path) {
        if (to.path.length > 1) {
            const sdir = [];
            let buff = '';
            to.path.slice(1).split('/').forEach(v => {
                if (!v)
                    buff += '/';
                else {
                    if (buff)
                        sdir.push(buff + v);
                    else
                        sdir.push(v);
                }
            });
            document.title = 'tiny files - ' + sdir.join(' - ');
        }
        else
            document.title = 'tiny files';
    }
    if (!_services_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.homeToken && !/^\/login/.test(to.path))
        next('/login?goto=' + to.fullPath);
    next();
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (router);


/***/ }),

/***/ "./src/services/data-bus.ts":
/*!**********************************!*\
  !*** ./src/services/data-bus.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
class DataBus {
    get privateScope() { return '/appdata/tiny-files'; }
    get publicScope() { return '/public/tiny-files'; }
    get homeUrl() { return localStorage.getItem('home_url'); }
    set homeUrl(url) { localStorage.setItem('home_url', url); }
    get homeToken() { return localStorage.getItem('home_token'); }
    set homeToken(sid) { localStorage.setItem('home_token', sid); }
    get storeUrl() { return localStorage.getItem('store_url'); }
    set storeUrl(url) { localStorage.setItem('store_url', url); }
    get storeToken() { return localStorage.getItem('store_token'); }
    set storeToken(sid) { localStorage.setItem('store_token', sid); }
    get storeScopes() { return JSON.parse(localStorage.getItem('store_scopes')); }
    set storeScopes(scopes) { localStorage.setItem('store_scopes', JSON.stringify(scopes)); }
    get dbUrl() { return localStorage.getItem('db_url'); }
    set dbUrl(url) { localStorage.setItem('db_url', url); }
    get dbToken() { return localStorage.getItem('db_token'); }
    set dbToken(sid) { localStorage.setItem('db_token', sid); }
    get infoArray() {
        return [
            { id: 'home', url: this.homeUrl, token: this.homeToken },
            { id: 'store', url: this.storeUrl, token: this.storeToken, scopes: this.storeScopes },
            { id: 'db', url: this.dbUrl, token: this.dbToken }
        ];
    }
    clear() {
        localStorage.clear();
    }
}
;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new DataBus());


/***/ }),

/***/ "./src/services/tiny-api.ts":
/*!**********************************!*\
  !*** ./src/services/tiny-api.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _data_bus__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./data-bus */ "./src/services/data-bus.ts");
/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util */ "./src/util.ts");



class TinyApi {
    constructor() {
        this._auth = Object.freeze({
            async login(origin, personal = true) {
                const spleet = origin.split('@');
                let username = '';
                if (spleet[1]) {
                    origin = spleet[1];
                    username = spleet[0];
                }
                _data_bus__WEBPACK_IMPORTED_MODULE_1__.default.homeUrl = location.protocol + '//' + origin;
                _data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeScopes = personal ? [_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.privateScope, _data_bus__WEBPACK_IMPORTED_MODULE_1__.default.publicScope] : ['/'];
                location.href = location.protocol + '//' + origin + '/auth/handshake/start'
                    + '?app=tiny-files'
                    + '&redirect=' + location.origin + '/login'
                    + '&scopes=home,store,db'
                    + (personal ? `&fileScopes=["${_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.privateScope}", "${_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.publicScope}"]` : '&fileScopes=["/"]')
                    + (username ? '&username=' + username : '');
            },
            async getTokens(origin, code) {
                const tokens = await axios__WEBPACK_IMPORTED_MODULE_0___default().post(origin + '/auth/token', {
                    app: 'tiny-files',
                    redirect: location.origin + '/login',
                    scopes: 'home,store,db',
                    code,
                    secret: 'keyboardcat'
                }).then(res => res.data, e => { (0,_util__WEBPACK_IMPORTED_MODULE_2__.handleError)(e); throw e; });
                for (const id of Object.keys(tokens)) {
                    _data_bus__WEBPACK_IMPORTED_MODULE_1__.default[id + 'Url'] = tokens[id].url;
                    _data_bus__WEBPACK_IMPORTED_MODULE_1__.default[id + 'Token'] = tokens[id].token;
                }
            },
            async refresh() {
                await Promise.all(_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.infoArray.map(({ id, url, token }) => axios__WEBPACK_IMPORTED_MODULE_0___default().get(`${url}/auth/refresh?sid=${token}`)
                    .then(res => _data_bus__WEBPACK_IMPORTED_MODULE_1__.default[id + 'Token'] = String(res.data), _util__WEBPACK_IMPORTED_MODULE_2__.handleError)));
            },
            async logout() {
                await Promise.all(_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.infoArray.map(({ url, token }) => axios__WEBPACK_IMPORTED_MODULE_0___default().post(`${url}/auth/logout?sid=${token}`)))
                    .catch(_util__WEBPACK_IMPORTED_MODULE_2__.handleError);
                _data_bus__WEBPACK_IMPORTED_MODULE_1__.default.clear();
            },
        });
        this._files = Object.freeze({
            /**
             * Read a file
             * @param {string} path the file path to read
             * @param {string} responseType (optional) the response type for axios to cast into
             */
            async read(path, responseType) {
                return axios__WEBPACK_IMPORTED_MODULE_0___default().get(_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeUrl + '/files' + path + '?sid=' + _data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeToken, { responseType })
                    .then(res => res.data)
                    .catch(e => { (0,_util__WEBPACK_IMPORTED_MODULE_2__.handleError)(e); throw e; });
            },
            /**
             * Get the href to read the file
             * @param {string} path the file path to read
             */
            getReadUrl(path) {
                return _data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeUrl + '/files' + path + '?sid=' + _data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeToken;
            },
            /**
             * Write a raw stream
             * @param {string} path the file path
             * @param {ArrayBuffer } data the data to write
             */
            async write(path, data, contentType, onUploadProgress = () => null) {
                await axios__WEBPACK_IMPORTED_MODULE_0___default().put(`${_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeUrl}/files${path}?sid=${_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeToken}${contentType ? '&contentType=' + contentType : ''}`, data, { headers: contentType ? { 'Content-Type': contentType } : undefined, onUploadProgress })
                    .catch(e => { (0,_util__WEBPACK_IMPORTED_MODULE_2__.handleError)(e); throw e; });
            },
            /**
             * Write a file
             * @param {string} path the file path
             * @param {File} file the file to write
             */
            async writeFile(path, file, onUploadProgress = () => null) {
                const formData = new FormData();
                formData.append('file', file);
                await axios__WEBPACK_IMPORTED_MODULE_0___default().put(_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeUrl + '/files' + path + '?sid=' + _data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeToken, formData, { headers: { 'Content-Type': 'multipart/form-data' }, onUploadProgress })
                    .catch(e => { (0,_util__WEBPACK_IMPORTED_MODULE_2__.handleError)(e); throw e; });
            },
            /**
             * Delete a file
             * @param {string} path the file path
             */
            async delete(path) {
                await axios__WEBPACK_IMPORTED_MODULE_0___default().delete(_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeUrl + '/files' + path + '?sid=' + _data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeToken)
                    .catch(e => { (0,_util__WEBPACK_IMPORTED_MODULE_2__.handleError)(e); throw e; });
            },
            async listFiles(path, advance) {
                return axios__WEBPACK_IMPORTED_MODULE_0___default().get(`${_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeUrl}/list-files${path.length > 0 && !path.startsWith('/') ? '/' : ''}${path}`
                    + `?sid=${_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeToken}${advance ? '&advance=true' : ''}`)
                    .then(res => res.data)
                    .catch(e => { (0,_util__WEBPACK_IMPORTED_MODULE_2__.handleError)(e); throw e; });
            },
            async getStorageStats() {
                return axios__WEBPACK_IMPORTED_MODULE_0___default().get(_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeUrl + '/storage-stats' + '?sid=' + _data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeToken)
                    .then(res => res.data)
                    .catch(e => { (0,_util__WEBPACK_IMPORTED_MODULE_2__.handleError)(e); throw e; });
            },
            async readPublic(user, path, responseType) {
                return axios__WEBPACK_IMPORTED_MODULE_0___default().get(_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeUrl + '/public/' + user + path, { responseType })
                    .then(res => res.data)
                    .catch(e => { (0,_util__WEBPACK_IMPORTED_MODULE_2__.handleError)(e); throw e; });
            },
            getPublicReadUrl(user, path) {
                return _data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeUrl + '/public/' + user + path;
            }
        });
    }
    get auth() { return this._auth; }
    async deleteSelf() {
        await Promise.all(_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.infoArray.map(({ url, token }) => axios__WEBPACK_IMPORTED_MODULE_0___default().delete(`${url}/self?sid=${token}`)
            .catch(_util__WEBPACK_IMPORTED_MODULE_2__.handleError)));
        _data_bus__WEBPACK_IMPORTED_MODULE_1__.default.clear();
    }
    get files() { return this._files; }
}
;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new TinyApi());


/***/ }),

/***/ "./src/util.ts":
/*!*********************!*\
  !*** ./src/util.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "makeCenterStyle": () => (/* binding */ makeCenterStyle),
/* harmony export */   "makeInitializerComponent": () => (/* binding */ makeInitializerComponent),
/* harmony export */   "handleError": () => (/* binding */ handleError),
/* harmony export */   "getFileIcon": () => (/* binding */ getFileIcon)
/* harmony export */ });
/* harmony import */ var buefy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! buefy */ "./node_modules/buefy/dist/esm/dialog.js");

function makeCenterStyle() {
    return {
        display: 'flex',
        flexFlow: 'column',
        flexWrap: 'nowrap',
        alignItems: 'center',
        justifyContent: 'center',
        position: 'fixed',
        top: '0',
        left: '0',
        height: '100%',
        width: '100%',
        backgroundColor: 'transparent'
    };
}
function makeInitializerComponent(h, loadingComponent) {
    return h('div', { staticStyle: makeCenterStyle() }, [h(loadingComponent)]);
}
async function handleError(e, action) {
    var _a, _b;
    const message = ((_b = (_a = e.response) === null || _a === void 0 ? void 0 : _a.data) === null || _b === void 0 ? void 0 : _b.message) || e.message || String(e);
    return new Promise(res => buefy__WEBPACK_IMPORTED_MODULE_0__.DialogProgrammatic.alert({
        title: action ? 'Error ' + action : 'Error',
        message,
        type: 'is-danger',
        hasIcon: true,
        onConfirm: () => res(),
        onCancel: () => res()
    }));
}
function getFileIcon(contentType) {
    if (contentType.startsWith('application/json'))
        return { fileIcon: 'file-code', fileIconColor: '#f44336' };
    if (contentType.startsWith('application/octet-stream'))
        return { fileIcon: 'file-question', fileIconColor: '#BDBDBD' };
    if (contentType.startsWith('text'))
        return { fileIcon: 'file-document', fileIconColor: '#3F51B5' };
    if (contentType.startsWith('application/pdf'))
        return { fileIcon: 'file-pdf', fileIconColor: '#3F51B5' };
    if (contentType.startsWith('audio') || contentType.startsWith('video/ogg'))
        return { fileIcon: 'file-music', fileIconColor: '#E91E63' };
    if (contentType.startsWith('image'))
        return { fileIcon: 'file-image', fileIconColor: '#4CAF50' };
    if (contentType.startsWith('video'))
        return { fileIcon: 'file-video', fileIconColor: '#673AB7' };
    return { fileIcon: 'file', fileIconColor: '#78909C' };
}


/***/ }),

/***/ "./src/app/app.vue":
/*!*************************!*\
  !*** ./src/app/app.vue ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _app_vue_vue_type_template_id_5d87e7ea___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./app.vue?vue&type=template&id=5d87e7ea& */ "./src/app/app.vue?vue&type=template&id=5d87e7ea&");
/* harmony import */ var _app_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./app.ts?vue&type=script&lang=js& */ "./src/app/app.ts?vue&type=script&lang=js&");
/* harmony import */ var _app_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app.vue?vue&type=style&index=0&lang=scss& */ "./src/app/app.vue?vue&type=style&index=0&lang=scss&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__.default)(
  _app_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__.default,
  _app_vue_vue_type_template_id_5d87e7ea___WEBPACK_IMPORTED_MODULE_0__.render,
  _app_vue_vue_type_template_id_5d87e7ea___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/app.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/components/explorer/explorer.vue":
/*!**********************************************!*\
  !*** ./src/components/explorer/explorer.vue ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _explorer_vue_vue_type_template_id_499758af___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./explorer.vue?vue&type=template&id=499758af& */ "./src/components/explorer/explorer.vue?vue&type=template&id=499758af&");
/* harmony import */ var _explorer_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./explorer.ts?vue&type=script&lang=js& */ "./src/components/explorer/explorer.ts?vue&type=script&lang=js&");
/* harmony import */ var _explorer_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./explorer.vue?vue&type=style&index=0&lang=scss& */ "./src/components/explorer/explorer.vue?vue&type=style&index=0&lang=scss&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__.default)(
  _explorer_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__.default,
  _explorer_vue_vue_type_template_id_499758af___WEBPACK_IMPORTED_MODULE_0__.render,
  _explorer_vue_vue_type_template_id_499758af___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/components/explorer/explorer.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/components/loading/loading.vue":
/*!********************************************!*\
  !*** ./src/components/loading/loading.vue ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _loading_vue_vue_type_template_id_d960adee___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./loading.vue?vue&type=template&id=d960adee& */ "./src/components/loading/loading.vue?vue&type=template&id=d960adee&");
/* harmony import */ var _loading_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./loading.ts?vue&type=script&lang=js& */ "./src/components/loading/loading.ts?vue&type=script&lang=js&");
/* harmony import */ var _loading_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./loading.vue?vue&type=style&index=0&lang=scss& */ "./src/components/loading/loading.vue?vue&type=style&index=0&lang=scss&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__.default)(
  _loading_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__.default,
  _loading_vue_vue_type_template_id_d960adee___WEBPACK_IMPORTED_MODULE_0__.render,
  _loading_vue_vue_type_template_id_d960adee___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/components/loading/loading.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/pages/not-found/not-found.vue":
/*!*******************************************!*\
  !*** ./src/pages/not-found/not-found.vue ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _not_found_vue_vue_type_template_id_64f45f6d___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./not-found.vue?vue&type=template&id=64f45f6d& */ "./src/pages/not-found/not-found.vue?vue&type=template&id=64f45f6d&");
/* harmony import */ var _not_found_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./not-found.ts?vue&type=script&lang=js& */ "./src/pages/not-found/not-found.ts?vue&type=script&lang=js&");
/* harmony import */ var _not_found_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./not-found.vue?vue&type=style&index=0&lang=scss& */ "./src/pages/not-found/not-found.vue?vue&type=style&index=0&lang=scss&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__.default)(
  _not_found_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__.default,
  _not_found_vue_vue_type_template_id_64f45f6d___WEBPACK_IMPORTED_MODULE_0__.render,
  _not_found_vue_vue_type_template_id_64f45f6d___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/pages/not-found/not-found.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/app.vue?vue&type=style&index=0&lang=scss&":
/*!***********************************************************!*\
  !*** ./src/app/app.vue?vue&type=style&index=0&lang=scss& ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_clonedRuleSet_2_0_rules_0_use_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_app_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app.vue?vue&type=style&index=0&lang=scss& */ "./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/app.vue?vue&type=style&index=0&lang=scss&");


/***/ }),

/***/ "./src/components/explorer/explorer.vue?vue&type=style&index=0&lang=scss&":
/*!********************************************************************************!*\
  !*** ./src/components/explorer/explorer.vue?vue&type=style&index=0&lang=scss& ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_clonedRuleSet_2_0_rules_0_use_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_explorer_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./explorer.vue?vue&type=style&index=0&lang=scss& */ "./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/explorer/explorer.vue?vue&type=style&index=0&lang=scss&");


/***/ }),

/***/ "./src/components/loading/loading.vue?vue&type=style&index=0&lang=scss&":
/*!******************************************************************************!*\
  !*** ./src/components/loading/loading.vue?vue&type=style&index=0&lang=scss& ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_clonedRuleSet_2_0_rules_0_use_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loading.vue?vue&type=style&index=0&lang=scss& */ "./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/loading/loading.vue?vue&type=style&index=0&lang=scss&");


/***/ }),

/***/ "./src/pages/not-found/not-found.vue?vue&type=style&index=0&lang=scss&":
/*!*****************************************************************************!*\
  !*** ./src/pages/not-found/not-found.vue?vue&type=style&index=0&lang=scss& ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_clonedRuleSet_2_0_rules_0_use_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_not_found_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./not-found.vue?vue&type=style&index=0&lang=scss& */ "./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/pages/not-found/not-found.vue?vue&type=style&index=0&lang=scss&");


/***/ }),

/***/ "./src/app/app.ts?vue&type=script&lang=js&":
/*!*************************************************!*\
  !*** ./src/app/app.ts?vue&type=script&lang=js& ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_app_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./app.ts?vue&type=script&lang=js& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./src/app/app.ts?vue&type=script&lang=js&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_app_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/components/explorer/explorer.ts?vue&type=script&lang=js&":
/*!**********************************************************************!*\
  !*** ./src/components/explorer/explorer.ts?vue&type=script&lang=js& ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_explorer_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./explorer.ts?vue&type=script&lang=js& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./src/components/explorer/explorer.ts?vue&type=script&lang=js&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_explorer_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/components/loading/loading.ts?vue&type=script&lang=js&":
/*!********************************************************************!*\
  !*** ./src/components/loading/loading.ts?vue&type=script&lang=js& ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_loading_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./loading.ts?vue&type=script&lang=js& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./src/components/loading/loading.ts?vue&type=script&lang=js&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_loading_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/pages/not-found/not-found.ts?vue&type=script&lang=js&":
/*!*******************************************************************!*\
  !*** ./src/pages/not-found/not-found.ts?vue&type=script&lang=js& ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_not_found_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./not-found.ts?vue&type=script&lang=js& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./src/pages/not-found/not-found.ts?vue&type=script&lang=js&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_not_found_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/app.vue?vue&type=template&id=5d87e7ea&":
/*!********************************************************!*\
  !*** ./src/app/app.vue?vue&type=template&id=5d87e7ea& ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_app_vue_vue_type_template_id_5d87e7ea___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_app_vue_vue_type_template_id_5d87e7ea___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_app_vue_vue_type_template_id_5d87e7ea___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app.vue?vue&type=template&id=5d87e7ea& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/app.vue?vue&type=template&id=5d87e7ea&");


/***/ }),

/***/ "./src/components/explorer/explorer.vue?vue&type=template&id=499758af&":
/*!*****************************************************************************!*\
  !*** ./src/components/explorer/explorer.vue?vue&type=template&id=499758af& ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_explorer_vue_vue_type_template_id_499758af___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_explorer_vue_vue_type_template_id_499758af___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_explorer_vue_vue_type_template_id_499758af___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./explorer.vue?vue&type=template&id=499758af& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/explorer/explorer.vue?vue&type=template&id=499758af&");


/***/ }),

/***/ "./src/components/loading/loading.vue?vue&type=template&id=d960adee&":
/*!***************************************************************************!*\
  !*** ./src/components/loading/loading.vue?vue&type=template&id=d960adee& ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_template_id_d960adee___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_template_id_d960adee___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_template_id_d960adee___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loading.vue?vue&type=template&id=d960adee& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/loading/loading.vue?vue&type=template&id=d960adee&");


/***/ }),

/***/ "./src/pages/not-found/not-found.vue?vue&type=template&id=64f45f6d&":
/*!**************************************************************************!*\
  !*** ./src/pages/not-found/not-found.vue?vue&type=template&id=64f45f6d& ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_not_found_vue_vue_type_template_id_64f45f6d___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_not_found_vue_vue_type_template_id_64f45f6d___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_not_found_vue_vue_type_template_id_64f45f6d___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./not-found.vue?vue&type=template&id=64f45f6d& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/pages/not-found/not-found.vue?vue&type=template&id=64f45f6d&");


/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/app.vue?vue&type=template&id=5d87e7ea&":
/*!***********************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/app.vue?vue&type=template&id=5d87e7ea& ***!
  \***********************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    { attrs: { id: "app" } },
    [
      _vm.loggedIn
        ? _c(
            "b-dropdown",
            { attrs: { id: "account-dropdown", position: "is-bottom-left" } },
            [
              _c(
                "button",
                {
                  staticClass: "has-background-primary",
                  attrs: { slot: "trigger", id: "menu-fab" },
                  slot: "trigger"
                },
                [_c("b-icon", { attrs: { icon: "account" } })],
                1
              ),
              _vm._v(" "),
              _c(
                "b-dropdown-item",
                {
                  staticClass: "hover-info",
                  on: {
                    click: function($event) {
                      return _vm.settings()
                    }
                  }
                },
                [_vm._v("settings")]
              ),
              _vm._v(" "),
              _c(
                "b-dropdown-item",
                {
                  on: {
                    click: function($event) {
                      return _vm.logout()
                    }
                  }
                },
                [_vm._v("logout")]
              ),
              _vm._v(" "),
              _c(
                "b-dropdown-item",
                {
                  staticClass: "hover-danger",
                  on: {
                    click: function($event) {
                      return _vm.deleteSelf()
                    }
                  }
                },
                [
                  _c("b-icon", {
                    attrs: { icon: "alert-circle-outline", size: "is-small" }
                  }),
                  _vm._v(" delete self")
                ],
                1
              )
            ],
            1
          )
        : _vm._e(),
      _vm._v(" "),
      _c("router-view")
    ],
    1
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/explorer/explorer.vue?vue&type=template&id=499758af&":
/*!********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/explorer/explorer.vue?vue&type=template&id=499758af& ***!
  \********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", { attrs: { id: "tiny-explorer" } }, [
    _c("div", { attrs: { id: "header" } }, [
      _c("div", {
        staticClass: "has-background-primary",
        style: { width: (_vm.progress * 100).toFixed(2) + "%" },
        attrs: { id: "progress" }
      }),
      _vm._v(" "),
      _c(
        "div",
        { attrs: { id: "path" } },
        [
          _c(
            "button",
            {
              staticClass: "button is-small is-dark",
              staticStyle: { "margin-right": "0.5rem" },
              attrs: { disabled: _vm.splitDir.length <= 1 },
              on: {
                click: function($event) {
                  return _vm.goto(_vm.splitDir.length - 2)
                }
              }
            },
            [
              _c("b-icon", {
                staticStyle: { color: "#FFD54F" },
                attrs: { icon: "folder-upload" }
              })
            ],
            1
          ),
          _vm._v(" "),
          _vm._l(_vm.splitDir, function(d, i) {
            return [
              _c(
                "a",
                {
                  key: "a-" + i,
                  staticClass: "tag",
                  attrs: { title: d },
                  on: {
                    click: function($event) {
                      return _vm.goto(i)
                    }
                  }
                },
                [_c("span", [_vm._v(_vm._s(d))])]
              ),
              _vm._v(" "),
              i + 1 < _vm.splitDir.length
                ? _c(
                    "span",
                    { key: "s-" + i },
                    [_c("b-icon", { attrs: { icon: "chevron-right" } })],
                    1
                  )
                : _vm._e()
            ]
          })
        ],
        2
      ),
      _vm._v(" "),
      _c("div", { attrs: { id: "buttons" } }, [
        _c("div", {
          directives: [
            {
              name: "show",
              rawName: "v-show",
              value: _vm.working,
              expression: "working"
            }
          ],
          attrs: { id: "tiny-loading-small" }
        }),
        _vm._v(" "),
        _c(
          "button",
          {
            staticClass: "button is-small is-dark",
            attrs: {
              disabled: !_vm.anyActive || _vm.working,
              title: "Download"
            },
            on: {
              click: function($event) {
                return _vm.downloadSelected()
              }
            }
          },
          [_c("b-icon", { attrs: { icon: "download" } })],
          1
        )
      ])
    ]),
    _vm._v(" "),
    _c(
      "div",
      { staticClass: "exp-grid", attrs: { id: "explorer-header" } },
      [
        !_vm.viewOnly
          ? _c(
              "button",
              {
                staticClass: "button is-small is-dark",
                on: {
                  click: function($event) {
                    return _vm.newFolder()
                  }
                }
              },
              [
                _c("b-icon", {
                  staticStyle: { color: "#FFD54F" },
                  attrs: { icon: "folder-plus" }
                })
              ],
              1
            )
          : _vm._e(),
        _vm._v(" "),
        _c(
          "button",
          {
            staticClass: "button is-dark",
            on: {
              click: function($event) {
                return _vm.sort("name")
              }
            }
          },
          [
            _c("span", [_vm._v("Name")]),
            _vm._v(" "),
            _c("b-icon", {
              directives: [
                {
                  name: "show",
                  rawName: "v-show",
                  value: _vm.sortByName === "name",
                  expression: 'sortByName === "name"'
                }
              ],
              attrs: { icon: _vm.sortByDir ? "chevron-up" : "chevron-down" }
            })
          ],
          1
        ),
        _vm._v(" "),
        _c(
          "button",
          {
            staticClass: "button is-dark",
            on: {
              click: function($event) {
                return _vm.sort("size")
              }
            }
          },
          [
            _c("span", [_vm._v("Size")]),
            _vm._v(" "),
            _c("b-icon", {
              directives: [
                {
                  name: "show",
                  rawName: "v-show",
                  value: _vm.sortByName === "size",
                  expression: 'sortByName === "size"'
                }
              ],
              attrs: { icon: _vm.sortByDir ? "chevron-up" : "chevron-down" }
            })
          ],
          1
        ),
        _vm._v(" "),
        _c(
          "button",
          {
            staticClass: "button is-dark",
            on: {
              click: function($event) {
                return _vm.sort("mod")
              }
            }
          },
          [
            _c("span", [_vm._v("Last Modified")]),
            _vm._v(" "),
            _c("b-icon", {
              directives: [
                {
                  name: "show",
                  rawName: "v-show",
                  value: _vm.sortByName === "mod",
                  expression: 'sortByName === "mod"'
                }
              ],
              attrs: { icon: _vm.sortByDir ? "chevron-up" : "chevron-down" }
            })
          ],
          1
        ),
        _vm._v(" "),
        _c(
          "b-dropdown",
          { attrs: { "aria-role": "list", position: "is-bottom-left" } },
          [
            _c(
              "button",
              {
                staticClass: "dot-button hover-primary",
                attrs: { slot: "trigger" },
                slot: "trigger"
              },
              [_c("b-icon", { attrs: { icon: "dots-horizontal" } })],
              1
            ),
            _vm._v(" "),
            _c(
              "b-dropdown-item",
              {
                attrs: { "aria-role": "list-item" },
                on: {
                  click: function($event) {
                    return _vm.downloadDir(_vm.dir)
                  }
                }
              },
              [_vm._v("Download")]
            )
          ],
          1
        )
      ],
      1
    ),
    _vm._v(" "),
    _c(
      "div",
      { ref: "explorer", attrs: { id: "explorer" } },
      [
        _c(
          "div",
          {
            attrs: { id: "background" },
            on: {
              mousedown: function($event) {
                return _vm.drawStart($event)
              }
            }
          },
          [
            !_vm.index ||
            !_vm.index[_vm.dir] ||
            (_vm.index[_vm.dir].folders.length === 0 &&
              _vm.index[_vm.dir].files.length === 0)
              ? _c("h5", { staticClass: "subtitle is-5" }, [
                  _vm._v("\r\n        Nothing here...\r\n      ")
                ])
              : _vm._e()
          ]
        ),
        _vm._v(" "),
        _vm.index && _vm.index[_vm.dir]
          ? [
              _vm._l(_vm.sortedFolders, function(folder) {
                return _c("router-link", {
                  key: "/" + folder.name,
                  attrs: { to: _vm.getPath(folder.name), custom: "" },
                  scopedSlots: _vm._u(
                    [
                      {
                        key: "default",
                        fn: function(ref) {
                          var href = ref.href
                          return [
                            _c(
                              "a",
                              {
                                staticClass: "folder exp-grid",
                                class: {
                                  active: _vm.active["/" + folder.name],
                                  "last-active":
                                    _vm.lastActive === "/" + folder.name
                                },
                                attrs: { id: "m-/" + folder.name, href: href },
                                on: {
                                  click: function($event) {
                                    $event.preventDefault()
                                    $event.stopPropagation()
                                    return _vm.clickItem($event, folder, true)
                                  }
                                }
                              },
                              [
                                _c("b-icon", {
                                  staticStyle: { color: "#FFD54F" },
                                  attrs: {
                                    icon: "folder",
                                    title: folder.itemCount + " items"
                                  }
                                }),
                                _vm._v(" "),
                                _c(
                                  "div",
                                  { staticStyle: { "padding-left": "1em" } },
                                  [_c("span", [_vm._v(_vm._s(folder.name))])]
                                ),
                                _vm._v(" "),
                                _c("span", [_vm._v(_vm._s(folder.size))]),
                                _vm._v(" "),
                                _c("span", [
                                  _vm._v(_vm._s(folder.lastModified))
                                ]),
                                _vm._v(" "),
                                _c(
                                  "b-dropdown",
                                  {
                                    attrs: {
                                      "aria-role": "list",
                                      position: "is-bottom-left"
                                    }
                                  },
                                  [
                                    _c(
                                      "button",
                                      {
                                        staticClass: "dot-button",
                                        attrs: { slot: "trigger" },
                                        slot: "trigger"
                                      },
                                      [
                                        _c("b-icon", {
                                          attrs: { icon: "dots-horizontal" }
                                        })
                                      ],
                                      1
                                    ),
                                    _vm._v(" "),
                                    _c(
                                      "b-dropdown-item",
                                      {
                                        attrs: { "aria-role": "list-item" },
                                        on: {
                                          click: function($event) {
                                            return _vm.downloadDir(
                                              _vm.dir + folder.name + "/"
                                            )
                                          }
                                        }
                                      },
                                      [_vm._v("Download")]
                                    ),
                                    _vm._v(" "),
                                    !_vm.viewOnly
                                      ? [
                                          _c(
                                            "b-dropdown-item",
                                            {
                                              attrs: {
                                                "aria-role": "list-item"
                                              },
                                              on: {
                                                click: function($event) {
                                                  return _vm.$emit("delete", {
                                                    type: "folder",
                                                    path: folder.path
                                                  })
                                                }
                                              }
                                            },
                                            [_vm._v("Delete")]
                                          )
                                        ]
                                      : _vm._e()
                                  ],
                                  2
                                )
                              ],
                              1
                            )
                          ]
                        }
                      }
                    ],
                    null,
                    true
                  )
                })
              }),
              _vm._v(" "),
              _vm._l(_vm.sortedFiles, function(file) {
                return _c(
                  "a",
                  {
                    key: file.name,
                    staticClass: "file exp-grid",
                    class: {
                      active: _vm.active[file.name],
                      "last-active": _vm.lastActive === file.name
                    },
                    attrs: {
                      id: "m-" + file.name,
                      href: _vm.getLink(file.path)
                    },
                    on: {
                      click: function($event) {
                        $event.preventDefault()
                        $event.stopPropagation()
                        return _vm.clickItem($event, file)
                      }
                    }
                  },
                  [
                    _c("b-icon", {
                      style: { color: file.fileIconColor },
                      attrs: { icon: file.fileIcon, title: file.contentType }
                    }),
                    _vm._v(" "),
                    _c("div", { staticStyle: { "padding-left": "1em" } }, [
                      _c("span", [_vm._v(_vm._s(file.name))])
                    ]),
                    _vm._v(" "),
                    _c("span", [_vm._v(_vm._s(file.size))]),
                    _vm._v(" "),
                    _c("span", [_vm._v(_vm._s(file.lastModified))]),
                    _vm._v(" "),
                    _c(
                      "b-dropdown",
                      {
                        attrs: {
                          "aria-role": "list",
                          position: "is-bottom-left"
                        }
                      },
                      [
                        _c(
                          "button",
                          {
                            staticClass: "dot-button",
                            attrs: { slot: "trigger" },
                            slot: "trigger"
                          },
                          [
                            _c("b-icon", { attrs: { icon: "dots-horizontal" } })
                          ],
                          1
                        ),
                        _vm._v(" "),
                        _c(
                          "b-dropdown-item",
                          {
                            attrs: { "aria-role": "list-item" },
                            on: {
                              click: function($event) {
                                return _vm.openFile(file.path)
                              }
                            }
                          },
                          [_vm._v("Open")]
                        ),
                        _vm._v(" "),
                        !_vm.viewOnly
                          ? [
                              _c(
                                "b-dropdown-item",
                                {
                                  attrs: { "aria-role": "list-item" },
                                  on: {
                                    click: function($event) {
                                      return _vm.$emit("delete", {
                                        type: "file",
                                        path: file.path
                                      })
                                    }
                                  }
                                },
                                [_vm._v("Delete")]
                              )
                            ]
                          : _vm._e()
                      ],
                      2
                    )
                  ],
                  1
                )
              })
            ]
          : _vm._e(),
        _vm._v(" "),
        _c("div", {
          directives: [
            {
              name: "show",
              rawName: "v-show",
              value: _vm.drawing,
              expression: "drawing"
            }
          ],
          style: _vm.drawPos,
          attrs: { id: "selectbox" }
        })
      ],
      2
    )
  ])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/loading/loading.vue?vue&type=template&id=d960adee&":
/*!******************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/loading/loading.vue?vue&type=template&id=d960adee& ***!
  \******************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", { attrs: { id: "tiny-loading" } })
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/pages/not-found/not-found.vue?vue&type=template&id=64f45f6d&":
/*!*****************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/pages/not-found/not-found.vue?vue&type=template&id=64f45f6d& ***!
  \*****************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    { staticClass: "content", attrs: { id: "tiny-not-found" } },
    [
      _c("h1", [_vm._v("404 Not Found")]),
      _vm._v(" "),
      _c(
        "p",
        [
          _vm._v("Couldn't find the page you were looking for. Try going "),
          _c("router-link", { attrs: { to: "/" } }, [_vm._v("Home")]),
          _vm._v("?")
        ],
        1
      )
    ]
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		if(__webpack_module_cache__[moduleId]) {
/******/ 			return __webpack_module_cache__[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			loaded: false,
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/******/ 	// the startup function
/******/ 	// It's empty as some runtime module handles the default behavior
/******/ 	__webpack_require__.x = x => {};
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/ensure chunk */
/******/ 	(() => {
/******/ 		__webpack_require__.f = {};
/******/ 		// This file contains only the entry chunk.
/******/ 		// The chunk loading function for additional chunks
/******/ 		__webpack_require__.e = (chunkId) => {
/******/ 			return Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {
/******/ 				__webpack_require__.f[key](chunkId, promises);
/******/ 				return promises;
/******/ 			}, []));
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/get javascript chunk filename */
/******/ 	(() => {
/******/ 		// This function allow to reference async chunks
/******/ 		__webpack_require__.u = (chunkId) => {
/******/ 			// return url for filenames based on template
/******/ 			return "" + chunkId + "." + {"vendors-node_modules_mdi_font_css_materialdesignicons_css":"f663ebf0a6673477e1a9","node_modules_mdi_font_css_materialdesignicons_css":"9af93860b0ad0bcc4f4e","src_pages_home_home_vue":"770e2ad506ae2f0e90e2","src_pages_browse_browse_vue":"3ae46d6ab90287fdfa24","src_pages_settings_settings_vue":"383e9abbd5801e418091","src_pages_login_login_vue":"74d0ac1291830db5cf89"}[chunkId] + ".js";
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/get mini-css chunk filename */
/******/ 	(() => {
/******/ 		// This function allow to reference all chunks
/******/ 		__webpack_require__.miniCssF = (chunkId) => {
/******/ 			// return url for filenames based on template
/******/ 			return "" + chunkId + ".css";
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/load script */
/******/ 	(() => {
/******/ 		var inProgress = {};
/******/ 		var dataWebpackPrefix = "tiny-files:";
/******/ 		// loadScript function to load a script via script tag
/******/ 		__webpack_require__.l = (url, done, key, chunkId) => {
/******/ 			if(inProgress[url]) { inProgress[url].push(done); return; }
/******/ 			var script, needAttach;
/******/ 			if(key !== undefined) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				for(var i = 0; i < scripts.length; i++) {
/******/ 					var s = scripts[i];
/******/ 					if(s.getAttribute("src") == url || s.getAttribute("data-webpack") == dataWebpackPrefix + key) { script = s; break; }
/******/ 				}
/******/ 			}
/******/ 			if(!script) {
/******/ 				needAttach = true;
/******/ 				script = document.createElement('script');
/******/ 		
/******/ 				script.charset = 'utf-8';
/******/ 				script.timeout = 120;
/******/ 				if (__webpack_require__.nc) {
/******/ 					script.setAttribute("nonce", __webpack_require__.nc);
/******/ 				}
/******/ 				script.setAttribute("data-webpack", dataWebpackPrefix + key);
/******/ 				script.src = url;
/******/ 			}
/******/ 			inProgress[url] = [done];
/******/ 			var onScriptComplete = (prev, event) => {
/******/ 				// avoid mem leaks in IE.
/******/ 				script.onerror = script.onload = null;
/******/ 				clearTimeout(timeout);
/******/ 				var doneFns = inProgress[url];
/******/ 				delete inProgress[url];
/******/ 				script.parentNode && script.parentNode.removeChild(script);
/******/ 				doneFns && doneFns.forEach((fn) => (fn(event)));
/******/ 				if(prev) return prev(event);
/******/ 			}
/******/ 			;
/******/ 			var timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);
/******/ 			script.onerror = onScriptComplete.bind(null, script.onerror);
/******/ 			script.onload = onScriptComplete.bind(null, script.onload);
/******/ 			needAttach && document.head.appendChild(script);
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/node module decorator */
/******/ 	(() => {
/******/ 		__webpack_require__.nmd = (module) => {
/******/ 			module.paths = [];
/******/ 			if (!module.children) module.children = [];
/******/ 			return module;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		__webpack_require__.p = "";
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/css loading */
/******/ 	(() => {
/******/ 		var createStylesheet = (chunkId, fullhref, resolve, reject) => {
/******/ 			var linkTag = document.createElement("link");
/******/ 		
/******/ 			linkTag.rel = "stylesheet";
/******/ 			linkTag.type = "text/css";
/******/ 			var onLinkComplete = (event) => {
/******/ 				// avoid mem leaks.
/******/ 				linkTag.onerror = linkTag.onload = null;
/******/ 				if (event.type === 'load') {
/******/ 					resolve();
/******/ 				} else {
/******/ 					var errorType = event && (event.type === 'load' ? 'missing' : event.type);
/******/ 					var realHref = event && event.target && event.target.href || fullhref;
/******/ 					var err = new Error("Loading CSS chunk " + chunkId + " failed.\n(" + realHref + ")");
/******/ 					err.code = "CSS_CHUNK_LOAD_FAILED";
/******/ 					err.type = errorType;
/******/ 					err.request = realHref;
/******/ 					linkTag.parentNode.removeChild(linkTag)
/******/ 					reject(err);
/******/ 				}
/******/ 			}
/******/ 			linkTag.onerror = linkTag.onload = onLinkComplete;
/******/ 			linkTag.href = fullhref;
/******/ 		
/******/ 			document.head.appendChild(linkTag);
/******/ 			return linkTag;
/******/ 		};
/******/ 		var findStylesheet = (href, fullhref) => {
/******/ 			var existingLinkTags = document.getElementsByTagName("link");
/******/ 			for(var i = 0; i < existingLinkTags.length; i++) {
/******/ 				var tag = existingLinkTags[i];
/******/ 				var dataHref = tag.getAttribute("data-href") || tag.getAttribute("href");
/******/ 				if(tag.rel === "stylesheet" && (dataHref === href || dataHref === fullhref)) return tag;
/******/ 			}
/******/ 			var existingStyleTags = document.getElementsByTagName("style");
/******/ 			for(var i = 0; i < existingStyleTags.length; i++) {
/******/ 				var tag = existingStyleTags[i];
/******/ 				var dataHref = tag.getAttribute("data-href");
/******/ 				if(dataHref === href || dataHref === fullhref) return tag;
/******/ 			}
/******/ 		};
/******/ 		var loadStylesheet = (chunkId) => {
/******/ 			return new Promise((resolve, reject) => {
/******/ 				var href = __webpack_require__.miniCssF(chunkId);
/******/ 				var fullhref = __webpack_require__.p + href;
/******/ 				if(findStylesheet(href, fullhref)) return resolve();
/******/ 				createStylesheet(chunkId, fullhref, resolve, reject);
/******/ 			});
/******/ 		}
/******/ 		// object to store loaded CSS chunks
/******/ 		var installedCssChunks = {
/******/ 			"tiny-files": 0
/******/ 		};
/******/ 		
/******/ 		__webpack_require__.f.miniCss = (chunkId, promises) => {
/******/ 			var cssChunks = {"vendors-node_modules_mdi_font_css_materialdesignicons_css":1,"src_pages_home_home_vue":1,"src_pages_browse_browse_vue":1,"src_pages_settings_settings_vue":1,"src_pages_login_login_vue":1};
/******/ 			if(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);
/******/ 			else if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {
/******/ 				promises.push(installedCssChunks[chunkId] = loadStylesheet(chunkId).then(() => {
/******/ 					installedCssChunks[chunkId] = 0;
/******/ 				}, (e) => {
/******/ 					delete installedCssChunks[chunkId];
/******/ 					throw e;
/******/ 				}));
/******/ 			}
/******/ 		};
/******/ 		
/******/ 		// no hmr
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		// no baseURI
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// Promise = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"tiny-files": 0
/******/ 		};
/******/ 		
/******/ 		var deferredModules = [
/******/ 			["./src/main.ts","vendors-node_modules_axios_index_js-node_modules_buefy_dist_esm_button_js-node_modules_buefy_-3e984b"]
/******/ 		];
/******/ 		__webpack_require__.f.j = (chunkId, promises) => {
/******/ 				// JSONP chunk loading for javascript
/******/ 				var installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;
/******/ 				if(installedChunkData !== 0) { // 0 means "already installed".
/******/ 		
/******/ 					// a Promise means "currently loading".
/******/ 					if(installedChunkData) {
/******/ 						promises.push(installedChunkData[2]);
/******/ 					} else {
/******/ 						if("vendors-node_modules_mdi_font_css_materialdesignicons_css" != chunkId) {
/******/ 							// setup Promise in chunk cache
/******/ 							var promise = new Promise((resolve, reject) => {
/******/ 								installedChunkData = installedChunks[chunkId] = [resolve, reject];
/******/ 							});
/******/ 							promises.push(installedChunkData[2] = promise);
/******/ 		
/******/ 							// start chunk loading
/******/ 							var url = __webpack_require__.p + __webpack_require__.u(chunkId);
/******/ 							// create error before stack unwound to get useful stacktrace later
/******/ 							var error = new Error();
/******/ 							var loadingEnded = (event) => {
/******/ 								if(__webpack_require__.o(installedChunks, chunkId)) {
/******/ 									installedChunkData = installedChunks[chunkId];
/******/ 									if(installedChunkData !== 0) installedChunks[chunkId] = undefined;
/******/ 									if(installedChunkData) {
/******/ 										var errorType = event && (event.type === 'load' ? 'missing' : event.type);
/******/ 										var realSrc = event && event.target && event.target.src;
/******/ 										error.message = 'Loading chunk ' + chunkId + ' failed.\n(' + errorType + ': ' + realSrc + ')';
/******/ 										error.name = 'ChunkLoadError';
/******/ 										error.type = errorType;
/******/ 										error.request = realSrc;
/******/ 										installedChunkData[1](error);
/******/ 									}
/******/ 								}
/******/ 							};
/******/ 							__webpack_require__.l(url, loadingEnded, "chunk-" + chunkId, chunkId);
/******/ 						} else installedChunks[chunkId] = 0;
/******/ 					}
/******/ 				}
/******/ 		};
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		var checkDeferredModules = x => {};
/******/ 		
/******/ 		// install a JSONP callback for chunk loading
/******/ 		var webpackJsonpCallback = (parentChunkLoadingFunction, data) => {
/******/ 			var [chunkIds, moreModules, runtime, executeModules] = data;
/******/ 			// add "moreModules" to the modules object,
/******/ 			// then flag all "chunkIds" as loaded and fire callback
/******/ 			var moduleId, chunkId, i = 0, resolves = [];
/******/ 			for(;i < chunkIds.length; i++) {
/******/ 				chunkId = chunkIds[i];
/******/ 				if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 					resolves.push(installedChunks[chunkId][0]);
/******/ 				}
/******/ 				installedChunks[chunkId] = 0;
/******/ 			}
/******/ 			for(moduleId in moreModules) {
/******/ 				if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 					__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 				}
/******/ 			}
/******/ 			if(runtime) runtime(__webpack_require__);
/******/ 			if(parentChunkLoadingFunction) parentChunkLoadingFunction(data);
/******/ 			while(resolves.length) {
/******/ 				resolves.shift()();
/******/ 			}
/******/ 		
/******/ 			// add entry modules from loaded chunk to deferred list
/******/ 			if(executeModules) deferredModules.push.apply(deferredModules, executeModules);
/******/ 		
/******/ 			// run deferred modules when all chunks ready
/******/ 			return checkDeferredModules();
/******/ 		}
/******/ 		
/******/ 		var chunkLoadingGlobal = self["webpackChunktiny_files"] = self["webpackChunktiny_files"] || [];
/******/ 		chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));
/******/ 		chunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));
/******/ 		
/******/ 		function checkDeferredModulesImpl() {
/******/ 			var result;
/******/ 			for(var i = 0; i < deferredModules.length; i++) {
/******/ 				var deferredModule = deferredModules[i];
/******/ 				var fulfilled = true;
/******/ 				for(var j = 1; j < deferredModule.length; j++) {
/******/ 					var depId = deferredModule[j];
/******/ 					if(installedChunks[depId] !== 0) fulfilled = false;
/******/ 				}
/******/ 				if(fulfilled) {
/******/ 					deferredModules.splice(i--, 1);
/******/ 					result = __webpack_require__(__webpack_require__.s = deferredModule[0]);
/******/ 				}
/******/ 			}
/******/ 			if(deferredModules.length === 0) {
/******/ 				__webpack_require__.x();
/******/ 				__webpack_require__.x = x => {};
/******/ 			}
/******/ 			return result;
/******/ 		}
/******/ 		var startup = __webpack_require__.x;
/******/ 		__webpack_require__.x = () => {
/******/ 			// reset startup function so it can be called again when more startup code is added
/******/ 			__webpack_require__.x = startup || (x => {});
/******/ 			return (checkDeferredModules = checkDeferredModulesImpl)();
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	// run startup
/******/ 	__webpack_require__.x();
/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90aW55LWZpbGVzLy4vc3JjL2J1ZWZ5LnNjc3M/YTk4NiIsIndlYnBhY2s6Ly90aW55LWZpbGVzLy4vc3JjL3N0eWxlcy5zY3NzP2UxNDciLCJ3ZWJwYWNrOi8vdGlueS1maWxlcy8uL3NyYy9hcHAvYXBwLnZ1ZT9mODkxIiwid2VicGFjazovL3RpbnktZmlsZXMvLi9zcmMvY29tcG9uZW50cy9leHBsb3Jlci9leHBsb3Jlci52dWU/NDAyZCIsIndlYnBhY2s6Ly90aW55LWZpbGVzLy4vc3JjL2NvbXBvbmVudHMvbG9hZGluZy9sb2FkaW5nLnZ1ZT9iNjdjIiwid2VicGFjazovL3RpbnktZmlsZXMvLi9zcmMvcGFnZXMvbm90LWZvdW5kL25vdC1mb3VuZC52dWU/NDI2YSIsIndlYnBhY2s6Ly90aW55LWZpbGVzLy4vc3JjL2FwcC9hcHAudHMiLCJ3ZWJwYWNrOi8vdGlueS1maWxlcy8uL3NyYy9jb21wb25lbnRzL2V4cGxvcmVyL2V4cGxvcmVyLnRzIiwid2VicGFjazovL3RpbnktZmlsZXMvLi9zcmMvY29tcG9uZW50cy9sb2FkaW5nL2xvYWRpbmcudHMiLCJ3ZWJwYWNrOi8vdGlueS1maWxlcy8uL3NyYy9tYWluLnRzIiwid2VicGFjazovL3RpbnktZmlsZXMvLi9zcmMvcGFnZXMvbm90LWZvdW5kL25vdC1mb3VuZC50cyIsIndlYnBhY2s6Ly90aW55LWZpbGVzLy4vc3JjL3JvdXRlci50cyIsIndlYnBhY2s6Ly90aW55LWZpbGVzLy4vc3JjL3NlcnZpY2VzL2RhdGEtYnVzLnRzIiwid2VicGFjazovL3RpbnktZmlsZXMvLi9zcmMvc2VydmljZXMvdGlueS1hcGkudHMiLCJ3ZWJwYWNrOi8vdGlueS1maWxlcy8uL3NyYy91dGlsLnRzIiwid2VicGFjazovL3RpbnktZmlsZXMvLi9zcmMvYXBwL2FwcC52dWU/MjdhYSIsIndlYnBhY2s6Ly90aW55LWZpbGVzLy4vc3JjL2NvbXBvbmVudHMvZXhwbG9yZXIvZXhwbG9yZXIudnVlPzVhZTgiLCJ3ZWJwYWNrOi8vdGlueS1maWxlcy8uL3NyYy9jb21wb25lbnRzL2xvYWRpbmcvbG9hZGluZy52dWU/YzU1MyIsIndlYnBhY2s6Ly90aW55LWZpbGVzLy4vc3JjL3BhZ2VzL25vdC1mb3VuZC9ub3QtZm91bmQudnVlP2Q5MDgiLCJ3ZWJwYWNrOi8vdGlueS1maWxlcy8uL3NyYy9hcHAvYXBwLnRzPzQxNDYiLCJ3ZWJwYWNrOi8vdGlueS1maWxlcy8uL3NyYy9jb21wb25lbnRzL2V4cGxvcmVyL2V4cGxvcmVyLnRzPzlkNjAiLCJ3ZWJwYWNrOi8vdGlueS1maWxlcy8uL3NyYy9jb21wb25lbnRzL2xvYWRpbmcvbG9hZGluZy50cz9jMzcyIiwid2VicGFjazovL3RpbnktZmlsZXMvLi9zcmMvcGFnZXMvbm90LWZvdW5kL25vdC1mb3VuZC50cz8xN2IzIiwid2VicGFjazovL3RpbnktZmlsZXMvLi9zcmMvYXBwL2FwcC52dWU/NjllNSIsIndlYnBhY2s6Ly90aW55LWZpbGVzLy4vc3JjL2NvbXBvbmVudHMvZXhwbG9yZXIvZXhwbG9yZXIudnVlP2YxNjMiLCJ3ZWJwYWNrOi8vdGlueS1maWxlcy8uL3NyYy9jb21wb25lbnRzL2xvYWRpbmcvbG9hZGluZy52dWU/MmI4MiIsIndlYnBhY2s6Ly90aW55LWZpbGVzLy4vc3JjL3BhZ2VzL25vdC1mb3VuZC9ub3QtZm91bmQudnVlP2Y1NDgiLCJ3ZWJwYWNrOi8vdGlueS1maWxlcy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly90aW55LWZpbGVzL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL3RpbnktZmlsZXMvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3RpbnktZmlsZXMvd2VicGFjay9ydW50aW1lL2Vuc3VyZSBjaHVuayIsIndlYnBhY2s6Ly90aW55LWZpbGVzL3dlYnBhY2svcnVudGltZS9nZXQgamF2YXNjcmlwdCBjaHVuayBmaWxlbmFtZSIsIndlYnBhY2s6Ly90aW55LWZpbGVzL3dlYnBhY2svcnVudGltZS9nZXQgbWluaS1jc3MgY2h1bmsgZmlsZW5hbWUiLCJ3ZWJwYWNrOi8vdGlueS1maWxlcy93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL3RpbnktZmlsZXMvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly90aW55LWZpbGVzL3dlYnBhY2svcnVudGltZS9sb2FkIHNjcmlwdCIsIndlYnBhY2s6Ly90aW55LWZpbGVzL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vdGlueS1maWxlcy93ZWJwYWNrL3J1bnRpbWUvbm9kZSBtb2R1bGUgZGVjb3JhdG9yIiwid2VicGFjazovL3RpbnktZmlsZXMvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vdGlueS1maWxlcy93ZWJwYWNrL3J1bnRpbWUvY3NzIGxvYWRpbmciLCJ3ZWJwYWNrOi8vdGlueS1maWxlcy93ZWJwYWNrL3J1bnRpbWUvanNvbnAgY2h1bmsgbG9hZGluZyIsIndlYnBhY2s6Ly90aW55LWZpbGVzL3dlYnBhY2svc3RhcnR1cCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNBc0I7QUFDa0I7QUFDRztBQUNIO0FBQ3hDLGlFQUFlLGtEQUFhO0FBQzVCO0FBQ0E7QUFDQSw4QkFBOEIsZ0VBQWlCO0FBQy9DO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxnRUFBaUI7QUFDekQ7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVksMkRBQXdCO0FBQ3BDO0FBQ0EsNkNBQTZDO0FBQzdDLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQSxr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QjtXQUMxQjtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTs7V0FFQTtXQUNBOztXQUVBO1dBQ0E7V0FDQTs7V0FFQTtXQUNBO1dBQ0E7O1dBRUE7V0FDQTtXQUNBLGVBQWUsNEJBQTRCO1dBQzNDO1dBQ0E7V0FDQSxnQkFBZ0IsMkJBQTJCO1dBQzNDO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQSw0Q0FBNEM7V0FDNUM7V0FDQSxFOzs7O1VDM0hBO1VBQ0EiLCJmaWxlIjoidGlueS1maWxlcy5hZGYxNzA5OTNkZjhhMjg5ZjZjZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsImltcG9ydCBWdWUgZnJvbSAndnVlJztcclxuaW1wb3J0IHRpbnlBcGkgZnJvbSAnc2VydmljZXMvdGlueS1hcGknO1xyXG5pbXBvcnQgeyBEaWFsb2dQcm9ncmFtbWF0aWMgfSBmcm9tICdidWVmeSc7XHJcbmltcG9ydCBkYXRhQnVzIGZyb20gJ3NlcnZpY2VzL2RhdGEtYnVzJztcclxuZXhwb3J0IGRlZmF1bHQgVnVlLmNvbXBvbmVudCgnYXBwJywge1xyXG4gICAgZGF0YSgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBsb2dnZWRJbjogQm9vbGVhbihkYXRhQnVzLmhvbWVUb2tlbilcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIHdhdGNoOiB7XHJcbiAgICAgICAgJHJvdXRlKG4sIG8pIHtcclxuICAgICAgICAgICAgaWYgKG4ucGF0aCAhPT0gby5wYXRoICYmICF0aGlzLmxvZ2dlZEluICYmICEvXlxcL2xvZ2luLy50ZXN0KG4ucGF0aCkpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlZEluID0gQm9vbGVhbihkYXRhQnVzLmhvbWVUb2tlbik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIG1ldGhvZHM6IHtcclxuICAgICAgICBhc3luYyBzZXR0aW5ncygpIHtcclxuICAgICAgICAgICAgRGlhbG9nUHJvZ3JhbW1hdGljLmFsZXJ0KHtcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdpcy1pbmZvJyxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICd0byBiZSBpbXBsZW1lbnRlZCA7MydcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhc3luYyBsb2dvdXQoKSB7XHJcbiAgICAgICAgICAgIGF3YWl0IHRpbnlBcGkuYXV0aC5sb2dvdXQoKTtcclxuICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9sb2dpbicpO1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlZEluID0gZmFsc2U7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhc3luYyBkZWxldGVTZWxmKCkge1xyXG4gICAgICAgICAgICBjb25zdCBjaG9pY2UgPSBhd2FpdCBuZXcgUHJvbWlzZShyZXMgPT4gRGlhbG9nUHJvZ3JhbW1hdGljLmNvbmZpcm0oe1xyXG4gICAgICAgICAgICAgICAgdGl0bGU6ICdEZWxldGUgQWNjb3VudCcsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnaXMtZGFuZ2VyJyxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHlvdXIgYWNjb3VudD8gVGhpcyBjYW5ub3QgYmUgdW5kb25lLicsXHJcbiAgICAgICAgICAgICAgICBvbkNhbmNlbDogKCkgPT4gcmVzKGZhbHNlKSxcclxuICAgICAgICAgICAgICAgIG9uQ29uZmlybTogKCkgPT4gcmVzKHRydWUpXHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgaWYgKGNob2ljZSkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGlueUFwaS5kZWxldGVTZWxmKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2xvZ2luJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlZEluID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pO1xyXG4iLCJpbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7XHJcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XHJcbmltcG9ydCBKU1ppcCBmcm9tICdqc3ppcCc7XHJcbmltcG9ydCBGaWxlU2F2ZXIgZnJvbSAnZmlsZS1zYXZlcic7XHJcbmltcG9ydCBmaWxlc2l6ZSBmcm9tICdmaWxlc2l6ZSc7XHJcbmltcG9ydCB7IERhdGVUaW1lIH0gZnJvbSAnbHV4b24nO1xyXG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xyXG5pbXBvcnQgeyBnZXRGaWxlSWNvbiB9IGZyb20gJy4uLy4uL3V0aWwnO1xyXG5leHBvcnQgZGVmYXVsdCBWdWUuY29tcG9uZW50KCd0aW55LWV4cGxvcmVyJywge1xyXG4gICAgcHJvcHM6IHtcclxuICAgICAgICByb290TmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiBmYWxzZSwgZGVmYXVsdDogJ3Jvb3QnIH0sXHJcbiAgICAgICAgcm9vdFJvdXRlOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICAgICAgICBwYXRoczogeyB0eXBlOiBBcnJheSwgcmVxdWlyZWQ6IHRydWUgfSxcclxuICAgICAgICBtYXBMaW5rOiB7IHR5cGU6IEZ1bmN0aW9uLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgICAgIHZpZXdPbmx5OiBCb29sZWFuXHJcbiAgICB9LFxyXG4gICAgZGF0YSgpIHtcclxuICAgICAgICBjb25zdCByb290SW5mbyA9IHtcclxuICAgICAgICAgICAgcGF0aDogJy8nLFxyXG4gICAgICAgICAgICBuYW1lOiAncm9vdCcsXHJcbiAgICAgICAgICAgIHNpemU6IGZpbGVzaXplKDApLFxyXG4gICAgICAgICAgICByYXdTaXplOiAwLFxyXG4gICAgICAgICAgICBsYXN0TW9kaWZpZWQ6ICdudWxsJyxcclxuICAgICAgICAgICAgcmF3TGFzdE1vZGlmaWVkOiAwXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAvLyBcImV4cGxvcmluZ1wiXHJcbiAgICAgICAgICAgIGRpcjogJy8nLFxyXG4gICAgICAgICAgICBkaXJJbmZvOiByb290SW5mbyxcclxuICAgICAgICAgICAgYmlnTGlzdDogW10sXHJcbiAgICAgICAgICAgIGluZGV4OiB7fSxcclxuICAgICAgICAgICAgcm9vdEluZm8sXHJcbiAgICAgICAgICAgIC8vIGRvd25sb2FkaW5nL3VwbG9hZGluZ1xyXG4gICAgICAgICAgICB3b3JraW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgcHJvZ3Jlc3M6IDAsXHJcbiAgICAgICAgICAgIHdvcmtpbmdPbjogJycsXHJcbiAgICAgICAgICAgIC8vIHNvcnRpbmdcclxuICAgICAgICAgICAgc29ydEJ5TmFtZTogJ25hbWUnLFxyXG4gICAgICAgICAgICBzb3J0QnlEaXI6IGZhbHNlLFxyXG4gICAgICAgICAgICAvLyBzZWxlY3Rpb25cclxuICAgICAgICAgICAgbGFzdEFjdGl2ZTogJycsXHJcbiAgICAgICAgICAgIGxhc3RBY3RpdmVUaW1lOiAwLFxyXG4gICAgICAgICAgICBhY3RpdmU6IHt9LFxyXG4gICAgICAgICAgICBhbnlBY3RpdmU6IGZhbHNlLFxyXG4gICAgICAgICAgICAvLyBzZWxlY3Rpb24gYm94XHJcbiAgICAgICAgICAgIGRyYXdpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICBkcmF3QmVnaW46IHsgeDogMCwgeTogMCB9LFxyXG4gICAgICAgICAgICBkcmF3UG9pbnRzOiB7IHgxOiAwLCB5MTogMCwgeDI6IDAsIHkyOiAwIH0sXHJcbiAgICAgICAgICAgIGRyYXdQb3M6IHtcclxuICAgICAgICAgICAgICAgIHRvcDogJzBweCcsXHJcbiAgICAgICAgICAgICAgICBsZWZ0OiAnMHB4JyxcclxuICAgICAgICAgICAgICAgIGhlaWdodDogJzBweCcsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogJzBweCdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgY29tcHV0ZWQ6IHtcclxuICAgICAgICBzcGxpdERpcigpIHtcclxuICAgICAgICAgICAgY29uc3Qgc2RpciA9IFtdO1xyXG4gICAgICAgICAgICBsZXQgYnVmZiA9ICcnO1xyXG4gICAgICAgICAgICB0aGlzLmRpci5yZXBsYWNlKC9eXFwvfFxcLyQvZywgJycpLnNwbGl0KCcvJykuZm9yRWFjaCh2ID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghdilcclxuICAgICAgICAgICAgICAgICAgICBidWZmICs9ICcvJztcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGJ1ZmYpXHJcbiAgICAgICAgICAgICAgICAgICAgc2Rpci5wdXNoKGJ1ZmYgKyB2KTtcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICBzZGlyLnB1c2godik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yb290TmFtZSxcclxuICAgICAgICAgICAgICAgIC4uLnNkaXJcclxuICAgICAgICAgICAgXTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNvcnRlZEZvbGRlcnMoKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5pbmRleCB8fCAhdGhpcy5pbmRleFt0aGlzLmRpcl0pXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNvcnRFbnRyaWVzKHRoaXMuaW5kZXhbdGhpcy5kaXJdLmZvbGRlcnMpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc29ydGVkRmlsZXMoKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5pbmRleCB8fCAhdGhpcy5pbmRleFt0aGlzLmRpcl0pXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNvcnRFbnRyaWVzKHRoaXMuaW5kZXhbdGhpcy5kaXJdLmZpbGVzKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgd2F0Y2g6IHtcclxuICAgICAgICBkaXIoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlID0ge307XHJcbiAgICAgICAgICAgIHRoaXMubGFzdEFjdGl2ZSA9ICcnO1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RBY3RpdmVUaW1lID0gMDtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc2xpY2VSb3V0ZUZvclBhdGgoKSAhPT0gdGhpcy5kaXIpXHJcbiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSh7IHBhdGg6IHRoaXMucm9vdFJvdXRlICsgdGhpcy5kaXIgfSk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmRpci5sZW5ndGggPiAxICYmIHRoaXMuaW5kZXggJiYgdGhpcy5pbmRleFt0aGlzLmRpcl0pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGlkeCA9IHRoaXMuZGlyLmxhc3RJbmRleE9mKCcvJywgdGhpcy5kaXIubGVuZ3RoIC0gMik7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkaXJQYXJlbnQgPSB0aGlzLmRpci5zbGljZSgwLCBpZHggKyAxKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRpck5hbWUgPSB0aGlzLmRpci5zbGljZShpZHggKyAxLCAtMSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpbmZvID0gdGhpcy5pbmRleFtkaXJQYXJlbnRdID8gdGhpcy5pbmRleFtkaXJQYXJlbnRdLmZvbGRlcnMuZmluZChhID0+IGEubmFtZSA9PT0gZGlyTmFtZSkgOiBudWxsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXJJbmZvID0gaW5mbyB8fCB0aGlzLnJvb3RJbmZvO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlySW5mbyA9IHRoaXMucm9vdEluZm87XHJcbiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTpkaXInLCB0aGlzLmRpcik7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBwYXRocygpIHtcclxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAkcm91dGUoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNsaWNlUm91dGVGb3JQYXRoKCkgIT09IHRoaXMuZGlyICYmIHRoaXMuaW5kZXhbdGhpcy5zbGljZVJvdXRlRm9yUGF0aCgpXSlcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlyID0gdGhpcy5zbGljZVJvdXRlRm9yUGF0aCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYWN0aXZlKCkge1xyXG4gICAgICAgICAgICB0aGlzLmFueUFjdGl2ZSA9IHRoaXMuYWN0aXZlICYmIE9iamVjdC52YWx1ZXModGhpcy5hY3RpdmUpLnJlZHVjZSgoYSwgYikgPT4gYSB8fCBiLCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGFzeW5jIG1vdW50ZWQoKSB7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLmRyYXdFbmQpO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLmRyYXdDb250aW51ZSk7XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuaW5kZXhbdGhpcy5zbGljZVJvdXRlRm9yUGF0aCgpXSlcclxuICAgICAgICAgICAgdGhpcy5kaXIgPSB0aGlzLnNsaWNlUm91dGVGb3JQYXRoKCk7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSh0aGlzLnJvb3RSb3V0ZSk7XHJcbiAgICB9LFxyXG4gICAgZGVzdHJveWVkKCkge1xyXG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5kcmF3RW5kKTtcclxuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5kcmF3Q29udGludWUpO1xyXG4gICAgfSxcclxuICAgIG1ldGhvZHM6IHtcclxuICAgICAgICBzbGljZVJvdXRlRm9yUGF0aCgpIHtcclxuICAgICAgICAgICAgbGV0IHBhdGggPSB0aGlzLiRyb3V0ZS5wYXRoLnNsaWNlKHRoaXMucm9vdFJvdXRlLmxlbmd0aCk7XHJcbiAgICAgICAgICAgIGlmICghcGF0aC5lbmRzV2l0aCgnLycpKVxyXG4gICAgICAgICAgICAgICAgcGF0aCArPSAnLyc7XHJcbiAgICAgICAgICAgIHJldHVybiBwYXRoO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZm9ybWF0RGF0ZSh0aW1lKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBEYXRlVGltZS5mcm9tTWlsbGlzKHRpbWUsIHsgem9uZTogJ3V0YycgfSkudG9Mb2NhbCgpLnRvTG9jYWxlU3RyaW5nKERhdGVUaW1lLkRBVEVUSU1FX1NIT1JUKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNvcnRFbnRyaWVzKGVudHJpZXMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGVudHJpZXMuc29ydCgoX2EsIF9iKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgYSwgYjtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5zb3J0QnlEaXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBhID0gX2E7XHJcbiAgICAgICAgICAgICAgICAgICAgYiA9IF9iO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYiA9IF9hO1xyXG4gICAgICAgICAgICAgICAgICAgIGEgPSBfYjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy5zb3J0QnlOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnc2l6ZSc6IHJldHVybiBiLnJhd1NpemUgLSBhLnJhd1NpemU7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbW9kJzogcmV0dXJuIGIucmF3TGFzdE1vZGlmaWVkIC0gYS5yYXdMYXN0TW9kaWZpZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbmFtZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEubmFtZS5sb2NhbGVDb21wYXJlKGIubmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc29ydChjb2wpIHtcclxuICAgICAgICAgICAgaWYgKGNvbCA9PT0gdGhpcy5zb3J0QnlOYW1lKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3J0QnlEaXIgPSAhdGhpcy5zb3J0QnlEaXI7XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3J0QnlOYW1lID0gY29sO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3J0QnlEaXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ290byhkaXIpIHtcclxuICAgICAgICAgICAgaWYgKGRpciA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpciA9ICcvJztcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChkaXIgPj0gdGhpcy5zcGxpdERpci5sZW5ndGgpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIGNvbnN0IGQgPSAnLycgKyB0aGlzLnNwbGl0RGlyLnNsaWNlKDEsIGRpciArIDEpLmpvaW4oJy8nKTtcclxuICAgICAgICAgICAgdGhpcy5kaXIgPSBkLmVuZHNXaXRoKCcvJykgPyBkIDogZCArICcvJztcclxuICAgICAgICB9LFxyXG4gICAgICAgIG5ld0ZvbGRlcigpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2NyZWF0ZSBmb2xkZXInKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHJlZnJlc2goKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0ge307XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5pbmRleCB8fCBPYmplY3Qua2V5cyh0aGlzLmluZGV4KS5sZW5ndGggPT09IDApXHJcbiAgICAgICAgICAgICAgICB0aGlzLmluZGV4ID0gaW5kZXg7XHJcbiAgICAgICAgICAgIGNvbnN0IG9sZGVzdExhdGVzdE1vZGlmaWVkRGF0ZXMgPSB7fTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiB0aGlzLnBhdGhzKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjcmVhdGUgZm9sZGVyIG9iamVjdHNcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZvbGRlcnMgPSBlbnRyeS5wYXRoLnNwbGl0KCcvJykubWFwKChwLCBpLCBhcnIpID0+IGFyci5zbGljZSgwLCBpKS5qb2luKCcvJykgKyAnLycpLnNsaWNlKDEpO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGZwYXRoID0gZm9sZGVyc1tpXTsgaSA8IGZvbGRlcnMubGVuZ3RoOyBpKyssIGZwYXRoID0gZm9sZGVyc1tpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaW5kZXhbZnBhdGhdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4W2ZwYXRoXSA9IHsgZmlsZXM6IFtdLCBmb2xkZXJzOiBbXSB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaSArIDEgPCBmb2xkZXJzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdWJGTmFtZSA9IGZvbGRlcnNbaSArIDFdLnNsaWNlKGZvbGRlcnNbaSArIDFdLmxhc3RJbmRleE9mKCcvJywgZm9sZGVyc1tpICsgMV0ubGVuZ3RoIC0gMikpLnJlcGxhY2UoL1xcLy9nLCAnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaW5kZXhbZnBhdGhdLmZvbGRlcnMuZmluZChhID0+IGEubmFtZSA9PT0gc3ViRk5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleFtmcGF0aF0uZm9sZGVycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBmcGF0aCArICcvJyArIHN1YkZOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHN1YkZOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICctLScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF3U2l6ZTogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0TW9kaWZpZWQ6ICctLScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF3TGFzdE1vZGlmaWVkOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1Db3VudDogMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZW50cnkuc2l6ZSA9PT0gMCAmJiBlbnRyeS5tb2RpZmllZCA9PT0gMCAmJiBlbnRyeS5wYXRoLmVuZHNXaXRoKCdudWxsJykpXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAvLyBmaWxlIGxvZ2ljXHJcbiAgICAgICAgICAgICAgICBjb25zdCBmb2xkZXIgPSBpbmRleFtmb2xkZXJzW2ZvbGRlcnMubGVuZ3RoIC0gMV1dO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZmlsZU5hbWUgPSBlbnRyeS5uYW1lIHx8IGVudHJ5LnBhdGguc2xpY2UoZW50cnkucGF0aC5sYXN0SW5kZXhPZignLycsIGVudHJ5LnBhdGgubGVuZ3RoIC0gMikgKyAxKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZpbGUgPSBmb2xkZXIuZmlsZXMuZmluZChhID0+IGEubmFtZSA9PT0gZmlsZU5hbWUpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmF3TGFzdE1vZGlmaWVkID0gZW50cnkubW9kaWZpZWQ7XHJcbiAgICAgICAgICAgICAgICAvLyBuZXdcclxuICAgICAgICAgICAgICAgIGlmICghZmlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0ZpbGUgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGZpbGVOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBlbnRyeS5wYXRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByYXdTaXplOiBlbnRyeS5zaXplLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiBmaWxlc2l6ZShlbnRyeS5zaXplKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmF3TGFzdE1vZGlmaWVkOiByYXdMYXN0TW9kaWZpZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RNb2RpZmllZDogdGhpcy5mb3JtYXREYXRlKHJhd0xhc3RNb2RpZmllZCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBlbnRyeS50eXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5nZXRGaWxlSWNvbihlbnRyeS50eXBlKVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgZm9sZGVyLmZpbGVzLnB1c2gobmV3RmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgb2xkZXN0TGF0ZXN0TW9kaWZpZWREYXRlc1tlbnRyeS5wYXRoXSA9IHsgb2xkZXN0OiByYXdMYXN0TW9kaWZpZWQsIGxhdGVzdDogcmF3TGFzdE1vZGlmaWVkIH07XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbmV3IGZpbGUgJiBuZXdlciBtb2RpZmllZCAmIGhhcyBzaXplXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAob2xkZXN0TGF0ZXN0TW9kaWZpZWREYXRlc1tlbnRyeS5wYXRoXS5sYXRlc3QgPCByYXdMYXN0TW9kaWZpZWQgJiYgZW50cnkuc2l6ZSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBmaWxlLnJhd1NpemUgPSBlbnRyeS5zaXplO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbGUuc2l6ZSA9IGZpbGVzaXplKGVudHJ5LnNpemUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbGUucmF3TGFzdE1vZGlmaWVkID0gcmF3TGFzdE1vZGlmaWVkO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbGUubGFzdE1vZGlmaWVkID0gdGhpcy5mb3JtYXREYXRlKHJhd0xhc3RNb2RpZmllZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsZS5jb250ZW50VHlwZSA9IGVudHJ5LnR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaWNvbiA9IGdldEZpbGVJY29uKGVudHJ5LnR5cGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbGUuZmlsZUljb24gPSBpY29uLmZpbGVJY29uO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbGUuZmlsZUljb25Db2xvciA9IGljb24uZmlsZUljb25Db2xvcjtcclxuICAgICAgICAgICAgICAgICAgICBvbGRlc3RMYXRlc3RNb2RpZmllZERhdGVzW2VudHJ5LnBhdGhdID0geyBvbGRlc3Q6IHJhd0xhc3RNb2RpZmllZCwgbGF0ZXN0OiByYXdMYXN0TW9kaWZpZWQgfTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpdCdzIGp1c3Qgb2xkIChvciBub24gZXhpc3RhbnQpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHsgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHBvc3QtZW50cmllcyBsb2dpYyAtLSBmaWxsIG91dCBmb2xkZXIgaW5mb3JtYXRpb25cclxuICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHdlIHByb2Nlc3MgdGhlIGZhcnRoZXN0IGZvbGRlcnMgZmlyc3QgKGkuZS4gdGhlIGxvbmdlc3QgcGF0aHMpXHJcbiAgICAgICAgICAgIC8vIHNvIHRoZSBzaG9ydGVyIG9uZXMgY2FuIHJlZmVyZW5jZSB0aGVpciBjaGlsZHJlblxyXG4gICAgICAgICAgICBsZXQgcGF0aHMgPSBPYmplY3Qua2V5cyhpbmRleCkuZmlsdGVyKGEgPT4gaW5kZXhbYV0gJiYgKGluZGV4W2FdLmZvbGRlcnMubGVuZ3RoIHx8IGluZGV4W2FdLmZpbGVzLmxlbmd0aCkpO1xyXG4gICAgICAgICAgICBwYXRocyA9IHBhdGhzLnNvcnQoKGEsIGIpID0+IGEubGVuZ3RoID09PSBiLmxlbmd0aCA/IGEubG9jYWxlQ29tcGFyZShiKSA6IGIubGVuZ3RoIC0gYS5sZW5ndGgpO1xyXG4gICAgICAgICAgICAvLyBjdXJyZW50UGF0aCA9IDA7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgcGF0aCBvZiBwYXRocykge1xyXG4gICAgICAgICAgICAgICAgLyogY3VycmVudFBhdGgrKztcclxuICAgICAgICAgICAgICAgIHRoaXMud29ya2luZ09uID0gJ0ZpbGxpbmcgZm9sZGVyIGluZm9ybWF0aW9uICgnICsgY3VycmVudFBhdGggKyAnLycgKyBwYXRocy5sZW5ndGggKyAnKS4uLic7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb2dyZXNzID0gY3VycmVudFBhdGggLyBwYXRocy5sZW5ndGg7Ki9cclxuICAgICAgICAgICAgICAgIGxldCB0b3RhbFNpemUgPSAwO1xyXG4gICAgICAgICAgICAgICAgbGV0IGxhc3RNb2RpZmllZCA9IDA7XHJcbiAgICAgICAgICAgICAgICBsZXQgaXRlbUNvdW50ID0gMDtcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZiBvZiBpbmRleFtwYXRoXS5mb2xkZXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG90YWxTaXplICs9IGYucmF3U2l6ZTtcclxuICAgICAgICAgICAgICAgICAgICBsYXN0TW9kaWZpZWQgPSBNYXRoLm1heChsYXN0TW9kaWZpZWQsIGYucmF3TGFzdE1vZGlmaWVkKTtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtQ291bnQgKz0gZi5pdGVtQ291bnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGYgb2YgaW5kZXhbcGF0aF0uZmlsZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICB0b3RhbFNpemUgKz0gZi5yYXdTaXplO1xyXG4gICAgICAgICAgICAgICAgICAgIGxhc3RNb2RpZmllZCA9IE1hdGgubWF4KGxhc3RNb2RpZmllZCwgZi5yYXdMYXN0TW9kaWZpZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1Db3VudCsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHBhdGgubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeCA9IHBhdGgubGFzdEluZGV4T2YoJy8nLCBwYXRoLmxlbmd0aCAtIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN1YlBhdGggPSBwYXRoLnNsaWNlKDAsIGlkeCArIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZOYW1lID0gcGF0aC5zbGljZShpZHggKyAxLCAtMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9sZGVyID0gaW5kZXhbc3ViUGF0aF0uZm9sZGVycy5maW5kKGEgPT4gYS5uYW1lID09PSBmTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9sZGVyLnJhd1NpemUgPSB0b3RhbFNpemU7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9sZGVyLnNpemUgPSBmaWxlc2l6ZSh0b3RhbFNpemUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbGRlci5yYXdMYXN0TW9kaWZpZWQgPSBsYXN0TW9kaWZpZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9sZGVyLmxhc3RNb2RpZmllZCA9IHRoaXMuZm9ybWF0RGF0ZShsYXN0TW9kaWZpZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbGRlci5pdGVtQ291bnQgPSBpdGVtQ291bnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvb3RJbmZvLnJhd1NpemUgPSB0b3RhbFNpemU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb290SW5mby5zaXplID0gZmlsZXNpemUodG90YWxTaXplKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvb3RJbmZvLnJhd0xhc3RNb2RpZmllZCA9IGxhc3RNb2RpZmllZDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvb3RJbmZvLmxhc3RNb2RpZmllZCA9IHRoaXMuZm9ybWF0RGF0ZShsYXN0TW9kaWZpZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm9vdEluZm8uaXRlbUNvdW50ID0gaXRlbUNvdW50O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuaW5kZXggPSBpbmRleDtcclxuICAgICAgICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNsaWNrSXRlbShldmVudCwgaXRlbSwgZm9sZGVyID0gZmFsc2UpIHtcclxuICAgICAgICAgICAgY29uc3QgbmFtZSA9IGZvbGRlciA/ICcvJyArIGl0ZW0ubmFtZSA6IGl0ZW0ubmFtZTtcclxuICAgICAgICAgICAgaWYgKGV2ZW50LmdldE1vZGlmaWVyU3RhdGUoJ1NoaWZ0JykgfHwgZXZlbnQuc2hpZnRLZXkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFsbEl0ZW1zID0gdGhpcy5pbmRleFt0aGlzLmRpcl0uZm9sZGVycy5tYXAoYSA9PiAnLycgKyBhLm5hbWUpLmNvbmNhdCh0aGlzLmluZGV4W3RoaXMuZGlyXS5maWxlcy5tYXAoYSA9PiBhLm5hbWUpKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHMxID0gYWxsSXRlbXMuaW5kZXhPZih0aGlzLmxhc3RBY3RpdmUpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgczIgPSBhbGxJdGVtcy5pbmRleE9mKG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBhbGxJdGVtcy5zbGljZShNYXRoLm1pbihzMSwgczIpLCBNYXRoLm1heChzMSwgczIpICsgMSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQuZ2V0TW9kaWZpZXJTdGF0ZSgnQ29udHJvbCcpIHx8IGV2ZW50LmN0cmxLZXkpXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBpIG9mIGl0ZW1zKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBWdWUuc2V0KHRoaXMuYWN0aXZlLCBpLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IGl0ZW1zLnJlZHVjZSgoYWNjLCBjKSA9PiB7IGFjY1tjXSA9IHRydWU7IHJldHVybiBhY2M7IH0sIHt9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMubGFzdEFjdGl2ZVRpbWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBubyAnbGFzdEFjdGl2ZScgd2hhdG5vdFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LmdldE1vZGlmaWVyU3RhdGUoJ0NvbnRyb2wnKSB8fCBldmVudC5jdHJsS2V5KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZVtuYW1lXSA9ICF0aGlzLmFjdGl2ZVtuYW1lXTtcclxuICAgICAgICAgICAgICAgIHRoaXMubGFzdEFjdGl2ZVRpbWUgPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSB7IFtuYW1lXTogdHJ1ZSB9O1xyXG4gICAgICAgICAgICAgICAgaWYgKERhdGUubm93KCkgLSB0aGlzLmxhc3RBY3RpdmVUaW1lIDwgMzMzKSB7IC8vIDEvMyBvZiBhIHNlY1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuYW1lLnN0YXJ0c1dpdGgoJy8nKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGVuRm9sZGVyKG5hbWUuc2xpY2UoMSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGVuRmlsZShpdGVtLnBhdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdEFjdGl2ZVRpbWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0QWN0aXZlVGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5sYXN0QWN0aXZlID0gbmFtZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIG9wZW5Gb2xkZXIoZm9sZGVyKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmRpcilcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlyID0gdGhpcy5kaXIgKyBmb2xkZXIgKyAnLyc7XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlyID0gJy8nICsgZm9sZGVyICsgJy8nO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYXN5bmMgb3BlbkZpbGUocGF0aCwgb3BlbiA9IHRydWUpIHtcclxuICAgICAgICAgICAgaWYgKG9wZW4pXHJcbiAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdvcGVuJywgcGF0aCk7XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQodGhpcy5tYXBMaW5rKHBhdGgpLCB7IHJlc3BvbnNlVHlwZTogJ2Jsb2InIH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYXN5bmMgZG93bmxvYWRTZWxlY3RlZCgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMud29ya2luZylcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBbXTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrIGluIHRoaXMuYWN0aXZlKVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZlW2tdID09PSB0cnVlKVxyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2goay5zdGFydHNXaXRoKCcvJykgPyBrLnNsaWNlKDEpIDogayk7XHJcbiAgICAgICAgICAgIGxldCBhbGxJdGVtcyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGkgb2YgaXRlbXMpIHtcclxuICAgICAgICAgICAgICAgIGFsbEl0ZW1zID0gYWxsSXRlbXMuY29uY2F0KHRoaXMuYmlnTGlzdFxyXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoYSA9PiBhLnN0YXJ0c1dpdGgodGhpcy5kaXIuc2xpY2UoMSkgKyBpKSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBuYW1lID0gaXRlbXMubGVuZ3RoID09PSAxID9cclxuICAgICAgICAgICAgICAgIGl0ZW1zWzBdIDpcclxuICAgICAgICAgICAgICAgIHRoaXMuc3BsaXREaXIubGVuZ3RoID09PSAxID9cclxuICAgICAgICAgICAgICAgICAgICAndGlueS1maWxlcy1kYXRhJyA6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zcGxpdERpclt0aGlzLnNwbGl0RGlyLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kb3dubG9hZChhbGxJdGVtcywgbmFtZSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhc3luYyBkb3dubG9hZERpcihwYXRoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLndvcmtpbmcpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIGlmICghcGF0aC5lbmRzV2l0aCgnLycpKVxyXG4gICAgICAgICAgICAgICAgcGF0aCArPSAnLyc7XHJcbiAgICAgICAgICAgIGlmIChwYXRoLnN0YXJ0c1dpdGgoJy8nKSlcclxuICAgICAgICAgICAgICAgIHBhdGggPSBwYXRoLnNsaWNlKDEpO1xyXG4gICAgICAgICAgICBsZXQgbmFtZTtcclxuICAgICAgICAgICAgaWYgKHBhdGgubGVuZ3RoIDwgMilcclxuICAgICAgICAgICAgICAgIG5hbWUgPSAndGlueS1maWxlcy1kYXRhJztcclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpZHggPSBwYXRoLmxhc3RJbmRleE9mKCcvJywgcGF0aC5sZW5ndGggLSAyKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRpck5hbWUgPSBwYXRoLnNsaWNlKGlkeCArIDEsIC0xKTtcclxuICAgICAgICAgICAgICAgIG5hbWUgPSBkaXJOYW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRvd25sb2FkKHRoaXMuYmlnTGlzdC5maWx0ZXIoYSA9PiBhLnN0YXJ0c1dpdGgocGF0aCkpLCBuYW1lKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGFzeW5jIGRvd25sb2FkKGl0ZW1zLCBuYW1lKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLndvcmtpbmcpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIHRoaXMud29ya2luZyA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3MgPSAwO1xyXG4gICAgICAgICAgICBjb25zdCB6aXAgPSBuZXcgSlNaaXAoKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgbiA9IDAsIGl0ID0gaXRlbXNbbl07IG4gPCBpdGVtcy5sZW5ndGg7IG4rKywgaXQgPSBpdGVtc1tuXSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2Rvd25sb2FkOicsIGl0KTtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3MgPSBuIC8gaXRlbXMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgdGhpcy53b3JraW5nT24gPSAnWmlwcGluZyAnICsgaXQ7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgNTAwKSk7XHJcbiAgICAgICAgICAgICAgICB6aXAuZmlsZShpdCwgYXdhaXQgdGhpcy5vcGVuRmlsZShpdCwgZmFsc2UpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnByb2dyZXNzID0gMTtcclxuICAgICAgICAgICAgdGhpcy53b3JraW5nT24gPSAnU2VydmluZyB0aGUgWmlwJztcclxuICAgICAgICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IHppcC5nZW5lcmF0ZUFzeW5jKHsgdHlwZTogJ2Jsb2InIH0pO1xyXG4gICAgICAgICAgICBGaWxlU2F2ZXIuc2F2ZUFzKGJsb2IsIG5hbWUucmVwbGFjZSgnKicsICcnKSk7XHJcbiAgICAgICAgICAgIHRoaXMud29ya2luZ09uID0gJyc7XHJcbiAgICAgICAgICAgIHRoaXMud29ya2luZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLnByb2dyZXNzID0gMDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGRyYXdTdGFydChldmVudCkge1xyXG4gICAgICAgICAgICBpZiAoZXZlbnQuYnV0dG9uICE9PSAwKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB0aGlzLmRyYXdpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICBWdWUuc2V0KHRoaXMuZHJhd0JlZ2luLCAneCcsIGV2ZW50LngpO1xyXG4gICAgICAgICAgICBWdWUuc2V0KHRoaXMuZHJhd0JlZ2luLCAneScsIGV2ZW50LnkpO1xyXG4gICAgICAgICAgICB0aGlzLmRyYXdQb2ludHMgPSB7IHgxOiBldmVudC54LCB4MjogZXZlbnQueCwgeTE6IGV2ZW50LnksIHkyOiBldmVudC55IH07XHJcbiAgICAgICAgICAgIHRoaXMuZHJhd1BvcyA9IHsgdG9wOiBldmVudC55ICsgJ3B4JywgbGVmdDogZXZlbnQueCArICdweCcsIGhlaWdodDogMCArICdweCcsIHdpZHRoOiAwICsgJ3B4JyB9O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYm94SW5zaWRlKGEsIGIpIHtcclxuICAgICAgICAgICAgcmV0dXJuICEoYS54MSA+IGIueDIgfHxcclxuICAgICAgICAgICAgICAgIGEueDIgPCBiLngxIHx8XHJcbiAgICAgICAgICAgICAgICBhLnkxID4gYi55MiB8fFxyXG4gICAgICAgICAgICAgICAgYS55MiA8IGIueTEpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZHJhd0NvbnRpbnVlOiBfLnRocm90dGxlKGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuZHJhd2luZylcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgVnVlLnNldCh0aGlzLmRyYXdQb2ludHMsICd5MScsIE1hdGgubWluKGV2ZW50LnksIHRoaXMuZHJhd0JlZ2luLnkpKTsgLy8gdG9wXHJcbiAgICAgICAgICAgIFZ1ZS5zZXQodGhpcy5kcmF3UG9pbnRzLCAneDEnLCBNYXRoLm1pbihldmVudC54LCB0aGlzLmRyYXdCZWdpbi54KSk7IC8vIGxlZnRcclxuICAgICAgICAgICAgVnVlLnNldCh0aGlzLmRyYXdQb2ludHMsICd5MicsIE1hdGgubWF4KGV2ZW50LnksIHRoaXMuZHJhd0JlZ2luLnkpKTsgLy8gYm90dG9tXHJcbiAgICAgICAgICAgIFZ1ZS5zZXQodGhpcy5kcmF3UG9pbnRzLCAneDInLCBNYXRoLm1heChldmVudC54LCB0aGlzLmRyYXdCZWdpbi54KSk7IC8vIHJpZ2h0XHJcbiAgICAgICAgICAgIFZ1ZS5zZXQodGhpcy5kcmF3UG9zLCAndG9wJywgdGhpcy5kcmF3UG9pbnRzLnkxICsgJ3B4Jyk7XHJcbiAgICAgICAgICAgIFZ1ZS5zZXQodGhpcy5kcmF3UG9zLCAnbGVmdCcsIHRoaXMuZHJhd1BvaW50cy54MSArICdweCcpO1xyXG4gICAgICAgICAgICBWdWUuc2V0KHRoaXMuZHJhd1BvcywgJ2hlaWdodCcsIHRoaXMuZHJhd1BvaW50cy55MiAtIHRoaXMuZHJhd1BvaW50cy55MSArICdweCcpO1xyXG4gICAgICAgICAgICBWdWUuc2V0KHRoaXMuZHJhd1BvcywgJ3dpZHRoJywgdGhpcy5kcmF3UG9pbnRzLngyIC0gdGhpcy5kcmF3UG9pbnRzLngxICsgJ3B4Jyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy4kcmVmcy5leHBsb3Jlci5jaGlsZHJlbjtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGNoaWxkID0gY2hpbGRyZW4uaXRlbShpKTsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrLCBjaGlsZCA9IGNoaWxkcmVuLml0ZW0oaSkpIHtcclxuICAgICAgICAgICAgICAgIGlmICghKGNoaWxkLmNsYXNzTGlzdC5jb250YWlucygnZm9sZGVyJykgfHwgY2hpbGQuY2xhc3NMaXN0LmNvbnRhaW5zKCdmaWxlJykpKVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYm94ID0gY2hpbGQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBiID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHgxOiBib3gubGVmdCxcclxuICAgICAgICAgICAgICAgICAgICB5MTogYm94LnRvcCxcclxuICAgICAgICAgICAgICAgICAgICB4MjogYm94LnJpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgIHkyOiBib3guYm90dG9tXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYm94SW5zaWRlKGIsIHRoaXMuZHJhd1BvaW50cykpXHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQuY2xhc3NMaXN0LmFkZCgnaG92ZXInKTtcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNoaWxkLmNsYXNzTGlzdC5jb250YWlucygnaG92ZXInKSlcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZC5jbGFzc0xpc3QucmVtb3ZlKCdob3ZlcicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgMTUpLFxyXG4gICAgICAgIGRyYXdFbmQoZXZlbnQpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmRyYXdpbmcgfHwgZXZlbnQuYnV0dG9uICE9PSAwKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB0aGlzLmRyYXdpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLiRyZWZzLmV4cGxvcmVyLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdBY3RpdmUgPSBbXTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGNoaWxkID0gY2hpbGRyZW4uaXRlbShpKTsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrLCBjaGlsZCA9IGNoaWxkcmVuLml0ZW0oaSkpIHtcclxuICAgICAgICAgICAgICAgIGlmICghKGNoaWxkLmNsYXNzTGlzdC5jb250YWlucygnZm9sZGVyJykgfHwgY2hpbGQuY2xhc3NMaXN0LmNvbnRhaW5zKCdmaWxlJykpKVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLmNsYXNzTGlzdC5jb250YWlucygnaG92ZXInKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1NYXRjaCA9IC9tLSguKykvLmV4ZWMoY2hpbGQuaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtTWF0Y2ggJiYgaXRlbU1hdGNoWzFdKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdBY3RpdmUucHVzaChpdGVtTWF0Y2hbMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLmNsYXNzTGlzdC5yZW1vdmUoJ2hvdmVyJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCEoZXZlbnQuZ2V0TW9kaWZpZXJTdGF0ZSgnU3RhdGUnKSB8fCBldmVudC5zaGlmdEtleSkpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IHt9O1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGkgb2YgbmV3QWN0aXZlKVxyXG4gICAgICAgICAgICAgICAgVnVlLnNldCh0aGlzLmFjdGl2ZSwgaSwgdHJ1ZSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBnZXRQYXRoKGZvbGRlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yb290Um91dGUgKyB0aGlzLmRpciArIGZvbGRlcjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdldExpbmsoZmlsZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tYXBMaW5rKGZpbGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSk7XHJcbiIsImltcG9ydCBWdWUgZnJvbSAndnVlJztcclxuZXhwb3J0IGRlZmF1bHQgVnVlLmNvbXBvbmVudCgndGlueS1sb2FkaW5nJywge30pO1xyXG4iLCJpbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0KCdAbWRpL2ZvbnQvY3NzL21hdGVyaWFsZGVzaWduaWNvbnMuY3NzJyk7XHJcbmltcG9ydCB7IC8vIEB0cy1pZ25vcmVcclxuQnV0dG9uLCBJbnB1dCwgRmllbGQsIEljb24sIExvYWRpbmcsIERpYWxvZywgTW9kYWwsIERyb3Bkb3duLCBEaWFsb2dQcm9ncmFtbWF0aWMsIFVwbG9hZCB9IGZyb20gJ2J1ZWZ5JztcclxuaW1wb3J0ICcuL2J1ZWZ5LnNjc3MnO1xyXG5pbXBvcnQgJy4vc3R5bGVzLnNjc3MnO1xyXG5pbXBvcnQgeyBtYWtlSW5pdGlhbGl6ZXJDb21wb25lbnQgfSBmcm9tICcuL3V0aWwnO1xyXG5pbXBvcnQgQXBwQ29tcG9uZW50IGZyb20gJy4vYXBwL2FwcCc7XHJcbmltcG9ydCBMb2FkaW5nQ29tcG9uZW50IGZyb20gJy4vY29tcG9uZW50cy9sb2FkaW5nL2xvYWRpbmcnO1xyXG5pbXBvcnQgVGlueUV4cGxvcmVyIGZyb20gJy4vY29tcG9uZW50cy9leHBsb3Jlci9leHBsb3Jlcic7XHJcbmltcG9ydCByb3V0ZXIgZnJvbSAnLi9yb3V0ZXInO1xyXG5jb25zb2xlLmxvZygnRW52aXJvbm1lbnQ6JywgcHJvY2Vzcy5lbnYuTk9ERV9FTlYpO1xyXG5WdWUudXNlKEJ1dHRvbik7XHJcblZ1ZS51c2UoSW5wdXQpO1xyXG5WdWUudXNlKEZpZWxkKTtcclxuVnVlLnVzZShJY29uKTtcclxuVnVlLnVzZShMb2FkaW5nKTtcclxuVnVlLnVzZShEaWFsb2cpO1xyXG5WdWUudXNlKE1vZGFsKTtcclxuVnVlLnVzZShEcm9wZG93bik7XHJcblZ1ZS51c2UoVXBsb2FkKTtcclxuY29uc3QgdiA9IG5ldyBWdWUoe1xyXG4gICAgcm91dGVyLFxyXG4gICAgZWw6ICcjYXBwJyxcclxuICAgIGNvbXBvbmVudHM6IHsgQXBwQ29tcG9uZW50LCBUaW55RXhwbG9yZXIgfSxcclxuICAgIGRhdGE6IHsgbG9hZGVkOiBmYWxzZSB9LFxyXG4gICAgcmVuZGVyKGgpIHtcclxuICAgICAgICBpZiAodGhpcy5sb2FkZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGgoQXBwQ29tcG9uZW50LCB7IGtleTogJ2FwcCcgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgcmV0dXJuIG1ha2VJbml0aWFsaXplckNvbXBvbmVudChoLCBMb2FkaW5nQ29tcG9uZW50KTtcclxuICAgIH1cclxufSk7XHJcbihhc3luYyAoKSA9PiB7XHJcbiAgICAvLyBobW1tXHJcbn0pKCkudGhlbigoKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZygnSW5pdGlhbGl6ZWQgTWFpbiEnKTtcclxuICAgIHYubG9hZGVkID0gdHJ1ZTtcclxufSwgZSA9PiB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbml0aWFsaXppbmcgbWFpbjogJywgZS5zdGFjayB8fCBlLm1lc3NhZ2UgfHwgZSk7XHJcbiAgICBEaWFsb2dQcm9ncmFtbWF0aWMuYWxlcnQoe1xyXG4gICAgICAgIHRpdGxlOiAnRXJyb3InLFxyXG4gICAgICAgIG1lc3NhZ2U6ICdFcnJvciBpbml0aWFsaXppbmcgbWFpbjogJyArIFN0cmluZyhlLm1lc3NhZ2UgfHwgZSksXHJcbiAgICAgICAgdHlwZTogJ2lzLWRhbmdlcidcclxuICAgIH0pO1xyXG59KTtcclxuIiwiaW1wb3J0IFZ1ZSBmcm9tICd2dWUnO1xyXG5leHBvcnQgZGVmYXVsdCBWdWUuY29tcG9uZW50KCd0aW55LW5vdC1mb3VuZCcsIHt9KTtcclxuIiwiaW1wb3J0IFZ1ZSBmcm9tICd2dWUnO1xyXG5pbXBvcnQgVnVlUm91dGVyIGZyb20gJ3Z1ZS1yb3V0ZXInO1xyXG5jb25zdCBIb21lUGFnZSA9ICgpID0+IGltcG9ydCgnLi9wYWdlcy9ob21lL2hvbWUnKTtcclxuY29uc3QgQnJvd3NlUGFnZSA9ICgpID0+IGltcG9ydCgnLi9wYWdlcy9icm93c2UvYnJvd3NlJyk7XHJcbmNvbnN0IFNldHRpbmdzUGFnZSA9ICgpID0+IGltcG9ydCgnLi9wYWdlcy9zZXR0aW5ncy9zZXR0aW5ncycpO1xyXG5jb25zdCBMb2dpblBhZ2UgPSAoKSA9PiBpbXBvcnQoJy4vcGFnZXMvbG9naW4vbG9naW4nKTtcclxuaW1wb3J0IE5vdEZvdW5kUGFnZSBmcm9tICcuL3BhZ2VzL25vdC1mb3VuZC9ub3QtZm91bmQnO1xyXG5pbXBvcnQgZGF0YUJ1cyBmcm9tICcuL3NlcnZpY2VzL2RhdGEtYnVzJztcclxuVnVlLnVzZShWdWVSb3V0ZXIpO1xyXG5jb25zdCByb3V0ZXIgPSBuZXcgVnVlUm91dGVyKHtcclxuICAgIG1vZGU6ICdoaXN0b3J5JyxcclxuICAgIHJvdXRlczogW1xyXG4gICAgICAgIHsgcGF0aDogJy8nLCByZWRpcmVjdDogJy9icm93c2UnLCBuYW1lOiAnaG9tZScgfSxcclxuICAgICAgICB7IHBhdGg6ICcvYnJvd3NlKionLCBjb21wb25lbnQ6IEJyb3dzZVBhZ2UsIG5hbWU6ICdicm93c2UnIH0sXHJcbiAgICAgICAgLy8geyBwYXRoOiAnL2V4cGxvcmUvOm9yaWdpbi86dXNlcm5hbWUvOnNoYXJlLyoqJywgY29tcG9uZW50OiBFeHBsb3JlUGFnZSwgbmFtZTogJ2V4cGxvcmUnIH0sIC8vIG90aGVyJ3MgZmlsZXNcclxuICAgICAgICB7IHBhdGg6ICcvc2V0dGluZ3MnLCBjb21wb25lbnQ6IFNldHRpbmdzUGFnZSwgbmFtZTogJ3NldHRpbmdzJyB9LFxyXG4gICAgICAgIHsgcGF0aDogJy9sb2dpbicsIGNvbXBvbmVudDogTG9naW5QYWdlLCBuYW1lOiAnbG9naW4nIH0sXHJcbiAgICAgICAgeyBwYXRoOiAnKionLCBjb21wb25lbnQ6IE5vdEZvdW5kUGFnZSwgbmFtZTogJ25vdC1mb3VuZCcgfVxyXG4gICAgXVxyXG59KTtcclxucm91dGVyLmJlZm9yZUVhY2goKHRvLCBmcm9tLCBuZXh0KSA9PiB7XHJcbiAgICBpZiAodG8ucGF0aCAhPT0gZnJvbS5wYXRoKSB7XHJcbiAgICAgICAgaWYgKHRvLnBhdGgubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICBjb25zdCBzZGlyID0gW107XHJcbiAgICAgICAgICAgIGxldCBidWZmID0gJyc7XHJcbiAgICAgICAgICAgIHRvLnBhdGguc2xpY2UoMSkuc3BsaXQoJy8nKS5mb3JFYWNoKHYgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF2KVxyXG4gICAgICAgICAgICAgICAgICAgIGJ1ZmYgKz0gJy8nO1xyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ1ZmYpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNkaXIucHVzaChidWZmICsgdik7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZGlyLnB1c2godik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBkb2N1bWVudC50aXRsZSA9ICd0aW55IGZpbGVzIC0gJyArIHNkaXIuam9pbignIC0gJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgZG9jdW1lbnQudGl0bGUgPSAndGlueSBmaWxlcyc7XHJcbiAgICB9XHJcbiAgICBpZiAoIWRhdGFCdXMuaG9tZVRva2VuICYmICEvXlxcL2xvZ2luLy50ZXN0KHRvLnBhdGgpKVxyXG4gICAgICAgIG5leHQoJy9sb2dpbj9nb3RvPScgKyB0by5mdWxsUGF0aCk7XHJcbiAgICBuZXh0KCk7XHJcbn0pO1xyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XHJcbiIsImNsYXNzIERhdGFCdXMge1xyXG4gICAgZ2V0IHByaXZhdGVTY29wZSgpIHsgcmV0dXJuICcvYXBwZGF0YS90aW55LWZpbGVzJzsgfVxyXG4gICAgZ2V0IHB1YmxpY1Njb3BlKCkgeyByZXR1cm4gJy9wdWJsaWMvdGlueS1maWxlcyc7IH1cclxuICAgIGdldCBob21lVXJsKCkgeyByZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2hvbWVfdXJsJyk7IH1cclxuICAgIHNldCBob21lVXJsKHVybCkgeyBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnaG9tZV91cmwnLCB1cmwpOyB9XHJcbiAgICBnZXQgaG9tZVRva2VuKCkgeyByZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2hvbWVfdG9rZW4nKTsgfVxyXG4gICAgc2V0IGhvbWVUb2tlbihzaWQpIHsgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2hvbWVfdG9rZW4nLCBzaWQpOyB9XHJcbiAgICBnZXQgc3RvcmVVcmwoKSB7IHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc3RvcmVfdXJsJyk7IH1cclxuICAgIHNldCBzdG9yZVVybCh1cmwpIHsgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3N0b3JlX3VybCcsIHVybCk7IH1cclxuICAgIGdldCBzdG9yZVRva2VuKCkgeyByZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3N0b3JlX3Rva2VuJyk7IH1cclxuICAgIHNldCBzdG9yZVRva2VuKHNpZCkgeyBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnc3RvcmVfdG9rZW4nLCBzaWQpOyB9XHJcbiAgICBnZXQgc3RvcmVTY29wZXMoKSB7IHJldHVybiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzdG9yZV9zY29wZXMnKSk7IH1cclxuICAgIHNldCBzdG9yZVNjb3BlcyhzY29wZXMpIHsgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3N0b3JlX3Njb3BlcycsIEpTT04uc3RyaW5naWZ5KHNjb3BlcykpOyB9XHJcbiAgICBnZXQgZGJVcmwoKSB7IHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZGJfdXJsJyk7IH1cclxuICAgIHNldCBkYlVybCh1cmwpIHsgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2RiX3VybCcsIHVybCk7IH1cclxuICAgIGdldCBkYlRva2VuKCkgeyByZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2RiX3Rva2VuJyk7IH1cclxuICAgIHNldCBkYlRva2VuKHNpZCkgeyBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZGJfdG9rZW4nLCBzaWQpOyB9XHJcbiAgICBnZXQgaW5mb0FycmF5KCkge1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIHsgaWQ6ICdob21lJywgdXJsOiB0aGlzLmhvbWVVcmwsIHRva2VuOiB0aGlzLmhvbWVUb2tlbiB9LFxyXG4gICAgICAgICAgICB7IGlkOiAnc3RvcmUnLCB1cmw6IHRoaXMuc3RvcmVVcmwsIHRva2VuOiB0aGlzLnN0b3JlVG9rZW4sIHNjb3BlczogdGhpcy5zdG9yZVNjb3BlcyB9LFxyXG4gICAgICAgICAgICB7IGlkOiAnZGInLCB1cmw6IHRoaXMuZGJVcmwsIHRva2VuOiB0aGlzLmRiVG9rZW4gfVxyXG4gICAgICAgIF07XHJcbiAgICB9XHJcbiAgICBjbGVhcigpIHtcclxuICAgICAgICBsb2NhbFN0b3JhZ2UuY2xlYXIoKTtcclxuICAgIH1cclxufVxyXG47XHJcbmV4cG9ydCBkZWZhdWx0IG5ldyBEYXRhQnVzKCk7XHJcbiIsImltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XHJcbmltcG9ydCBkYXRhQnVzIGZyb20gJy4vZGF0YS1idXMnO1xyXG5pbXBvcnQgeyBoYW5kbGVFcnJvciB9IGZyb20gJy4uL3V0aWwnO1xyXG5jbGFzcyBUaW55QXBpIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuX2F1dGggPSBPYmplY3QuZnJlZXplKHtcclxuICAgICAgICAgICAgYXN5bmMgbG9naW4ob3JpZ2luLCBwZXJzb25hbCA9IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNwbGVldCA9IG9yaWdpbi5zcGxpdCgnQCcpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHVzZXJuYW1lID0gJyc7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3BsZWV0WzFdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luID0gc3BsZWV0WzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lID0gc3BsZWV0WzBdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZGF0YUJ1cy5ob21lVXJsID0gbG9jYXRpb24ucHJvdG9jb2wgKyAnLy8nICsgb3JpZ2luO1xyXG4gICAgICAgICAgICAgICAgZGF0YUJ1cy5zdG9yZVNjb3BlcyA9IHBlcnNvbmFsID8gW2RhdGFCdXMucHJpdmF0ZVNjb3BlLCBkYXRhQnVzLnB1YmxpY1Njb3BlXSA6IFsnLyddO1xyXG4gICAgICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9IGxvY2F0aW9uLnByb3RvY29sICsgJy8vJyArIG9yaWdpbiArICcvYXV0aC9oYW5kc2hha2Uvc3RhcnQnXHJcbiAgICAgICAgICAgICAgICAgICAgKyAnP2FwcD10aW55LWZpbGVzJ1xyXG4gICAgICAgICAgICAgICAgICAgICsgJyZyZWRpcmVjdD0nICsgbG9jYXRpb24ub3JpZ2luICsgJy9sb2dpbidcclxuICAgICAgICAgICAgICAgICAgICArICcmc2NvcGVzPWhvbWUsc3RvcmUsZGInXHJcbiAgICAgICAgICAgICAgICAgICAgKyAocGVyc29uYWwgPyBgJmZpbGVTY29wZXM9W1wiJHtkYXRhQnVzLnByaXZhdGVTY29wZX1cIiwgXCIke2RhdGFCdXMucHVibGljU2NvcGV9XCJdYCA6ICcmZmlsZVNjb3Blcz1bXCIvXCJdJylcclxuICAgICAgICAgICAgICAgICAgICArICh1c2VybmFtZSA/ICcmdXNlcm5hbWU9JyArIHVzZXJuYW1lIDogJycpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBhc3luYyBnZXRUb2tlbnMob3JpZ2luLCBjb2RlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0b2tlbnMgPSBhd2FpdCBheGlvcy5wb3N0KG9yaWdpbiArICcvYXV0aC90b2tlbicsIHtcclxuICAgICAgICAgICAgICAgICAgICBhcHA6ICd0aW55LWZpbGVzJyxcclxuICAgICAgICAgICAgICAgICAgICByZWRpcmVjdDogbG9jYXRpb24ub3JpZ2luICsgJy9sb2dpbicsXHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGVzOiAnaG9tZSxzdG9yZSxkYicsXHJcbiAgICAgICAgICAgICAgICAgICAgY29kZSxcclxuICAgICAgICAgICAgICAgICAgICBzZWNyZXQ6ICdrZXlib2FyZGNhdCdcclxuICAgICAgICAgICAgICAgIH0pLnRoZW4ocmVzID0+IHJlcy5kYXRhLCBlID0+IHsgaGFuZGxlRXJyb3IoZSk7IHRocm93IGU7IH0pO1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBpZCBvZiBPYmplY3Qua2V5cyh0b2tlbnMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YUJ1c1tpZCArICdVcmwnXSA9IHRva2Vuc1tpZF0udXJsO1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFCdXNbaWQgKyAnVG9rZW4nXSA9IHRva2Vuc1tpZF0udG9rZW47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFzeW5jIHJlZnJlc2goKSB7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChkYXRhQnVzLmluZm9BcnJheS5tYXAoKHsgaWQsIHVybCwgdG9rZW4gfSkgPT4gYXhpb3MuZ2V0KGAke3VybH0vYXV0aC9yZWZyZXNoP3NpZD0ke3Rva2VufWApXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzID0+IGRhdGFCdXNbaWQgKyAnVG9rZW4nXSA9IFN0cmluZyhyZXMuZGF0YSksIGhhbmRsZUVycm9yKSkpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBhc3luYyBsb2dvdXQoKSB7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChkYXRhQnVzLmluZm9BcnJheS5tYXAoKHsgdXJsLCB0b2tlbiB9KSA9PiBheGlvcy5wb3N0KGAke3VybH0vYXV0aC9sb2dvdXQ/c2lkPSR7dG9rZW59YCkpKVxyXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XHJcbiAgICAgICAgICAgICAgICBkYXRhQnVzLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fZmlsZXMgPSBPYmplY3QuZnJlZXplKHtcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIFJlYWQgYSBmaWxlXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIHRoZSBmaWxlIHBhdGggdG8gcmVhZFxyXG4gICAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gcmVzcG9uc2VUeXBlIChvcHRpb25hbCkgdGhlIHJlc3BvbnNlIHR5cGUgZm9yIGF4aW9zIHRvIGNhc3QgaW50b1xyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgYXN5bmMgcmVhZChwYXRoLCByZXNwb25zZVR5cGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoZGF0YUJ1cy5zdG9yZVVybCArICcvZmlsZXMnICsgcGF0aCArICc/c2lkPScgKyBkYXRhQnVzLnN0b3JlVG9rZW4sIHsgcmVzcG9uc2VUeXBlIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzID0+IHJlcy5kYXRhKVxyXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHsgaGFuZGxlRXJyb3IoZSk7IHRocm93IGU7IH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogR2V0IHRoZSBocmVmIHRvIHJlYWQgdGhlIGZpbGVcclxuICAgICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggdGhlIGZpbGUgcGF0aCB0byByZWFkXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBnZXRSZWFkVXJsKHBhdGgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhQnVzLnN0b3JlVXJsICsgJy9maWxlcycgKyBwYXRoICsgJz9zaWQ9JyArIGRhdGFCdXMuc3RvcmVUb2tlbjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIFdyaXRlIGEgcmF3IHN0cmVhbVxyXG4gICAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCB0aGUgZmlsZSBwYXRoXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7QXJyYXlCdWZmZXIgfSBkYXRhIHRoZSBkYXRhIHRvIHdyaXRlXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBhc3luYyB3cml0ZShwYXRoLCBkYXRhLCBjb250ZW50VHlwZSwgb25VcGxvYWRQcm9ncmVzcyA9ICgpID0+IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF4aW9zLnB1dChgJHtkYXRhQnVzLnN0b3JlVXJsfS9maWxlcyR7cGF0aH0/c2lkPSR7ZGF0YUJ1cy5zdG9yZVRva2VufSR7Y29udGVudFR5cGUgPyAnJmNvbnRlbnRUeXBlPScgKyBjb250ZW50VHlwZSA6ICcnfWAsIGRhdGEsIHsgaGVhZGVyczogY29udGVudFR5cGUgPyB7ICdDb250ZW50LVR5cGUnOiBjb250ZW50VHlwZSB9IDogdW5kZWZpbmVkLCBvblVwbG9hZFByb2dyZXNzIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4geyBoYW5kbGVFcnJvcihlKTsgdGhyb3cgZTsgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBXcml0ZSBhIGZpbGVcclxuICAgICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggdGhlIGZpbGUgcGF0aFxyXG4gICAgICAgICAgICAgKiBAcGFyYW0ge0ZpbGV9IGZpbGUgdGhlIGZpbGUgdG8gd3JpdGVcclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGFzeW5jIHdyaXRlRmlsZShwYXRoLCBmaWxlLCBvblVwbG9hZFByb2dyZXNzID0gKCkgPT4gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIGZpbGUpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXhpb3MucHV0KGRhdGFCdXMuc3RvcmVVcmwgKyAnL2ZpbGVzJyArIHBhdGggKyAnP3NpZD0nICsgZGF0YUJ1cy5zdG9yZVRva2VuLCBmb3JtRGF0YSwgeyBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScgfSwgb25VcGxvYWRQcm9ncmVzcyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHsgaGFuZGxlRXJyb3IoZSk7IHRocm93IGU7IH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogRGVsZXRlIGEgZmlsZVxyXG4gICAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCB0aGUgZmlsZSBwYXRoXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBhc3luYyBkZWxldGUocGF0aCkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXhpb3MuZGVsZXRlKGRhdGFCdXMuc3RvcmVVcmwgKyAnL2ZpbGVzJyArIHBhdGggKyAnP3NpZD0nICsgZGF0YUJ1cy5zdG9yZVRva2VuKVxyXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHsgaGFuZGxlRXJyb3IoZSk7IHRocm93IGU7IH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBhc3luYyBsaXN0RmlsZXMocGF0aCwgYWR2YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldChgJHtkYXRhQnVzLnN0b3JlVXJsfS9saXN0LWZpbGVzJHtwYXRoLmxlbmd0aCA+IDAgJiYgIXBhdGguc3RhcnRzV2l0aCgnLycpID8gJy8nIDogJyd9JHtwYXRofWBcclxuICAgICAgICAgICAgICAgICAgICArIGA/c2lkPSR7ZGF0YUJ1cy5zdG9yZVRva2VufSR7YWR2YW5jZSA/ICcmYWR2YW5jZT10cnVlJyA6ICcnfWApXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzID0+IHJlcy5kYXRhKVxyXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHsgaGFuZGxlRXJyb3IoZSk7IHRocm93IGU7IH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBhc3luYyBnZXRTdG9yYWdlU3RhdHMoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KGRhdGFCdXMuc3RvcmVVcmwgKyAnL3N0b3JhZ2Utc3RhdHMnICsgJz9zaWQ9JyArIGRhdGFCdXMuc3RvcmVUb2tlbilcclxuICAgICAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4gcmVzLmRhdGEpXHJcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4geyBoYW5kbGVFcnJvcihlKTsgdGhyb3cgZTsgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFzeW5jIHJlYWRQdWJsaWModXNlciwgcGF0aCwgcmVzcG9uc2VUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KGRhdGFCdXMuc3RvcmVVcmwgKyAnL3B1YmxpYy8nICsgdXNlciArIHBhdGgsIHsgcmVzcG9uc2VUeXBlIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzID0+IHJlcy5kYXRhKVxyXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHsgaGFuZGxlRXJyb3IoZSk7IHRocm93IGU7IH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBnZXRQdWJsaWNSZWFkVXJsKHVzZXIsIHBhdGgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhQnVzLnN0b3JlVXJsICsgJy9wdWJsaWMvJyArIHVzZXIgKyBwYXRoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBnZXQgYXV0aCgpIHsgcmV0dXJuIHRoaXMuX2F1dGg7IH1cclxuICAgIGFzeW5jIGRlbGV0ZVNlbGYoKSB7XHJcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoZGF0YUJ1cy5pbmZvQXJyYXkubWFwKCh7IHVybCwgdG9rZW4gfSkgPT4gYXhpb3MuZGVsZXRlKGAke3VybH0vc2VsZj9zaWQ9JHt0b2tlbn1gKVxyXG4gICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpKSk7XHJcbiAgICAgICAgZGF0YUJ1cy5jbGVhcigpO1xyXG4gICAgfVxyXG4gICAgZ2V0IGZpbGVzKCkgeyByZXR1cm4gdGhpcy5fZmlsZXM7IH1cclxufVxyXG47XHJcbmV4cG9ydCBkZWZhdWx0IG5ldyBUaW55QXBpKCk7XHJcbiIsImltcG9ydCB7IERpYWxvZ1Byb2dyYW1tYXRpYyB9IGZyb20gJ2J1ZWZ5JztcclxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VDZW50ZXJTdHlsZSgpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxyXG4gICAgICAgIGZsZXhGbG93OiAnY29sdW1uJyxcclxuICAgICAgICBmbGV4V3JhcDogJ25vd3JhcCcsXHJcbiAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXHJcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxyXG4gICAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxyXG4gICAgICAgIHRvcDogJzAnLFxyXG4gICAgICAgIGxlZnQ6ICcwJyxcclxuICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcclxuICAgICAgICB3aWR0aDogJzEwMCUnLFxyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3RyYW5zcGFyZW50J1xyXG4gICAgfTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gbWFrZUluaXRpYWxpemVyQ29tcG9uZW50KGgsIGxvYWRpbmdDb21wb25lbnQpIHtcclxuICAgIHJldHVybiBoKCdkaXYnLCB7IHN0YXRpY1N0eWxlOiBtYWtlQ2VudGVyU3R5bGUoKSB9LCBbaChsb2FkaW5nQ29tcG9uZW50KV0pO1xyXG59XHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYW5kbGVFcnJvcihlLCBhY3Rpb24pIHtcclxuICAgIHZhciBfYSwgX2I7XHJcbiAgICBjb25zdCBtZXNzYWdlID0gKChfYiA9IChfYSA9IGUucmVzcG9uc2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kYXRhKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IubWVzc2FnZSkgfHwgZS5tZXNzYWdlIHx8IFN0cmluZyhlKTtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXMgPT4gRGlhbG9nUHJvZ3JhbW1hdGljLmFsZXJ0KHtcclxuICAgICAgICB0aXRsZTogYWN0aW9uID8gJ0Vycm9yICcgKyBhY3Rpb24gOiAnRXJyb3InLFxyXG4gICAgICAgIG1lc3NhZ2UsXHJcbiAgICAgICAgdHlwZTogJ2lzLWRhbmdlcicsXHJcbiAgICAgICAgaGFzSWNvbjogdHJ1ZSxcclxuICAgICAgICBvbkNvbmZpcm06ICgpID0+IHJlcygpLFxyXG4gICAgICAgIG9uQ2FuY2VsOiAoKSA9PiByZXMoKVxyXG4gICAgfSkpO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRGaWxlSWNvbihjb250ZW50VHlwZSkge1xyXG4gICAgaWYgKGNvbnRlbnRUeXBlLnN0YXJ0c1dpdGgoJ2FwcGxpY2F0aW9uL2pzb24nKSlcclxuICAgICAgICByZXR1cm4geyBmaWxlSWNvbjogJ2ZpbGUtY29kZScsIGZpbGVJY29uQ29sb3I6ICcjZjQ0MzM2JyB9O1xyXG4gICAgaWYgKGNvbnRlbnRUeXBlLnN0YXJ0c1dpdGgoJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbScpKVxyXG4gICAgICAgIHJldHVybiB7IGZpbGVJY29uOiAnZmlsZS1xdWVzdGlvbicsIGZpbGVJY29uQ29sb3I6ICcjQkRCREJEJyB9O1xyXG4gICAgaWYgKGNvbnRlbnRUeXBlLnN0YXJ0c1dpdGgoJ3RleHQnKSlcclxuICAgICAgICByZXR1cm4geyBmaWxlSWNvbjogJ2ZpbGUtZG9jdW1lbnQnLCBmaWxlSWNvbkNvbG9yOiAnIzNGNTFCNScgfTtcclxuICAgIGlmIChjb250ZW50VHlwZS5zdGFydHNXaXRoKCdhcHBsaWNhdGlvbi9wZGYnKSlcclxuICAgICAgICByZXR1cm4geyBmaWxlSWNvbjogJ2ZpbGUtcGRmJywgZmlsZUljb25Db2xvcjogJyMzRjUxQjUnIH07XHJcbiAgICBpZiAoY29udGVudFR5cGUuc3RhcnRzV2l0aCgnYXVkaW8nKSB8fCBjb250ZW50VHlwZS5zdGFydHNXaXRoKCd2aWRlby9vZ2cnKSlcclxuICAgICAgICByZXR1cm4geyBmaWxlSWNvbjogJ2ZpbGUtbXVzaWMnLCBmaWxlSWNvbkNvbG9yOiAnI0U5MUU2MycgfTtcclxuICAgIGlmIChjb250ZW50VHlwZS5zdGFydHNXaXRoKCdpbWFnZScpKVxyXG4gICAgICAgIHJldHVybiB7IGZpbGVJY29uOiAnZmlsZS1pbWFnZScsIGZpbGVJY29uQ29sb3I6ICcjNENBRjUwJyB9O1xyXG4gICAgaWYgKGNvbnRlbnRUeXBlLnN0YXJ0c1dpdGgoJ3ZpZGVvJykpXHJcbiAgICAgICAgcmV0dXJuIHsgZmlsZUljb246ICdmaWxlLXZpZGVvJywgZmlsZUljb25Db2xvcjogJyM2NzNBQjcnIH07XHJcbiAgICByZXR1cm4geyBmaWxlSWNvbjogJ2ZpbGUnLCBmaWxlSWNvbkNvbG9yOiAnIzc4OTA5QycgfTtcclxufVxyXG4iLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2FwcC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NWQ4N2U3ZWEmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vYXBwLnRzP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9hcHAudHM/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmltcG9ydCBzdHlsZTAgZnJvbSBcIi4vYXBwLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9c2NzcyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiQzpcXFxcVXNlcnNcXFxcbXRjMTJcXFxcRG9jdW1lbnRzXFxcXFdvcmtcXFxcTWVcXFxcdGlueS1maWxlc1xcXFxub2RlX21vZHVsZXNcXFxcdnVlLWhvdC1yZWxvYWQtYXBpXFxcXGRpc3RcXFxcaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCc1ZDg3ZTdlYScpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCc1ZDg3ZTdlYScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCc1ZDg3ZTdlYScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vYXBwLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD01ZDg3ZTdlYSZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCc1ZDg3ZTdlYScsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC9hcHAudnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9leHBsb3Jlci52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NDk5NzU4YWYmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vZXhwbG9yZXIudHM/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL2V4cGxvcmVyLnRzP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5pbXBvcnQgc3R5bGUwIGZyb20gXCIuL2V4cGxvcmVyLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9c2NzcyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiQzpcXFxcVXNlcnNcXFxcbXRjMTJcXFxcRG9jdW1lbnRzXFxcXFdvcmtcXFxcTWVcXFxcdGlueS1maWxlc1xcXFxub2RlX21vZHVsZXNcXFxcdnVlLWhvdC1yZWxvYWQtYXBpXFxcXGRpc3RcXFxcaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCc0OTk3NThhZicpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCc0OTk3NThhZicsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCc0OTk3NThhZicsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vZXhwbG9yZXIudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTQ5OTc1OGFmJlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJzQ5OTc1OGFmJywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvY29tcG9uZW50cy9leHBsb3Jlci9leHBsb3Jlci52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2xvYWRpbmcudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPWQ5NjBhZGVlJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2xvYWRpbmcudHM/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL2xvYWRpbmcudHM/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmltcG9ydCBzdHlsZTAgZnJvbSBcIi4vbG9hZGluZy52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPXNjc3MmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkge1xuICB2YXIgYXBpID0gcmVxdWlyZShcIkM6XFxcXFVzZXJzXFxcXG10YzEyXFxcXERvY3VtZW50c1xcXFxXb3JrXFxcXE1lXFxcXHRpbnktZmlsZXNcXFxcbm9kZV9tb2R1bGVzXFxcXHZ1ZS1ob3QtcmVsb2FkLWFwaVxcXFxkaXN0XFxcXGluZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnZDk2MGFkZWUnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnZDk2MGFkZWUnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnZDk2MGFkZWUnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL2xvYWRpbmcudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPWQ5NjBhZGVlJlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJ2Q5NjBhZGVlJywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvY29tcG9uZW50cy9sb2FkaW5nL2xvYWRpbmcudnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9ub3QtZm91bmQudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTY0ZjQ1ZjZkJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL25vdC1mb3VuZC50cz92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vbm90LWZvdW5kLnRzP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5pbXBvcnQgc3R5bGUwIGZyb20gXCIuL25vdC1mb3VuZC52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPXNjc3MmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkge1xuICB2YXIgYXBpID0gcmVxdWlyZShcIkM6XFxcXFVzZXJzXFxcXG10YzEyXFxcXERvY3VtZW50c1xcXFxXb3JrXFxcXE1lXFxcXHRpbnktZmlsZXNcXFxcbm9kZV9tb2R1bGVzXFxcXHZ1ZS1ob3QtcmVsb2FkLWFwaVxcXFxkaXN0XFxcXGluZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnNjRmNDVmNmQnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnNjRmNDVmNmQnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnNjRmNDVmNmQnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL25vdC1mb3VuZC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NjRmNDVmNmQmXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignNjRmNDVmNmQnLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNyYy9wYWdlcy9ub3QtZm91bmQvbm90LWZvdW5kLnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4vYXBwLnRzP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuL2FwcC50cz92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4vZXhwbG9yZXIudHM/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4vZXhwbG9yZXIudHM/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCIiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuL2xvYWRpbmcudHM/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4vbG9hZGluZy50cz92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4vbm90LWZvdW5kLnRzP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuL25vdC1mb3VuZC50cz92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIiIsInZhciByZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXG4gICAgXCJkaXZcIixcbiAgICB7IGF0dHJzOiB7IGlkOiBcImFwcFwiIH0gfSxcbiAgICBbXG4gICAgICBfdm0ubG9nZ2VkSW5cbiAgICAgICAgPyBfYyhcbiAgICAgICAgICAgIFwiYi1kcm9wZG93blwiLFxuICAgICAgICAgICAgeyBhdHRyczogeyBpZDogXCJhY2NvdW50LWRyb3Bkb3duXCIsIHBvc2l0aW9uOiBcImlzLWJvdHRvbS1sZWZ0XCIgfSB9LFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICBcImJ1dHRvblwiLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImhhcy1iYWNrZ3JvdW5kLXByaW1hcnlcIixcbiAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IHNsb3Q6IFwidHJpZ2dlclwiLCBpZDogXCJtZW51LWZhYlwiIH0sXG4gICAgICAgICAgICAgICAgICBzbG90OiBcInRyaWdnZXJcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgW19jKFwiYi1pY29uXCIsIHsgYXR0cnM6IHsgaWNvbjogXCJhY2NvdW50XCIgfSB9KV0sXG4gICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICBcImItZHJvcGRvd24taXRlbVwiLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImhvdmVyLWluZm9cIixcbiAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLnNldHRpbmdzKClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgW192bS5fdihcInNldHRpbmdzXCIpXVxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICBcImItZHJvcGRvd24taXRlbVwiLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLmxvZ291dCgpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFtfdm0uX3YoXCJsb2dvdXRcIildXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgIFwiYi1kcm9wZG93bi1pdGVtXCIsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiaG92ZXItZGFuZ2VyXCIsXG4gICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5kZWxldGVTZWxmKClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgX2MoXCJiLWljb25cIiwge1xuICAgICAgICAgICAgICAgICAgICBhdHRyczogeyBpY29uOiBcImFsZXJ0LWNpcmNsZS1vdXRsaW5lXCIsIHNpemU6IFwiaXMtc21hbGxcIiB9XG4gICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgIF92bS5fdihcIsKgZGVsZXRlIHNlbGZcIilcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIDFcbiAgICAgICAgICApXG4gICAgICAgIDogX3ZtLl9lKCksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXCJyb3V0ZXItdmlld1wiKVxuICAgIF0sXG4gICAgMVxuICApXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcImRpdlwiLCB7IGF0dHJzOiB7IGlkOiBcInRpbnktZXhwbG9yZXJcIiB9IH0sIFtcbiAgICBfYyhcImRpdlwiLCB7IGF0dHJzOiB7IGlkOiBcImhlYWRlclwiIH0gfSwgW1xuICAgICAgX2MoXCJkaXZcIiwge1xuICAgICAgICBzdGF0aWNDbGFzczogXCJoYXMtYmFja2dyb3VuZC1wcmltYXJ5XCIsXG4gICAgICAgIHN0eWxlOiB7IHdpZHRoOiAoX3ZtLnByb2dyZXNzICogMTAwKS50b0ZpeGVkKDIpICsgXCIlXCIgfSxcbiAgICAgICAgYXR0cnM6IHsgaWQ6IFwicHJvZ3Jlc3NcIiB9XG4gICAgICB9KSxcbiAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICBfYyhcbiAgICAgICAgXCJkaXZcIixcbiAgICAgICAgeyBhdHRyczogeyBpZDogXCJwYXRoXCIgfSB9LFxuICAgICAgICBbXG4gICAgICAgICAgX2MoXG4gICAgICAgICAgICBcImJ1dHRvblwiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJidXR0b24gaXMtc21hbGwgaXMtZGFya1wiLFxuICAgICAgICAgICAgICBzdGF0aWNTdHlsZTogeyBcIm1hcmdpbi1yaWdodFwiOiBcIjAuNXJlbVwiIH0sXG4gICAgICAgICAgICAgIGF0dHJzOiB7IGRpc2FibGVkOiBfdm0uc3BsaXREaXIubGVuZ3RoIDw9IDEgfSxcbiAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLmdvdG8oX3ZtLnNwbGl0RGlyLmxlbmd0aCAtIDIpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICBfYyhcImItaWNvblwiLCB7XG4gICAgICAgICAgICAgICAgc3RhdGljU3R5bGU6IHsgY29sb3I6IFwiI0ZGRDU0RlwiIH0sXG4gICAgICAgICAgICAgICAgYXR0cnM6IHsgaWNvbjogXCJmb2xkZXItdXBsb2FkXCIgfVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIDFcbiAgICAgICAgICApLFxuICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgX3ZtLl9sKF92bS5zcGxpdERpciwgZnVuY3Rpb24oZCwgaSkge1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgXCJhXCIsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAga2V5OiBcImEtXCIgKyBpLFxuICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwidGFnXCIsXG4gICAgICAgICAgICAgICAgICBhdHRyczogeyB0aXRsZTogZCB9LFxuICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0uZ290byhpKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBbX2MoXCJzcGFuXCIsIFtfdm0uX3YoX3ZtLl9zKGQpKV0pXVxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICBpICsgMSA8IF92bS5zcGxpdERpci5sZW5ndGhcbiAgICAgICAgICAgICAgICA/IF9jKFxuICAgICAgICAgICAgICAgICAgICBcInNwYW5cIixcbiAgICAgICAgICAgICAgICAgICAgeyBrZXk6IFwicy1cIiArIGkgfSxcbiAgICAgICAgICAgICAgICAgICAgW19jKFwiYi1pY29uXCIsIHsgYXR0cnM6IHsgaWNvbjogXCJjaGV2cm9uLXJpZ2h0XCIgfSB9KV0sXG4gICAgICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICA6IF92bS5fZSgpXG4gICAgICAgICAgICBdXG4gICAgICAgICAgfSlcbiAgICAgICAgXSxcbiAgICAgICAgMlxuICAgICAgKSxcbiAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICBfYyhcImRpdlwiLCB7IGF0dHJzOiB7IGlkOiBcImJ1dHRvbnNcIiB9IH0sIFtcbiAgICAgICAgX2MoXCJkaXZcIiwge1xuICAgICAgICAgIGRpcmVjdGl2ZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgbmFtZTogXCJzaG93XCIsXG4gICAgICAgICAgICAgIHJhd05hbWU6IFwidi1zaG93XCIsXG4gICAgICAgICAgICAgIHZhbHVlOiBfdm0ud29ya2luZyxcbiAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJ3b3JraW5nXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdLFxuICAgICAgICAgIGF0dHJzOiB7IGlkOiBcInRpbnktbG9hZGluZy1zbWFsbFwiIH1cbiAgICAgICAgfSksXG4gICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgIF9jKFxuICAgICAgICAgIFwiYnV0dG9uXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiYnV0dG9uIGlzLXNtYWxsIGlzLWRhcmtcIixcbiAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgIGRpc2FibGVkOiAhX3ZtLmFueUFjdGl2ZSB8fCBfdm0ud29ya2luZyxcbiAgICAgICAgICAgICAgdGl0bGU6IFwiRG93bmxvYWRcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLmRvd25sb2FkU2VsZWN0ZWQoKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBbX2MoXCJiLWljb25cIiwgeyBhdHRyczogeyBpY29uOiBcImRvd25sb2FkXCIgfSB9KV0sXG4gICAgICAgICAgMVxuICAgICAgICApXG4gICAgICBdKVxuICAgIF0pLFxuICAgIF92bS5fdihcIiBcIiksXG4gICAgX2MoXG4gICAgICBcImRpdlwiLFxuICAgICAgeyBzdGF0aWNDbGFzczogXCJleHAtZ3JpZFwiLCBhdHRyczogeyBpZDogXCJleHBsb3Jlci1oZWFkZXJcIiB9IH0sXG4gICAgICBbXG4gICAgICAgICFfdm0udmlld09ubHlcbiAgICAgICAgICA/IF9jKFxuICAgICAgICAgICAgICBcImJ1dHRvblwiLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiYnV0dG9uIGlzLXNtYWxsIGlzLWRhcmtcIixcbiAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLm5ld0ZvbGRlcigpXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgX2MoXCJiLWljb25cIiwge1xuICAgICAgICAgICAgICAgICAgc3RhdGljU3R5bGU6IHsgY29sb3I6IFwiI0ZGRDU0RlwiIH0sXG4gICAgICAgICAgICAgICAgICBhdHRyczogeyBpY29uOiBcImZvbGRlci1wbHVzXCIgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgIDFcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IF92bS5fZSgpLFxuICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICBfYyhcbiAgICAgICAgICBcImJ1dHRvblwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImJ1dHRvbiBpcy1kYXJrXCIsXG4gICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF92bS5zb3J0KFwibmFtZVwiKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBbXG4gICAgICAgICAgICBfYyhcInNwYW5cIiwgW192bS5fdihcIk5hbWVcIildKSxcbiAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICBfYyhcImItaWNvblwiLCB7XG4gICAgICAgICAgICAgIGRpcmVjdGl2ZXM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBuYW1lOiBcInNob3dcIixcbiAgICAgICAgICAgICAgICAgIHJhd05hbWU6IFwidi1zaG93XCIsXG4gICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLnNvcnRCeU5hbWUgPT09IFwibmFtZVwiLFxuICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogJ3NvcnRCeU5hbWUgPT09IFwibmFtZVwiJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgYXR0cnM6IHsgaWNvbjogX3ZtLnNvcnRCeURpciA/IFwiY2hldnJvbi11cFwiIDogXCJjaGV2cm9uLWRvd25cIiB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIF0sXG4gICAgICAgICAgMVxuICAgICAgICApLFxuICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICBfYyhcbiAgICAgICAgICBcImJ1dHRvblwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImJ1dHRvbiBpcy1kYXJrXCIsXG4gICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF92bS5zb3J0KFwic2l6ZVwiKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBbXG4gICAgICAgICAgICBfYyhcInNwYW5cIiwgW192bS5fdihcIlNpemVcIildKSxcbiAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICBfYyhcImItaWNvblwiLCB7XG4gICAgICAgICAgICAgIGRpcmVjdGl2ZXM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBuYW1lOiBcInNob3dcIixcbiAgICAgICAgICAgICAgICAgIHJhd05hbWU6IFwidi1zaG93XCIsXG4gICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLnNvcnRCeU5hbWUgPT09IFwic2l6ZVwiLFxuICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogJ3NvcnRCeU5hbWUgPT09IFwic2l6ZVwiJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgYXR0cnM6IHsgaWNvbjogX3ZtLnNvcnRCeURpciA/IFwiY2hldnJvbi11cFwiIDogXCJjaGV2cm9uLWRvd25cIiB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIF0sXG4gICAgICAgICAgMVxuICAgICAgICApLFxuICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICBfYyhcbiAgICAgICAgICBcImJ1dHRvblwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImJ1dHRvbiBpcy1kYXJrXCIsXG4gICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF92bS5zb3J0KFwibW9kXCIpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIFtcbiAgICAgICAgICAgIF9jKFwic3BhblwiLCBbX3ZtLl92KFwiTGFzdCBNb2RpZmllZFwiKV0pLFxuICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgIF9jKFwiYi1pY29uXCIsIHtcbiAgICAgICAgICAgICAgZGlyZWN0aXZlczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIG5hbWU6IFwic2hvd1wiLFxuICAgICAgICAgICAgICAgICAgcmF3TmFtZTogXCJ2LXNob3dcIixcbiAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uc29ydEJ5TmFtZSA9PT0gXCJtb2RcIixcbiAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246ICdzb3J0QnlOYW1lID09PSBcIm1vZFwiJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgYXR0cnM6IHsgaWNvbjogX3ZtLnNvcnRCeURpciA/IFwiY2hldnJvbi11cFwiIDogXCJjaGV2cm9uLWRvd25cIiB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIF0sXG4gICAgICAgICAgMVxuICAgICAgICApLFxuICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICBfYyhcbiAgICAgICAgICBcImItZHJvcGRvd25cIixcbiAgICAgICAgICB7IGF0dHJzOiB7IFwiYXJpYS1yb2xlXCI6IFwibGlzdFwiLCBwb3NpdGlvbjogXCJpcy1ib3R0b20tbGVmdFwiIH0gfSxcbiAgICAgICAgICBbXG4gICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgXCJidXR0b25cIixcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImRvdC1idXR0b24gaG92ZXItcHJpbWFyeVwiLFxuICAgICAgICAgICAgICAgIGF0dHJzOiB7IHNsb3Q6IFwidHJpZ2dlclwiIH0sXG4gICAgICAgICAgICAgICAgc2xvdDogXCJ0cmlnZ2VyXCJcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgW19jKFwiYi1pY29uXCIsIHsgYXR0cnM6IHsgaWNvbjogXCJkb3RzLWhvcml6b250YWxcIiB9IH0pXSxcbiAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgXCJiLWRyb3Bkb3duLWl0ZW1cIixcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF0dHJzOiB7IFwiYXJpYS1yb2xlXCI6IFwibGlzdC1pdGVtXCIgfSxcbiAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLmRvd25sb2FkRGlyKF92bS5kaXIpXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBbX3ZtLl92KFwiRG93bmxvYWRcIildXG4gICAgICAgICAgICApXG4gICAgICAgICAgXSxcbiAgICAgICAgICAxXG4gICAgICAgIClcbiAgICAgIF0sXG4gICAgICAxXG4gICAgKSxcbiAgICBfdm0uX3YoXCIgXCIpLFxuICAgIF9jKFxuICAgICAgXCJkaXZcIixcbiAgICAgIHsgcmVmOiBcImV4cGxvcmVyXCIsIGF0dHJzOiB7IGlkOiBcImV4cGxvcmVyXCIgfSB9LFxuICAgICAgW1xuICAgICAgICBfYyhcbiAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGF0dHJzOiB7IGlkOiBcImJhY2tncm91bmRcIiB9LFxuICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgbW91c2Vkb3duOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLmRyYXdTdGFydCgkZXZlbnQpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIFtcbiAgICAgICAgICAgICFfdm0uaW5kZXggfHxcbiAgICAgICAgICAgICFfdm0uaW5kZXhbX3ZtLmRpcl0gfHxcbiAgICAgICAgICAgIChfdm0uaW5kZXhbX3ZtLmRpcl0uZm9sZGVycy5sZW5ndGggPT09IDAgJiZcbiAgICAgICAgICAgICAgX3ZtLmluZGV4W192bS5kaXJdLmZpbGVzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgPyBfYyhcImg1XCIsIHsgc3RhdGljQ2xhc3M6IFwic3VidGl0bGUgaXMtNVwiIH0sIFtcbiAgICAgICAgICAgICAgICAgIF92bS5fdihcIlxcclxcbiAgICAgICAgTm90aGluZyBoZXJlLi4uXFxyXFxuICAgICAgXCIpXG4gICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgOiBfdm0uX2UoKVxuICAgICAgICAgIF1cbiAgICAgICAgKSxcbiAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgX3ZtLmluZGV4ICYmIF92bS5pbmRleFtfdm0uZGlyXVxuICAgICAgICAgID8gW1xuICAgICAgICAgICAgICBfdm0uX2woX3ZtLnNvcnRlZEZvbGRlcnMsIGZ1bmN0aW9uKGZvbGRlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBfYyhcInJvdXRlci1saW5rXCIsIHtcbiAgICAgICAgICAgICAgICAgIGtleTogXCIvXCIgKyBmb2xkZXIubmFtZSxcbiAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IHRvOiBfdm0uZ2V0UGF0aChmb2xkZXIubmFtZSksIGN1c3RvbTogXCJcIiB9LFxuICAgICAgICAgICAgICAgICAgc2NvcGVkU2xvdHM6IF92bS5fdShcbiAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleTogXCJkZWZhdWx0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmbjogZnVuY3Rpb24ocmVmKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBocmVmID0gcmVmLmhyZWZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJmb2xkZXIgZXhwLWdyaWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmU6IF92bS5hY3RpdmVbXCIvXCIgKyBmb2xkZXIubmFtZV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJsYXN0LWFjdGl2ZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLmxhc3RBY3RpdmUgPT09IFwiL1wiICsgZm9sZGVyLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgaWQ6IFwibS0vXCIgKyBmb2xkZXIubmFtZSwgaHJlZjogaHJlZiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0uY2xpY2tJdGVtKCRldmVudCwgZm9sZGVyLCB0cnVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoXCJiLWljb25cIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY1N0eWxlOiB7IGNvbG9yOiBcIiNGRkQ1NEZcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBcImZvbGRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGZvbGRlci5pdGVtQ291bnQgKyBcIiBpdGVtc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0YXRpY1N0eWxlOiB7IFwicGFkZGluZy1sZWZ0XCI6IFwiMWVtXCIgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtfYyhcInNwYW5cIiwgW192bS5fdihfdm0uX3MoZm9sZGVyLm5hbWUpKV0pXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcInNwYW5cIiwgW192bS5fdihfdm0uX3MoZm9sZGVyLnNpemUpKV0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcInNwYW5cIiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihfdm0uX3MoZm9sZGVyLmxhc3RNb2RpZmllZCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImItZHJvcGRvd25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImFyaWEtcm9sZVwiOiBcImxpc3RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwiaXMtYm90dG9tLWxlZnRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJkb3QtYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgc2xvdDogXCJ0cmlnZ2VyXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbG90OiBcInRyaWdnZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoXCJiLWljb25cIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgaWNvbjogXCJkb3RzLWhvcml6b250YWxcIiB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJiLWRyb3Bkb3duLWl0ZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IFwiYXJpYS1yb2xlXCI6IFwibGlzdC1pdGVtXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLmRvd25sb2FkRGlyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5kaXIgKyBmb2xkZXIubmFtZSArIFwiL1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtfdm0uX3YoXCJEb3dubG9hZFwiKV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIV92bS52aWV3T25seVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImItZHJvcGRvd24taXRlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYXJpYS1yb2xlXCI6IFwibGlzdC1pdGVtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0uJGVtaXQoXCJkZWxldGVcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZm9sZGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogZm9sZGVyLnBhdGhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtfdm0uX3YoXCJEZWxldGVcIildXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IF92bS5fZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgIF92bS5fbChfdm0uc29ydGVkRmlsZXMsIGZ1bmN0aW9uKGZpbGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2MoXG4gICAgICAgICAgICAgICAgICBcImFcIixcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiBmaWxlLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImZpbGUgZXhwLWdyaWRcIixcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICBhY3RpdmU6IF92bS5hY3RpdmVbZmlsZS5uYW1lXSxcbiAgICAgICAgICAgICAgICAgICAgICBcImxhc3QtYWN0aXZlXCI6IF92bS5sYXN0QWN0aXZlID09PSBmaWxlLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICBpZDogXCJtLVwiICsgZmlsZS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgIGhyZWY6IF92bS5nZXRMaW5rKGZpbGUucGF0aClcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLmNsaWNrSXRlbSgkZXZlbnQsIGZpbGUpXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICBfYyhcImItaWNvblwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsgY29sb3I6IGZpbGUuZmlsZUljb25Db2xvciB9LFxuICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IGljb246IGZpbGUuZmlsZUljb24sIHRpdGxlOiBmaWxlLmNvbnRlbnRUeXBlIH1cbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljU3R5bGU6IHsgXCJwYWRkaW5nLWxlZnRcIjogXCIxZW1cIiB9IH0sIFtcbiAgICAgICAgICAgICAgICAgICAgICBfYyhcInNwYW5cIiwgW192bS5fdihfdm0uX3MoZmlsZS5uYW1lKSldKVxuICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgX2MoXCJzcGFuXCIsIFtfdm0uX3YoX3ZtLl9zKGZpbGUuc2l6ZSkpXSksXG4gICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgIF9jKFwic3BhblwiLCBbX3ZtLl92KF92bS5fcyhmaWxlLmxhc3RNb2RpZmllZCkpXSksXG4gICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICAgIFwiYi1kcm9wZG93blwiLFxuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwiYXJpYS1yb2xlXCI6IFwibGlzdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJpcy1ib3R0b20tbGVmdFwiXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJidXR0b25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImRvdC1idXR0b25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczogeyBzbG90OiBcInRyaWdnZXJcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsb3Q6IFwidHJpZ2dlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcImItaWNvblwiLCB7IGF0dHJzOiB7IGljb246IFwiZG90cy1ob3Jpem9udGFsXCIgfSB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcImItZHJvcGRvd24taXRlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgXCJhcmlhLXJvbGVcIjogXCJsaXN0LWl0ZW1cIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0ub3BlbkZpbGUoZmlsZS5wYXRoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgW192bS5fdihcIk9wZW5cIildXG4gICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICFfdm0udmlld09ubHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJiLWRyb3Bkb3duLWl0ZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IFwiYXJpYS1yb2xlXCI6IFwibGlzdC1pdGVtXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLiRlbWl0KFwiZGVsZXRlXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImZpbGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBmaWxlLnBhdGhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtfdm0uX3YoXCJEZWxldGVcIildXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IF92bS5fZSgpXG4gICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAyXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgXVxuICAgICAgICAgIDogX3ZtLl9lKCksXG4gICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgIF9jKFwiZGl2XCIsIHtcbiAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG5hbWU6IFwic2hvd1wiLFxuICAgICAgICAgICAgICByYXdOYW1lOiBcInYtc2hvd1wiLFxuICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmRyYXdpbmcsXG4gICAgICAgICAgICAgIGV4cHJlc3Npb246IFwiZHJhd2luZ1wiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXSxcbiAgICAgICAgICBzdHlsZTogX3ZtLmRyYXdQb3MsXG4gICAgICAgICAgYXR0cnM6IHsgaWQ6IFwic2VsZWN0Ym94XCIgfVxuICAgICAgICB9KVxuICAgICAgXSxcbiAgICAgIDJcbiAgICApXG4gIF0pXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcImRpdlwiLCB7IGF0dHJzOiB7IGlkOiBcInRpbnktbG9hZGluZ1wiIH0gfSlcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF9jKFxuICAgIFwiZGl2XCIsXG4gICAgeyBzdGF0aWNDbGFzczogXCJjb250ZW50XCIsIGF0dHJzOiB7IGlkOiBcInRpbnktbm90LWZvdW5kXCIgfSB9LFxuICAgIFtcbiAgICAgIF9jKFwiaDFcIiwgW192bS5fdihcIjQwNCBOb3QgRm91bmRcIildKSxcbiAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICBfYyhcbiAgICAgICAgXCJwXCIsXG4gICAgICAgIFtcbiAgICAgICAgICBfdm0uX3YoXCJDb3VsZG4ndCBmaW5kIHRoZSBwYWdlIHlvdSB3ZXJlIGxvb2tpbmcgZm9yLiBUcnkgZ29pbmcgXCIpLFxuICAgICAgICAgIF9jKFwicm91dGVyLWxpbmtcIiwgeyBhdHRyczogeyB0bzogXCIvXCIgfSB9LCBbX3ZtLl92KFwiSG9tZVwiKV0pLFxuICAgICAgICAgIF92bS5fdihcIj9cIilcbiAgICAgICAgXSxcbiAgICAgICAgMVxuICAgICAgKVxuICAgIF1cbiAgKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdGlmKF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0pIHtcblx0XHRyZXR1cm4gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdGlkOiBtb2R1bGVJZCxcblx0XHRsb2FkZWQ6IGZhbHNlLFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcblx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4vLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5tID0gX193ZWJwYWNrX21vZHVsZXNfXztcblxuLy8gdGhlIHN0YXJ0dXAgZnVuY3Rpb25cbi8vIEl0J3MgZW1wdHkgYXMgc29tZSBydW50aW1lIG1vZHVsZSBoYW5kbGVzIHRoZSBkZWZhdWx0IGJlaGF2aW9yXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnggPSB4ID0+IHt9O1xuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmYgPSB7fTtcbi8vIFRoaXMgZmlsZSBjb250YWlucyBvbmx5IHRoZSBlbnRyeSBjaHVuay5cbi8vIFRoZSBjaHVuayBsb2FkaW5nIGZ1bmN0aW9uIGZvciBhZGRpdGlvbmFsIGNodW5rc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5lID0gKGNodW5rSWQpID0+IHtcblx0cmV0dXJuIFByb21pc2UuYWxsKE9iamVjdC5rZXlzKF9fd2VicGFja19yZXF1aXJlX18uZikucmVkdWNlKChwcm9taXNlcywga2V5KSA9PiB7XG5cdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5mW2tleV0oY2h1bmtJZCwgcHJvbWlzZXMpO1xuXHRcdHJldHVybiBwcm9taXNlcztcblx0fSwgW10pKTtcbn07IiwiLy8gVGhpcyBmdW5jdGlvbiBhbGxvdyB0byByZWZlcmVuY2UgYXN5bmMgY2h1bmtzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnUgPSAoY2h1bmtJZCkgPT4ge1xuXHQvLyByZXR1cm4gdXJsIGZvciBmaWxlbmFtZXMgYmFzZWQgb24gdGVtcGxhdGVcblx0cmV0dXJuIFwiXCIgKyBjaHVua0lkICsgXCIuXCIgKyB7XCJ2ZW5kb3JzLW5vZGVfbW9kdWxlc19tZGlfZm9udF9jc3NfbWF0ZXJpYWxkZXNpZ25pY29uc19jc3NcIjpcImY2NjNlYmYwYTY2NzM0NzdlMWE5XCIsXCJub2RlX21vZHVsZXNfbWRpX2ZvbnRfY3NzX21hdGVyaWFsZGVzaWduaWNvbnNfY3NzXCI6XCI5YWY5Mzg2MGIwYWQwYmNjNGY0ZVwiLFwic3JjX3BhZ2VzX2hvbWVfaG9tZV92dWVcIjpcIjc3MGUyYWQ1MDZhZTJmMGU5MGUyXCIsXCJzcmNfcGFnZXNfYnJvd3NlX2Jyb3dzZV92dWVcIjpcIjNhZTQ2ZDZhYjkwMjg3ZmRmYTI0XCIsXCJzcmNfcGFnZXNfc2V0dGluZ3Nfc2V0dGluZ3NfdnVlXCI6XCIzODNlOWFiYmQ1ODAxZTQxODA5MVwiLFwic3JjX3BhZ2VzX2xvZ2luX2xvZ2luX3Z1ZVwiOlwiNzRkMGFjMTI5MTgzMGRiNWNmODlcIn1bY2h1bmtJZF0gKyBcIi5qc1wiO1xufTsiLCIvLyBUaGlzIGZ1bmN0aW9uIGFsbG93IHRvIHJlZmVyZW5jZSBhbGwgY2h1bmtzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm1pbmlDc3NGID0gKGNodW5rSWQpID0+IHtcblx0Ly8gcmV0dXJuIHVybCBmb3IgZmlsZW5hbWVzIGJhc2VkIG9uIHRlbXBsYXRlXG5cdHJldHVybiBcIlwiICsgY2h1bmtJZCArIFwiLmNzc1wiO1xufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJ2YXIgaW5Qcm9ncmVzcyA9IHt9O1xudmFyIGRhdGFXZWJwYWNrUHJlZml4ID0gXCJ0aW55LWZpbGVzOlwiO1xuLy8gbG9hZFNjcmlwdCBmdW5jdGlvbiB0byBsb2FkIGEgc2NyaXB0IHZpYSBzY3JpcHQgdGFnXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmwgPSAodXJsLCBkb25lLCBrZXksIGNodW5rSWQpID0+IHtcblx0aWYoaW5Qcm9ncmVzc1t1cmxdKSB7IGluUHJvZ3Jlc3NbdXJsXS5wdXNoKGRvbmUpOyByZXR1cm47IH1cblx0dmFyIHNjcmlwdCwgbmVlZEF0dGFjaDtcblx0aWYoa2V5ICE9PSB1bmRlZmluZWQpIHtcblx0XHR2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBzY3JpcHRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgcyA9IHNjcmlwdHNbaV07XG5cdFx0XHRpZihzLmdldEF0dHJpYnV0ZShcInNyY1wiKSA9PSB1cmwgfHwgcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLXdlYnBhY2tcIikgPT0gZGF0YVdlYnBhY2tQcmVmaXggKyBrZXkpIHsgc2NyaXB0ID0gczsgYnJlYWs7IH1cblx0XHR9XG5cdH1cblx0aWYoIXNjcmlwdCkge1xuXHRcdG5lZWRBdHRhY2ggPSB0cnVlO1xuXHRcdHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuXG5cdFx0c2NyaXB0LmNoYXJzZXQgPSAndXRmLTgnO1xuXHRcdHNjcmlwdC50aW1lb3V0ID0gMTIwO1xuXHRcdGlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLm5jKSB7XG5cdFx0XHRzY3JpcHQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgX193ZWJwYWNrX3JlcXVpcmVfXy5uYyk7XG5cdFx0fVxuXHRcdHNjcmlwdC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXdlYnBhY2tcIiwgZGF0YVdlYnBhY2tQcmVmaXggKyBrZXkpO1xuXHRcdHNjcmlwdC5zcmMgPSB1cmw7XG5cdH1cblx0aW5Qcm9ncmVzc1t1cmxdID0gW2RvbmVdO1xuXHR2YXIgb25TY3JpcHRDb21wbGV0ZSA9IChwcmV2LCBldmVudCkgPT4ge1xuXHRcdC8vIGF2b2lkIG1lbSBsZWFrcyBpbiBJRS5cblx0XHRzY3JpcHQub25lcnJvciA9IHNjcmlwdC5vbmxvYWQgPSBudWxsO1xuXHRcdGNsZWFyVGltZW91dCh0aW1lb3V0KTtcblx0XHR2YXIgZG9uZUZucyA9IGluUHJvZ3Jlc3NbdXJsXTtcblx0XHRkZWxldGUgaW5Qcm9ncmVzc1t1cmxdO1xuXHRcdHNjcmlwdC5wYXJlbnROb2RlICYmIHNjcmlwdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNjcmlwdCk7XG5cdFx0ZG9uZUZucyAmJiBkb25lRm5zLmZvckVhY2goKGZuKSA9PiAoZm4oZXZlbnQpKSk7XG5cdFx0aWYocHJldikgcmV0dXJuIHByZXYoZXZlbnQpO1xuXHR9XG5cdDtcblx0dmFyIHRpbWVvdXQgPSBzZXRUaW1lb3V0KG9uU2NyaXB0Q29tcGxldGUuYmluZChudWxsLCB1bmRlZmluZWQsIHsgdHlwZTogJ3RpbWVvdXQnLCB0YXJnZXQ6IHNjcmlwdCB9KSwgMTIwMDAwKTtcblx0c2NyaXB0Lm9uZXJyb3IgPSBvblNjcmlwdENvbXBsZXRlLmJpbmQobnVsbCwgc2NyaXB0Lm9uZXJyb3IpO1xuXHRzY3JpcHQub25sb2FkID0gb25TY3JpcHRDb21wbGV0ZS5iaW5kKG51bGwsIHNjcmlwdC5vbmxvYWQpO1xuXHRuZWVkQXR0YWNoICYmIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbn07IiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5ubWQgPSAobW9kdWxlKSA9PiB7XG5cdG1vZHVsZS5wYXRocyA9IFtdO1xuXHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XG5cdHJldHVybiBtb2R1bGU7XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7IiwidmFyIGNyZWF0ZVN0eWxlc2hlZXQgPSAoY2h1bmtJZCwgZnVsbGhyZWYsIHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHR2YXIgbGlua1RhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuXG5cdGxpbmtUYWcucmVsID0gXCJzdHlsZXNoZWV0XCI7XG5cdGxpbmtUYWcudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0dmFyIG9uTGlua0NvbXBsZXRlID0gKGV2ZW50KSA9PiB7XG5cdFx0Ly8gYXZvaWQgbWVtIGxlYWtzLlxuXHRcdGxpbmtUYWcub25lcnJvciA9IGxpbmtUYWcub25sb2FkID0gbnVsbDtcblx0XHRpZiAoZXZlbnQudHlwZSA9PT0gJ2xvYWQnKSB7XG5cdFx0XHRyZXNvbHZlKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBlcnJvclR5cGUgPSBldmVudCAmJiAoZXZlbnQudHlwZSA9PT0gJ2xvYWQnID8gJ21pc3NpbmcnIDogZXZlbnQudHlwZSk7XG5cdFx0XHR2YXIgcmVhbEhyZWYgPSBldmVudCAmJiBldmVudC50YXJnZXQgJiYgZXZlbnQudGFyZ2V0LmhyZWYgfHwgZnVsbGhyZWY7XG5cdFx0XHR2YXIgZXJyID0gbmV3IEVycm9yKFwiTG9hZGluZyBDU1MgY2h1bmsgXCIgKyBjaHVua0lkICsgXCIgZmFpbGVkLlxcbihcIiArIHJlYWxIcmVmICsgXCIpXCIpO1xuXHRcdFx0ZXJyLmNvZGUgPSBcIkNTU19DSFVOS19MT0FEX0ZBSUxFRFwiO1xuXHRcdFx0ZXJyLnR5cGUgPSBlcnJvclR5cGU7XG5cdFx0XHRlcnIucmVxdWVzdCA9IHJlYWxIcmVmO1xuXHRcdFx0bGlua1RhZy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGxpbmtUYWcpXG5cdFx0XHRyZWplY3QoZXJyKTtcblx0XHR9XG5cdH1cblx0bGlua1RhZy5vbmVycm9yID0gbGlua1RhZy5vbmxvYWQgPSBvbkxpbmtDb21wbGV0ZTtcblx0bGlua1RhZy5ocmVmID0gZnVsbGhyZWY7XG5cblx0ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChsaW5rVGFnKTtcblx0cmV0dXJuIGxpbmtUYWc7XG59O1xudmFyIGZpbmRTdHlsZXNoZWV0ID0gKGhyZWYsIGZ1bGxocmVmKSA9PiB7XG5cdHZhciBleGlzdGluZ0xpbmtUYWdzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJsaW5rXCIpO1xuXHRmb3IodmFyIGkgPSAwOyBpIDwgZXhpc3RpbmdMaW5rVGFncy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciB0YWcgPSBleGlzdGluZ0xpbmtUYWdzW2ldO1xuXHRcdHZhciBkYXRhSHJlZiA9IHRhZy5nZXRBdHRyaWJ1dGUoXCJkYXRhLWhyZWZcIikgfHwgdGFnLmdldEF0dHJpYnV0ZShcImhyZWZcIik7XG5cdFx0aWYodGFnLnJlbCA9PT0gXCJzdHlsZXNoZWV0XCIgJiYgKGRhdGFIcmVmID09PSBocmVmIHx8IGRhdGFIcmVmID09PSBmdWxsaHJlZikpIHJldHVybiB0YWc7XG5cdH1cblx0dmFyIGV4aXN0aW5nU3R5bGVUYWdzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzdHlsZVwiKTtcblx0Zm9yKHZhciBpID0gMDsgaSA8IGV4aXN0aW5nU3R5bGVUYWdzLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIHRhZyA9IGV4aXN0aW5nU3R5bGVUYWdzW2ldO1xuXHRcdHZhciBkYXRhSHJlZiA9IHRhZy5nZXRBdHRyaWJ1dGUoXCJkYXRhLWhyZWZcIik7XG5cdFx0aWYoZGF0YUhyZWYgPT09IGhyZWYgfHwgZGF0YUhyZWYgPT09IGZ1bGxocmVmKSByZXR1cm4gdGFnO1xuXHR9XG59O1xudmFyIGxvYWRTdHlsZXNoZWV0ID0gKGNodW5rSWQpID0+IHtcblx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHR2YXIgaHJlZiA9IF9fd2VicGFja19yZXF1aXJlX18ubWluaUNzc0YoY2h1bmtJZCk7XG5cdFx0dmFyIGZ1bGxocmVmID0gX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgaHJlZjtcblx0XHRpZihmaW5kU3R5bGVzaGVldChocmVmLCBmdWxsaHJlZikpIHJldHVybiByZXNvbHZlKCk7XG5cdFx0Y3JlYXRlU3R5bGVzaGVldChjaHVua0lkLCBmdWxsaHJlZiwgcmVzb2x2ZSwgcmVqZWN0KTtcblx0fSk7XG59XG4vLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIENTUyBjaHVua3NcbnZhciBpbnN0YWxsZWRDc3NDaHVua3MgPSB7XG5cdFwidGlueS1maWxlc1wiOiAwXG59O1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmYubWluaUNzcyA9IChjaHVua0lkLCBwcm9taXNlcykgPT4ge1xuXHR2YXIgY3NzQ2h1bmtzID0ge1widmVuZG9ycy1ub2RlX21vZHVsZXNfbWRpX2ZvbnRfY3NzX21hdGVyaWFsZGVzaWduaWNvbnNfY3NzXCI6MSxcInNyY19wYWdlc19ob21lX2hvbWVfdnVlXCI6MSxcInNyY19wYWdlc19icm93c2VfYnJvd3NlX3Z1ZVwiOjEsXCJzcmNfcGFnZXNfc2V0dGluZ3Nfc2V0dGluZ3NfdnVlXCI6MSxcInNyY19wYWdlc19sb2dpbl9sb2dpbl92dWVcIjoxfTtcblx0aWYoaW5zdGFsbGVkQ3NzQ2h1bmtzW2NodW5rSWRdKSBwcm9taXNlcy5wdXNoKGluc3RhbGxlZENzc0NodW5rc1tjaHVua0lkXSk7XG5cdGVsc2UgaWYoaW5zdGFsbGVkQ3NzQ2h1bmtzW2NodW5rSWRdICE9PSAwICYmIGNzc0NodW5rc1tjaHVua0lkXSkge1xuXHRcdHByb21pc2VzLnB1c2goaW5zdGFsbGVkQ3NzQ2h1bmtzW2NodW5rSWRdID0gbG9hZFN0eWxlc2hlZXQoY2h1bmtJZCkudGhlbigoKSA9PiB7XG5cdFx0XHRpbnN0YWxsZWRDc3NDaHVua3NbY2h1bmtJZF0gPSAwO1xuXHRcdH0sIChlKSA9PiB7XG5cdFx0XHRkZWxldGUgaW5zdGFsbGVkQ3NzQ2h1bmtzW2NodW5rSWRdO1xuXHRcdFx0dGhyb3cgZTtcblx0XHR9KSk7XG5cdH1cbn07XG5cbi8vIG5vIGhtciIsIi8vIG5vIGJhc2VVUklcblxuLy8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3Ncbi8vIHVuZGVmaW5lZCA9IGNodW5rIG5vdCBsb2FkZWQsIG51bGwgPSBjaHVuayBwcmVsb2FkZWQvcHJlZmV0Y2hlZFxuLy8gUHJvbWlzZSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbnZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG5cdFwidGlueS1maWxlc1wiOiAwXG59O1xuXG52YXIgZGVmZXJyZWRNb2R1bGVzID0gW1xuXHRbXCIuL3NyYy9tYWluLnRzXCIsXCJ2ZW5kb3JzLW5vZGVfbW9kdWxlc19heGlvc19pbmRleF9qcy1ub2RlX21vZHVsZXNfYnVlZnlfZGlzdF9lc21fYnV0dG9uX2pzLW5vZGVfbW9kdWxlc19idWVmeV8tM2U5ODRiXCJdXG5dO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5mLmogPSAoY2h1bmtJZCwgcHJvbWlzZXMpID0+IHtcblx0XHQvLyBKU09OUCBjaHVuayBsb2FkaW5nIGZvciBqYXZhc2NyaXB0XG5cdFx0dmFyIGluc3RhbGxlZENodW5rRGF0YSA9IF9fd2VicGFja19yZXF1aXJlX18ubyhpbnN0YWxsZWRDaHVua3MsIGNodW5rSWQpID8gaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdIDogdW5kZWZpbmVkO1xuXHRcdGlmKGluc3RhbGxlZENodW5rRGF0YSAhPT0gMCkgeyAvLyAwIG1lYW5zIFwiYWxyZWFkeSBpbnN0YWxsZWRcIi5cblxuXHRcdFx0Ly8gYSBQcm9taXNlIG1lYW5zIFwiY3VycmVudGx5IGxvYWRpbmdcIi5cblx0XHRcdGlmKGluc3RhbGxlZENodW5rRGF0YSkge1xuXHRcdFx0XHRwcm9taXNlcy5wdXNoKGluc3RhbGxlZENodW5rRGF0YVsyXSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZihcInZlbmRvcnMtbm9kZV9tb2R1bGVzX21kaV9mb250X2Nzc19tYXRlcmlhbGRlc2lnbmljb25zX2Nzc1wiICE9IGNodW5rSWQpIHtcblx0XHRcdFx0XHQvLyBzZXR1cCBQcm9taXNlIGluIGNodW5rIGNhY2hlXG5cdFx0XHRcdFx0dmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRcdFx0XHRpbnN0YWxsZWRDaHVua0RhdGEgPSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSBbcmVzb2x2ZSwgcmVqZWN0XTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRwcm9taXNlcy5wdXNoKGluc3RhbGxlZENodW5rRGF0YVsyXSA9IHByb21pc2UpO1xuXG5cdFx0XHRcdFx0Ly8gc3RhcnQgY2h1bmsgbG9hZGluZ1xuXHRcdFx0XHRcdHZhciB1cmwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBfX3dlYnBhY2tfcmVxdWlyZV9fLnUoY2h1bmtJZCk7XG5cdFx0XHRcdFx0Ly8gY3JlYXRlIGVycm9yIGJlZm9yZSBzdGFjayB1bndvdW5kIHRvIGdldCB1c2VmdWwgc3RhY2t0cmFjZSBsYXRlclxuXHRcdFx0XHRcdHZhciBlcnJvciA9IG5ldyBFcnJvcigpO1xuXHRcdFx0XHRcdHZhciBsb2FkaW5nRW5kZWQgPSAoZXZlbnQpID0+IHtcblx0XHRcdFx0XHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhpbnN0YWxsZWRDaHVua3MsIGNodW5rSWQpKSB7XG5cdFx0XHRcdFx0XHRcdGluc3RhbGxlZENodW5rRGF0YSA9IGluc3RhbGxlZENodW5rc1tjaHVua0lkXTtcblx0XHRcdFx0XHRcdFx0aWYoaW5zdGFsbGVkQ2h1bmtEYXRhICE9PSAwKSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XHRcdGlmKGluc3RhbGxlZENodW5rRGF0YSkge1xuXHRcdFx0XHRcdFx0XHRcdHZhciBlcnJvclR5cGUgPSBldmVudCAmJiAoZXZlbnQudHlwZSA9PT0gJ2xvYWQnID8gJ21pc3NpbmcnIDogZXZlbnQudHlwZSk7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHJlYWxTcmMgPSBldmVudCAmJiBldmVudC50YXJnZXQgJiYgZXZlbnQudGFyZ2V0LnNyYztcblx0XHRcdFx0XHRcdFx0XHRlcnJvci5tZXNzYWdlID0gJ0xvYWRpbmcgY2h1bmsgJyArIGNodW5rSWQgKyAnIGZhaWxlZC5cXG4oJyArIGVycm9yVHlwZSArICc6ICcgKyByZWFsU3JjICsgJyknO1xuXHRcdFx0XHRcdFx0XHRcdGVycm9yLm5hbWUgPSAnQ2h1bmtMb2FkRXJyb3InO1xuXHRcdFx0XHRcdFx0XHRcdGVycm9yLnR5cGUgPSBlcnJvclR5cGU7XG5cdFx0XHRcdFx0XHRcdFx0ZXJyb3IucmVxdWVzdCA9IHJlYWxTcmM7XG5cdFx0XHRcdFx0XHRcdFx0aW5zdGFsbGVkQ2h1bmtEYXRhWzFdKGVycm9yKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5sKHVybCwgbG9hZGluZ0VuZGVkLCBcImNodW5rLVwiICsgY2h1bmtJZCwgY2h1bmtJZCk7XG5cdFx0XHRcdH0gZWxzZSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSAwO1xuXHRcdFx0fVxuXHRcdH1cbn07XG5cbi8vIG5vIHByZWZldGNoaW5nXG5cbi8vIG5vIHByZWxvYWRlZFxuXG4vLyBubyBITVJcblxuLy8gbm8gSE1SIG1hbmlmZXN0XG5cbnZhciBjaGVja0RlZmVycmVkTW9kdWxlcyA9IHggPT4ge307XG5cbi8vIGluc3RhbGwgYSBKU09OUCBjYWxsYmFjayBmb3IgY2h1bmsgbG9hZGluZ1xudmFyIHdlYnBhY2tKc29ucENhbGxiYWNrID0gKHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uLCBkYXRhKSA9PiB7XG5cdHZhciBbY2h1bmtJZHMsIG1vcmVNb2R1bGVzLCBydW50aW1lLCBleGVjdXRlTW9kdWxlc10gPSBkYXRhO1xuXHQvLyBhZGQgXCJtb3JlTW9kdWxlc1wiIHRvIHRoZSBtb2R1bGVzIG9iamVjdCxcblx0Ly8gdGhlbiBmbGFnIGFsbCBcImNodW5rSWRzXCIgYXMgbG9hZGVkIGFuZCBmaXJlIGNhbGxiYWNrXG5cdHZhciBtb2R1bGVJZCwgY2h1bmtJZCwgaSA9IDAsIHJlc29sdmVzID0gW107XG5cdGZvcig7aSA8IGNodW5rSWRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0Y2h1bmtJZCA9IGNodW5rSWRzW2ldO1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhpbnN0YWxsZWRDaHVua3MsIGNodW5rSWQpICYmIGluc3RhbGxlZENodW5rc1tjaHVua0lkXSkge1xuXHRcdFx0cmVzb2x2ZXMucHVzaChpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF1bMF0pO1xuXHRcdH1cblx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSAwO1xuXHR9XG5cdGZvcihtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG5cdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLm1bbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuXHRcdH1cblx0fVxuXHRpZihydW50aW1lKSBydW50aW1lKF9fd2VicGFja19yZXF1aXJlX18pO1xuXHRpZihwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbikgcGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24oZGF0YSk7XG5cdHdoaWxlKHJlc29sdmVzLmxlbmd0aCkge1xuXHRcdHJlc29sdmVzLnNoaWZ0KCkoKTtcblx0fVxuXG5cdC8vIGFkZCBlbnRyeSBtb2R1bGVzIGZyb20gbG9hZGVkIGNodW5rIHRvIGRlZmVycmVkIGxpc3Rcblx0aWYoZXhlY3V0ZU1vZHVsZXMpIGRlZmVycmVkTW9kdWxlcy5wdXNoLmFwcGx5KGRlZmVycmVkTW9kdWxlcywgZXhlY3V0ZU1vZHVsZXMpO1xuXG5cdC8vIHJ1biBkZWZlcnJlZCBtb2R1bGVzIHdoZW4gYWxsIGNodW5rcyByZWFkeVxuXHRyZXR1cm4gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKTtcbn1cblxudmFyIGNodW5rTG9hZGluZ0dsb2JhbCA9IHNlbGZbXCJ3ZWJwYWNrQ2h1bmt0aW55X2ZpbGVzXCJdID0gc2VsZltcIndlYnBhY2tDaHVua3RpbnlfZmlsZXNcIl0gfHwgW107XG5jaHVua0xvYWRpbmdHbG9iYWwuZm9yRWFjaCh3ZWJwYWNrSnNvbnBDYWxsYmFjay5iaW5kKG51bGwsIDApKTtcbmNodW5rTG9hZGluZ0dsb2JhbC5wdXNoID0gd2VicGFja0pzb25wQ2FsbGJhY2suYmluZChudWxsLCBjaHVua0xvYWRpbmdHbG9iYWwucHVzaC5iaW5kKGNodW5rTG9hZGluZ0dsb2JhbCkpO1xuXG5mdW5jdGlvbiBjaGVja0RlZmVycmVkTW9kdWxlc0ltcGwoKSB7XG5cdHZhciByZXN1bHQ7XG5cdGZvcih2YXIgaSA9IDA7IGkgPCBkZWZlcnJlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgZGVmZXJyZWRNb2R1bGUgPSBkZWZlcnJlZE1vZHVsZXNbaV07XG5cdFx0dmFyIGZ1bGZpbGxlZCA9IHRydWU7XG5cdFx0Zm9yKHZhciBqID0gMTsgaiA8IGRlZmVycmVkTW9kdWxlLmxlbmd0aDsgaisrKSB7XG5cdFx0XHR2YXIgZGVwSWQgPSBkZWZlcnJlZE1vZHVsZVtqXTtcblx0XHRcdGlmKGluc3RhbGxlZENodW5rc1tkZXBJZF0gIT09IDApIGZ1bGZpbGxlZCA9IGZhbHNlO1xuXHRcdH1cblx0XHRpZihmdWxmaWxsZWQpIHtcblx0XHRcdGRlZmVycmVkTW9kdWxlcy5zcGxpY2UoaS0tLCAxKTtcblx0XHRcdHJlc3VsdCA9IF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gZGVmZXJyZWRNb2R1bGVbMF0pO1xuXHRcdH1cblx0fVxuXHRpZihkZWZlcnJlZE1vZHVsZXMubGVuZ3RoID09PSAwKSB7XG5cdFx0X193ZWJwYWNrX3JlcXVpcmVfXy54KCk7XG5cdFx0X193ZWJwYWNrX3JlcXVpcmVfXy54ID0geCA9PiB7fTtcblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufVxudmFyIHN0YXJ0dXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLng7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnggPSAoKSA9PiB7XG5cdC8vIHJlc2V0IHN0YXJ0dXAgZnVuY3Rpb24gc28gaXQgY2FuIGJlIGNhbGxlZCBhZ2FpbiB3aGVuIG1vcmUgc3RhcnR1cCBjb2RlIGlzIGFkZGVkXG5cdF9fd2VicGFja19yZXF1aXJlX18ueCA9IHN0YXJ0dXAgfHwgKHggPT4ge30pO1xuXHRyZXR1cm4gKGNoZWNrRGVmZXJyZWRNb2R1bGVzID0gY2hlY2tEZWZlcnJlZE1vZHVsZXNJbXBsKSgpO1xufTsiLCIvLyBydW4gc3RhcnR1cFxuX193ZWJwYWNrX3JlcXVpcmVfXy54KCk7XG4iXSwic291cmNlUm9vdCI6IiJ9