/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/buefy.scss":
/*!************************!*\
  !*** ./src/buefy.scss ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/styles.scss":
/*!*************************!*\
  !*** ./src/styles.scss ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/app.vue?vue&type=style&index=0&lang=scss&":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/app.vue?vue&type=style&index=0&lang=scss& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/explorer/explorer.vue?vue&type=style&index=0&lang=scss&":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/explorer/explorer.vue?vue&type=style&index=0&lang=scss& ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/loading/loading.vue?vue&type=style&index=0&lang=scss&":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/loading/loading.vue?vue&type=style&index=0&lang=scss& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/pages/not-found/not-found.vue?vue&type=style&index=0&lang=scss&":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/pages/not-found/not-found.vue?vue&type=style&index=0&lang=scss& ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./src/app/app.ts?vue&type=script&lang=js&":
/*!****************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./src/app/app.ts?vue&type=script&lang=js& ***!
  \****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm.js");
/* harmony import */ var services_tiny_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! services/tiny-api */ "./src/services/tiny-api.ts");
/* harmony import */ var buefy__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! buefy */ "./node_modules/buefy/dist/esm/dialog.js");
/* harmony import */ var services_data_bus__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! services/data-bus */ "./src/services/data-bus.ts");




/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (vue__WEBPACK_IMPORTED_MODULE_2__.default.component('app', {
    data() {
        return {
            loggedIn: Boolean(services_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.homeToken)
        };
    },
    watch: {
        $route(n, o) {
            if (n.path !== o.path && !this.loggedIn && !/^\/login/.test(n.path))
                this.loggedIn = Boolean(services_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.homeToken);
        }
    },
    methods: {
        async settings() {
            buefy__WEBPACK_IMPORTED_MODULE_3__.DialogProgrammatic.alert({
                type: 'is-info',
                message: 'to be implemented ;3'
            });
        },
        async logout() {
            await services_tiny_api__WEBPACK_IMPORTED_MODULE_0__.default.auth.logout();
            this.$router.push('/login');
            this.loggedIn = false;
        },
        async deleteSelf() {
            const choice = await new Promise(res => buefy__WEBPACK_IMPORTED_MODULE_3__.DialogProgrammatic.confirm({
                title: 'Delete Account',
                type: 'is-danger',
                message: 'Are you sure you want to delete your account? This cannot be undone.',
                onCancel: () => res(false),
                onConfirm: () => res(true)
            }));
            if (choice) {
                await services_tiny_api__WEBPACK_IMPORTED_MODULE_0__.default.deleteSelf();
                this.$router.push('/login');
                this.loggedIn = false;
            }
        }
    }
}));


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./src/components/explorer/explorer.ts?vue&type=script&lang=js&":
/*!*************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./src/components/explorer/explorer.ts?vue&type=script&lang=js& ***!
  \*************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var jszip__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jszip */ "./node_modules/jszip/lib/index.js");
/* harmony import */ var jszip__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jszip__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var file_saver__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! file-saver */ "./node_modules/file-saver/dist/FileSaver.min.js");
/* harmony import */ var file_saver__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(file_saver__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var filesize__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! filesize */ "./node_modules/filesize/lib/filesize.min.js");
/* harmony import */ var filesize__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(filesize__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var luxon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! luxon */ "./node_modules/luxon/build/cjs-browser/luxon.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util */ "./src/util.ts");








/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (vue__WEBPACK_IMPORTED_MODULE_6__.default.component('tiny-explorer', {
    props: {
        rootName: { type: String, required: false, default: 'root' },
        rootRoute: { type: String, required: true },
        paths: { type: Array, required: true },
        mapLink: { type: Function, required: true },
        viewOnly: Boolean
    },
    data() {
        const rootInfo = {
            path: '/',
            name: 'root',
            size: filesize__WEBPACK_IMPORTED_MODULE_3___default()(0),
            rawSize: 0,
            lastModified: 'null',
            rawLastModified: 0
        };
        return {
            // "exploring"
            dir: '/',
            dirInfo: rootInfo,
            bigList: [],
            index: {},
            rootInfo,
            // downloading/uploading
            working: false,
            progress: 0,
            workingOn: '',
            // sorting
            sortByName: 'name',
            sortByDir: false,
            // selection
            lastActive: '',
            lastActiveTime: 0,
            active: {},
            anyActive: false,
            // selection box
            drawing: false,
            drawBegin: { x: 0, y: 0 },
            drawPoints: { x1: 0, y1: 0, x2: 0, y2: 0 },
            drawPos: {
                top: '0px',
                left: '0px',
                height: '0px',
                width: '0px'
            }
        };
    },
    computed: {
        splitDir() {
            const sdir = [];
            let buff = '';
            this.dir.replace(/^\/|\/$/g, '').split('/').forEach(v => {
                if (!v)
                    buff += '/';
                else if (buff)
                    sdir.push(buff + v);
                else
                    sdir.push(v);
            });
            return [
                this.rootName,
                ...sdir
            ];
        },
        sortedFolders() {
            if (!this.index || !this.index[this.dir])
                return [];
            return this.sortEntries(this.index[this.dir].folders);
        },
        sortedFiles() {
            if (!this.index || !this.index[this.dir])
                return [];
            return this.sortEntries(this.index[this.dir].files);
        }
    },
    watch: {
        dir() {
            this.active = {};
            this.lastActive = '';
            this.lastActiveTime = 0;
            if (this.sliceRouteForPath() !== this.dir)
                this.$router.replace({ path: this.rootRoute + this.dir });
            if (this.dir.length > 1 && this.index && this.index[this.dir]) {
                const idx = this.dir.lastIndexOf('/', this.dir.length - 2);
                const dirParent = this.dir.slice(0, idx + 1);
                const dirName = this.dir.slice(idx + 1, -1);
                const info = this.index[dirParent] ? this.index[dirParent].folders.find(a => a.name === dirName) : null;
                this.dirInfo = info || this.rootInfo;
            }
            else
                this.dirInfo = this.rootInfo;
            this.$emit('update:dir', this.dir);
        },
        paths() {
            this.refresh();
        },
        $route() {
            if (this.sliceRouteForPath() !== this.dir && this.index[this.sliceRouteForPath()])
                this.dir = this.sliceRouteForPath();
        },
        active() {
            this.anyActive = this.active && Object.values(this.active).reduce((a, b) => a || b, false);
        }
    },
    async mounted() {
        window.addEventListener('mouseup', this.drawEnd);
        window.addEventListener('mousemove', this.drawContinue);
        this.refresh();
        if (this.index[this.sliceRouteForPath()])
            this.dir = this.sliceRouteForPath();
        else
            this.$router.replace(this.rootRoute);
    },
    destroyed() {
        window.removeEventListener('mouseup', this.drawEnd);
        window.removeEventListener('mousemove', this.drawContinue);
    },
    methods: {
        sliceRouteForPath() {
            let path = this.$route.path.slice(this.rootRoute.length);
            if (!path.endsWith('/'))
                path += '/';
            return path;
        },
        formatDate(time) {
            return luxon__WEBPACK_IMPORTED_MODULE_7__.DateTime.fromMillis(time, { zone: 'utc' }).toLocal().toLocaleString(luxon__WEBPACK_IMPORTED_MODULE_7__.DateTime.DATETIME_SHORT);
        },
        sortEntries(entries) {
            return entries.sort((_a, _b) => {
                let a, b;
                if (!this.sortByDir) {
                    a = _a;
                    b = _b;
                }
                else {
                    b = _a;
                    a = _b;
                }
                switch (this.sortByName) {
                    case 'size': return b.rawSize - a.rawSize;
                    case 'mod': return b.rawLastModified - a.rawLastModified;
                    case 'name':
                    default:
                        return a.name.localeCompare(b.name);
                }
            });
        },
        sort(col) {
            if (col === this.sortByName)
                this.sortByDir = !this.sortByDir;
            else {
                this.sortByName = col;
                this.sortByDir = false;
            }
        },
        goto(dir) {
            if (dir <= 0) {
                this.dir = '/';
                return;
            }
            else if (dir >= this.splitDir.length)
                return;
            const d = '/' + this.splitDir.slice(1, dir + 1).join('/');
            this.dir = d.endsWith('/') ? d : d + '/';
        },
        newFolder() {
            console.log('create folder');
        },
        refresh() {
            const index = {};
            if (!this.index || Object.keys(this.index).length === 0)
                this.index = index;
            const oldestLatestModifiedDates = {};
            for (const entry of this.paths) {
                // create folder objects
                const folders = entry.path.split('/').map((p, i, arr) => arr.slice(0, i).join('/') + '/').slice(1);
                for (let i = 0, fpath = folders[i]; i < folders.length; i++, fpath = folders[i]) {
                    if (!index[fpath]) {
                        index[fpath] = { files: [], folders: [] };
                    }
                    if (i + 1 < folders.length) {
                        const subFName = folders[i + 1].slice(folders[i + 1].lastIndexOf('/', folders[i + 1].length - 2)).replace(/\//g, '');
                        if (!index[fpath].folders.find(a => a.name === subFName)) {
                            index[fpath].folders.push({
                                path: fpath + '/' + subFName,
                                name: subFName,
                                size: '--',
                                rawSize: 0,
                                lastModified: '--',
                                rawLastModified: 0,
                                itemCount: 0
                            });
                        }
                    }
                }
                if (entry.size === 0 && entry.modified === 0 && entry.path.endsWith('null'))
                    continue;
                // file logic
                const folder = index[folders[folders.length - 1]];
                const fileName = entry.name || entry.path.slice(entry.path.lastIndexOf('/', entry.path.length - 2) + 1);
                const file = folder.files.find(a => a.name === fileName);
                const rawLastModified = entry.modified;
                // new
                if (!file) {
                    const newFile = {
                        name: fileName,
                        path: entry.path,
                        rawSize: entry.size,
                        size: filesize__WEBPACK_IMPORTED_MODULE_3___default()(entry.size),
                        rawLastModified: rawLastModified,
                        lastModified: this.formatDate(rawLastModified),
                        contentType: entry.type,
                        ...(0,_util__WEBPACK_IMPORTED_MODULE_5__.getFileIcon)(entry.type)
                    };
                    folder.files.push(newFile);
                    oldestLatestModifiedDates[entry.path] = { oldest: rawLastModified, latest: rawLastModified };
                    // new file & newer modified & has size
                }
                if (oldestLatestModifiedDates[entry.path].latest < rawLastModified && entry.size > 0) {
                    file.rawSize = entry.size;
                    file.size = filesize__WEBPACK_IMPORTED_MODULE_3___default()(entry.size);
                    file.rawLastModified = rawLastModified;
                    file.lastModified = this.formatDate(rawLastModified);
                    file.contentType = entry.type;
                    const icon = (0,_util__WEBPACK_IMPORTED_MODULE_5__.getFileIcon)(entry.type);
                    file.fileIcon = icon.fileIcon;
                    file.fileIconColor = icon.fileIconColor;
                    oldestLatestModifiedDates[entry.path] = { oldest: rawLastModified, latest: rawLastModified };
                    // it's just old (or non existant)
                }
                else { }
            }
            // post-entries logic -- fill out folder information
            // make sure we process the farthest folders first (i.e. the longest paths)
            // so the shorter ones can reference their children
            let paths = Object.keys(index).filter(a => index[a] && (index[a].folders.length || index[a].files.length));
            paths = paths.sort((a, b) => a.length === b.length ? a.localeCompare(b) : b.length - a.length);
            // currentPath = 0;
            for (const path of paths) {
                /* currentPath++;
                this.workingOn = 'Filling folder information (' + currentPath + '/' + paths.length + ')...';
                this.progress = currentPath / paths.length;*/
                let totalSize = 0;
                let lastModified = 0;
                let itemCount = 0;
                for (const f of index[path].folders) {
                    totalSize += f.rawSize;
                    lastModified = Math.max(lastModified, f.rawLastModified);
                    itemCount += f.itemCount;
                }
                for (const f of index[path].files) {
                    totalSize += f.rawSize;
                    lastModified = Math.max(lastModified, f.rawLastModified);
                    itemCount++;
                }
                if (path.length > 1) {
                    const idx = path.lastIndexOf('/', path.length - 2);
                    const subPath = path.slice(0, idx + 1);
                    const fName = path.slice(idx + 1, -1);
                    const folder = index[subPath].folders.find(a => a.name === fName);
                    folder.rawSize = totalSize;
                    folder.size = filesize__WEBPACK_IMPORTED_MODULE_3___default()(totalSize);
                    folder.rawLastModified = lastModified;
                    folder.lastModified = this.formatDate(lastModified);
                    folder.itemCount = itemCount;
                }
                else {
                    this.rootInfo.rawSize = totalSize;
                    this.rootInfo.size = filesize__WEBPACK_IMPORTED_MODULE_3___default()(totalSize);
                    this.rootInfo.rawLastModified = lastModified;
                    this.rootInfo.lastModified = this.formatDate(lastModified);
                    this.rootInfo.itemCount = itemCount;
                }
            }
            this.index = index;
            this.$forceUpdate();
        },
        clickItem(event, item, folder = false) {
            const name = folder ? '/' + item.name : item.name;
            if (event.getModifierState('Shift') || event.shiftKey) {
                const allItems = this.index[this.dir].folders.map(a => '/' + a.name).concat(this.index[this.dir].files.map(a => a.name));
                const s1 = allItems.indexOf(this.lastActive);
                const s2 = allItems.indexOf(name);
                const items = allItems.slice(Math.min(s1, s2), Math.max(s1, s2) + 1);
                if (event.getModifierState('Control') || event.ctrlKey)
                    for (const i of items)
                        vue__WEBPACK_IMPORTED_MODULE_6__.default.set(this.active, i, true);
                else
                    this.active = items.reduce((acc, c) => { acc[c] = true; return acc; }, {});
                this.lastActiveTime = 0;
                return; // no 'lastActive' whatnot
            }
            else if (event.getModifierState('Control') || event.ctrlKey) {
                this.active[name] = !this.active[name];
                this.lastActiveTime = 0;
            }
            else {
                this.active = { [name]: true };
                if (Date.now() - this.lastActiveTime < 333) { // 1/3 of a sec
                    if (name.startsWith('/'))
                        this.openFolder(name.slice(1));
                    else
                        this.openFile(item.path);
                    this.lastActiveTime = 0;
                }
                this.lastActiveTime = Date.now();
            }
            this.lastActive = name;
        },
        openFolder(folder) {
            if (this.dir)
                this.dir = this.dir + folder + '/';
            else
                this.dir = '/' + folder + '/';
        },
        async openFile(path, open = true) {
            if (open)
                this.$emit('open', path);
            else
                return axios__WEBPACK_IMPORTED_MODULE_4___default().get(this.mapLink(path), { responseType: 'blob' });
        },
        async downloadSelected() {
            if (this.working)
                return;
            const items = [];
            for (const k in this.active)
                if (this.active[k] === true)
                    items.push(k.startsWith('/') ? k.slice(1) : k);
            let allItems = [];
            for (const i of items) {
                allItems = allItems.concat(this.bigList
                    .filter(a => a.startsWith(this.dir.slice(1) + i)));
            }
            let name = items.length === 1 ?
                items[0] :
                this.splitDir.length === 1 ?
                    'tiny-files-data' :
                    this.splitDir[this.splitDir.length - 1];
            return this.download(allItems, name);
        },
        async downloadDir(path) {
            if (this.working)
                return;
            if (!path.endsWith('/'))
                path += '/';
            if (path.startsWith('/'))
                path = path.slice(1);
            let name;
            if (path.length < 2)
                name = 'tiny-files-data';
            else {
                const idx = path.lastIndexOf('/', path.length - 2);
                const dirName = path.slice(idx + 1, -1);
                name = dirName;
            }
            return this.download(this.bigList.filter(a => a.startsWith(path)), name);
        },
        async download(items, name) {
            if (this.working)
                return;
            this.working = true;
            this.progress = 0;
            const zip = new (jszip__WEBPACK_IMPORTED_MODULE_1___default())();
            for (let n = 0, it = items[n]; n < items.length; n++, it = items[n]) {
                console.log('download:', it);
                this.progress = n / items.length;
                this.workingOn = 'Zipping ' + it;
                await new Promise(resolve => setTimeout(resolve, 500));
                zip.file(it, await this.openFile(it, false));
            }
            this.progress = 1;
            this.workingOn = 'Serving the Zip';
            const blob = await zip.generateAsync({ type: 'blob' });
            file_saver__WEBPACK_IMPORTED_MODULE_2___default().saveAs(blob, name.replace('*', ''));
            this.workingOn = '';
            this.working = false;
            this.progress = 0;
        },
        drawStart(event) {
            if (event.button !== 0)
                return;
            this.drawing = true;
            vue__WEBPACK_IMPORTED_MODULE_6__.default.set(this.drawBegin, 'x', event.x);
            vue__WEBPACK_IMPORTED_MODULE_6__.default.set(this.drawBegin, 'y', event.y);
            this.drawPoints = { x1: event.x, x2: event.x, y1: event.y, y2: event.y };
            this.drawPos = { top: event.y + 'px', left: event.x + 'px', height: 0 + 'px', width: 0 + 'px' };
        },
        boxInside(a, b) {
            return !(a.x1 > b.x2 ||
                a.x2 < b.x1 ||
                a.y1 > b.y2 ||
                a.y2 < b.y1);
        },
        drawContinue: lodash__WEBPACK_IMPORTED_MODULE_0___default().throttle(function (event) {
            if (!this.drawing)
                return;
            vue__WEBPACK_IMPORTED_MODULE_6__.default.set(this.drawPoints, 'y1', Math.min(event.y, this.drawBegin.y)); // top
            vue__WEBPACK_IMPORTED_MODULE_6__.default.set(this.drawPoints, 'x1', Math.min(event.x, this.drawBegin.x)); // left
            vue__WEBPACK_IMPORTED_MODULE_6__.default.set(this.drawPoints, 'y2', Math.max(event.y, this.drawBegin.y)); // bottom
            vue__WEBPACK_IMPORTED_MODULE_6__.default.set(this.drawPoints, 'x2', Math.max(event.x, this.drawBegin.x)); // right
            vue__WEBPACK_IMPORTED_MODULE_6__.default.set(this.drawPos, 'top', this.drawPoints.y1 + 'px');
            vue__WEBPACK_IMPORTED_MODULE_6__.default.set(this.drawPos, 'left', this.drawPoints.x1 + 'px');
            vue__WEBPACK_IMPORTED_MODULE_6__.default.set(this.drawPos, 'height', this.drawPoints.y2 - this.drawPoints.y1 + 'px');
            vue__WEBPACK_IMPORTED_MODULE_6__.default.set(this.drawPos, 'width', this.drawPoints.x2 - this.drawPoints.x1 + 'px');
            const children = this.$refs.explorer.children;
            for (let i = 0, child = children.item(i); i < children.length; i++, child = children.item(i)) {
                if (!(child.classList.contains('folder') || child.classList.contains('file')))
                    continue;
                const box = child.getBoundingClientRect();
                const b = {
                    x1: box.left,
                    y1: box.top,
                    x2: box.right,
                    y2: box.bottom
                };
                if (this.boxInside(b, this.drawPoints))
                    child.classList.add('hover');
                else if (child.classList.contains('hover'))
                    child.classList.remove('hover');
            }
        }, 15),
        drawEnd(event) {
            if (!this.drawing || event.button !== 0)
                return;
            this.drawing = false;
            const children = this.$refs.explorer.children;
            const newActive = [];
            for (let i = 0, child = children.item(i); i < children.length; i++, child = children.item(i)) {
                if (!(child.classList.contains('folder') || child.classList.contains('file')))
                    continue;
                if (child.classList.contains('hover')) {
                    const itemMatch = /m-(.+)/.exec(child.id);
                    if (itemMatch && itemMatch[1])
                        newActive.push(itemMatch[1]);
                    child.classList.remove('hover');
                }
            }
            if (!(event.getModifierState('State') || event.shiftKey))
                this.active = {};
            for (const i of newActive)
                vue__WEBPACK_IMPORTED_MODULE_6__.default.set(this.active, i, true);
        },
        getPath(folder) {
            return this.rootRoute + this.dir + folder;
        },
        getLink(file) {
            return this.mapLink(file);
        }
    }
}));


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./src/components/loading/loading.ts?vue&type=script&lang=js&":
/*!***********************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./src/components/loading/loading.ts?vue&type=script&lang=js& ***!
  \***********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (vue__WEBPACK_IMPORTED_MODULE_0__.default.component('tiny-loading', {}));


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm.js");
/* harmony import */ var buefy__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! buefy */ "./node_modules/buefy/dist/esm/button.js");
/* harmony import */ var buefy__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! buefy */ "./node_modules/buefy/dist/esm/input.js");
/* harmony import */ var buefy__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! buefy */ "./node_modules/buefy/dist/esm/field.js");
/* harmony import */ var buefy__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! buefy */ "./node_modules/buefy/dist/esm/icon.js");
/* harmony import */ var buefy__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! buefy */ "./node_modules/buefy/dist/esm/loading.js");
/* harmony import */ var buefy__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! buefy */ "./node_modules/buefy/dist/esm/dialog.js");
/* harmony import */ var buefy__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! buefy */ "./node_modules/buefy/dist/esm/modal.js");
/* harmony import */ var buefy__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! buefy */ "./node_modules/buefy/dist/esm/dropdown.js");
/* harmony import */ var buefy__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! buefy */ "./node_modules/buefy/dist/esm/upload.js");
/* harmony import */ var _buefy_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./buefy.scss */ "./src/buefy.scss");
/* harmony import */ var _styles_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./styles.scss */ "./src/styles.scss");
/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util */ "./src/util.ts");
/* harmony import */ var _app_app__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/app */ "./src/app/app.vue");
/* harmony import */ var _components_loading_loading__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/loading/loading */ "./src/components/loading/loading.vue");
/* harmony import */ var _components_explorer_explorer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/explorer/explorer */ "./src/components/explorer/explorer.vue");
/* harmony import */ var _router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./router */ "./src/router.ts");

// @ts-ignore
Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_mdi_font_css_materialdesignicons_css"), __webpack_require__.e("node_modules_mdi_font_css_materialdesignicons_css")]).then(__webpack_require__.bind(__webpack_require__, /*! @mdi/font/css/materialdesignicons.css */ "./node_modules/@mdi/font/css/materialdesignicons.css"));








console.log('Environment:', "development");
vue__WEBPACK_IMPORTED_MODULE_7__.default.use(buefy__WEBPACK_IMPORTED_MODULE_8__.default);
vue__WEBPACK_IMPORTED_MODULE_7__.default.use(buefy__WEBPACK_IMPORTED_MODULE_9__.default);
vue__WEBPACK_IMPORTED_MODULE_7__.default.use(buefy__WEBPACK_IMPORTED_MODULE_10__.default);
vue__WEBPACK_IMPORTED_MODULE_7__.default.use(buefy__WEBPACK_IMPORTED_MODULE_11__.default);
vue__WEBPACK_IMPORTED_MODULE_7__.default.use(buefy__WEBPACK_IMPORTED_MODULE_12__.default);
vue__WEBPACK_IMPORTED_MODULE_7__.default.use(buefy__WEBPACK_IMPORTED_MODULE_13__.default);
vue__WEBPACK_IMPORTED_MODULE_7__.default.use(buefy__WEBPACK_IMPORTED_MODULE_14__.default);
vue__WEBPACK_IMPORTED_MODULE_7__.default.use(buefy__WEBPACK_IMPORTED_MODULE_15__.default);
vue__WEBPACK_IMPORTED_MODULE_7__.default.use(buefy__WEBPACK_IMPORTED_MODULE_16__.default);
const v = new vue__WEBPACK_IMPORTED_MODULE_7__.default({
    router: _router__WEBPACK_IMPORTED_MODULE_6__.default,
    el: '#app',
    components: { AppComponent: _app_app__WEBPACK_IMPORTED_MODULE_3__.default, TinyExplorer: _components_explorer_explorer__WEBPACK_IMPORTED_MODULE_5__.default },
    data: { loaded: false },
    render(h) {
        if (this.loaded) {
            return h(_app_app__WEBPACK_IMPORTED_MODULE_3__.default, { key: 'app' });
        }
        else
            return (0,_util__WEBPACK_IMPORTED_MODULE_2__.makeInitializerComponent)(h, _components_loading_loading__WEBPACK_IMPORTED_MODULE_4__.default);
    }
});
(async () => {
    // hmmm
})().then(() => {
    console.log('Initialized Main!');
    v.loaded = true;
}, e => {
    console.error('Error initializing main: ', e.stack || e.message || e);
    buefy__WEBPACK_IMPORTED_MODULE_13__.DialogProgrammatic.alert({
        title: 'Error',
        message: 'Error initializing main: ' + String(e.message || e),
        type: 'is-danger'
    });
});


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./src/pages/not-found/not-found.ts?vue&type=script&lang=js&":
/*!**********************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./src/pages/not-found/not-found.ts?vue&type=script&lang=js& ***!
  \**********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (vue__WEBPACK_IMPORTED_MODULE_0__.default.component('tiny-not-found', {}));


/***/ }),

/***/ "./src/router.ts":
/*!***********************!*\
  !*** ./src/router.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm.js");
/* harmony import */ var vue_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vue-router */ "./node_modules/vue-router/dist/vue-router.esm.js");
/* harmony import */ var _pages_not_found_not_found__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pages/not-found/not-found */ "./src/pages/not-found/not-found.vue");
/* harmony import */ var _services_data_bus__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./services/data-bus */ "./src/services/data-bus.ts");


const HomePage = () => __webpack_require__.e(/*! import() */ "src_pages_home_home_vue").then(__webpack_require__.bind(__webpack_require__, /*! ./pages/home/home */ "./src/pages/home/home.vue"));
const BrowsePage = () => __webpack_require__.e(/*! import() */ "src_pages_browse_browse_vue").then(__webpack_require__.bind(__webpack_require__, /*! ./pages/browse/browse */ "./src/pages/browse/browse.vue"));
const SettingsPage = () => __webpack_require__.e(/*! import() */ "src_pages_settings_settings_vue").then(__webpack_require__.bind(__webpack_require__, /*! ./pages/settings/settings */ "./src/pages/settings/settings.vue"));
const LoginPage = () => __webpack_require__.e(/*! import() */ "src_pages_login_login_vue").then(__webpack_require__.bind(__webpack_require__, /*! ./pages/login/login */ "./src/pages/login/login.vue"));


vue__WEBPACK_IMPORTED_MODULE_2__.default.use(vue_router__WEBPACK_IMPORTED_MODULE_3__.default);
const router = new vue_router__WEBPACK_IMPORTED_MODULE_3__.default({
    mode:  true ? 'hash' : 0,
    routes: [
        { path: '/', redirect: '/browse', name: 'home' },
        { path: '/browse**', component: BrowsePage, name: 'browse' },
        // { path: '/explore/:origin/:username/:share/**', component: ExplorePage, name: 'explore' }, // other's files
        { path: '/settings', component: SettingsPage, name: 'settings' },
        { path: '/login', component: LoginPage, name: 'login' },
        { path: '**', component: _pages_not_found_not_found__WEBPACK_IMPORTED_MODULE_0__.default, name: 'not-found' }
    ]
});
router.beforeEach((to, from, next) => {
    if (to.path !== from.path) {
        if (to.path.length > 1) {
            const sdir = [];
            let buff = '';
            to.path.slice(1).split('/').forEach(v => {
                if (!v)
                    buff += '/';
                else {
                    if (buff)
                        sdir.push(buff + v);
                    else
                        sdir.push(v);
                }
            });
            document.title = 'tiny files - ' + sdir.join(' - ');
        }
        else
            document.title = 'tiny files';
    }
    if (!_services_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.homeToken && !/^\/login/.test(to.path))
        next('/login?goto=' + to.fullPath);
    next();
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (router);


/***/ }),

/***/ "./src/services/data-bus.ts":
/*!**********************************!*\
  !*** ./src/services/data-bus.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
class DataBus {
    get privateScope() { return '/appdata/tiny-files'; }
    get publicScope() { return '/public/tiny-files'; }
    get homeUrl() { return localStorage.getItem('home_url'); }
    set homeUrl(url) { localStorage.setItem('home_url', url); }
    get homeToken() { return localStorage.getItem('home_token'); }
    set homeToken(sid) { localStorage.setItem('home_token', sid); }
    get storeUrl() { return localStorage.getItem('store_url'); }
    set storeUrl(url) { localStorage.setItem('store_url', url); }
    get storeToken() { return localStorage.getItem('store_token'); }
    set storeToken(sid) { localStorage.setItem('store_token', sid); }
    get storeScopes() { return JSON.parse(localStorage.getItem('store_scopes')); }
    set storeScopes(scopes) { localStorage.setItem('store_scopes', JSON.stringify(scopes)); }
    get dbUrl() { return localStorage.getItem('db_url'); }
    set dbUrl(url) { localStorage.setItem('db_url', url); }
    get dbToken() { return localStorage.getItem('db_token'); }
    set dbToken(sid) { localStorage.setItem('db_token', sid); }
    get infoArray() {
        return [
            { id: 'home', url: this.homeUrl, token: this.homeToken },
            { id: 'store', url: this.storeUrl, token: this.storeToken, scopes: this.storeScopes },
            { id: 'db', url: this.dbUrl, token: this.dbToken }
        ];
    }
    clear() {
        localStorage.clear();
    }
}
;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new DataBus());


/***/ }),

/***/ "./src/services/tiny-api.ts":
/*!**********************************!*\
  !*** ./src/services/tiny-api.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _data_bus__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./data-bus */ "./src/services/data-bus.ts");
/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util */ "./src/util.ts");



class TinyApi {
    constructor() {
        this._auth = Object.freeze({
            async login(origin, personal = true) {
                const spleet = origin.split('@');
                let username = '';
                if (spleet[1]) {
                    origin = spleet[1];
                    username = spleet[0];
                }
                const protocol = /^localhost:/.test(origin) ? 'http:' : location.protocol;
                _data_bus__WEBPACK_IMPORTED_MODULE_1__.default.homeUrl = protocol + '//' + origin;
                _data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeScopes = personal ? [_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.privateScope, _data_bus__WEBPACK_IMPORTED_MODULE_1__.default.publicScope] : ['/'];
                location.href = _data_bus__WEBPACK_IMPORTED_MODULE_1__.default.homeUrl + '/auth/handshake/start'
                    + '?app=tiny-files'
                    + '&redirect=' + location.origin + '/login'
                    + '&scopes=home,store,db'
                    + (personal ? `&fileScopes=["${_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.privateScope}", "${_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.publicScope}"]` : '&fileScopes=["/"]')
                    + (username ? '&username=' + username : '');
            },
            async getTokens(origin, code) {
                const tokens = await axios__WEBPACK_IMPORTED_MODULE_0___default().post(origin + '/auth/token', {
                    app: 'tiny-files',
                    redirect: location.origin + '/login',
                    scopes: 'home,store,db',
                    code,
                    secret: 'keyboardcat'
                }).then(res => res.data, e => { (0,_util__WEBPACK_IMPORTED_MODULE_2__.handleError)(e); throw e; });
                for (const id of Object.keys(tokens)) {
                    _data_bus__WEBPACK_IMPORTED_MODULE_1__.default[id + 'Url'] = tokens[id].url;
                    _data_bus__WEBPACK_IMPORTED_MODULE_1__.default[id + 'Token'] = tokens[id].token;
                }
            },
            async refresh() {
                await Promise.all(_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.infoArray.map(({ id, url, token }) => axios__WEBPACK_IMPORTED_MODULE_0___default().get(`${url}/auth/refresh?sid=${token}`)
                    .then(res => _data_bus__WEBPACK_IMPORTED_MODULE_1__.default[id + 'Token'] = String(res.data), _util__WEBPACK_IMPORTED_MODULE_2__.handleError)));
            },
            async logout() {
                await Promise.all(_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.infoArray.map(({ url, token }) => axios__WEBPACK_IMPORTED_MODULE_0___default().post(`${url}/auth/logout?sid=${token}`)))
                    .catch(_util__WEBPACK_IMPORTED_MODULE_2__.handleError);
                _data_bus__WEBPACK_IMPORTED_MODULE_1__.default.clear();
            },
        });
        this._files = Object.freeze({
            /**
             * Read a file
             * @param {string} path the file path to read
             * @param {string} responseType (optional) the response type for axios to cast into
             */
            async read(path, responseType) {
                return axios__WEBPACK_IMPORTED_MODULE_0___default().get(_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeUrl + '/files' + path + '?sid=' + _data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeToken, { responseType })
                    .then(res => res.data)
                    .catch(e => { (0,_util__WEBPACK_IMPORTED_MODULE_2__.handleError)(e); throw e; });
            },
            /**
             * Get the href to read the file
             * @param {string} path the file path to read
             */
            getReadUrl(path) {
                return _data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeUrl + '/files' + path + '?sid=' + _data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeToken;
            },
            /**
             * Write a raw stream
             * @param {string} path the file path
             * @param {ArrayBuffer } data the data to write
             */
            async write(path, data, contentType, onUploadProgress = () => null) {
                await axios__WEBPACK_IMPORTED_MODULE_0___default().put(`${_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeUrl}/files${path}?sid=${_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeToken}${contentType ? '&contentType=' + contentType : ''}`, data, { headers: contentType ? { 'Content-Type': contentType } : undefined, onUploadProgress })
                    .catch(e => { (0,_util__WEBPACK_IMPORTED_MODULE_2__.handleError)(e); throw e; });
            },
            /**
             * Write a file
             * @param {string} path the file path
             * @param {File} file the file to write
             */
            async writeFile(path, file, onUploadProgress = () => null) {
                const formData = new FormData();
                formData.append('file', file);
                await axios__WEBPACK_IMPORTED_MODULE_0___default().put(_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeUrl + '/files' + path + '?sid=' + _data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeToken, formData, { headers: { 'Content-Type': 'multipart/form-data' }, onUploadProgress })
                    .catch(e => { (0,_util__WEBPACK_IMPORTED_MODULE_2__.handleError)(e); throw e; });
            },
            /**
             * Delete a file
             * @param {string} path the file path
             */
            async delete(path) {
                await axios__WEBPACK_IMPORTED_MODULE_0___default().delete(_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeUrl + '/files' + path + '?sid=' + _data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeToken)
                    .catch(e => { (0,_util__WEBPACK_IMPORTED_MODULE_2__.handleError)(e); throw e; });
            },
            async listFiles(path, advance) {
                return axios__WEBPACK_IMPORTED_MODULE_0___default().get(`${_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeUrl}/list-files${path.length > 0 && !path.startsWith('/') ? '/' : ''}${path}`
                    + `?sid=${_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeToken}${advance ? '&advance=true' : ''}`)
                    .then(res => res.data)
                    .catch(e => { (0,_util__WEBPACK_IMPORTED_MODULE_2__.handleError)(e); throw e; });
            },
            async getStorageStats() {
                return axios__WEBPACK_IMPORTED_MODULE_0___default().get(_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeUrl + '/storage-stats' + '?sid=' + _data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeToken)
                    .then(res => res.data)
                    .catch(e => { (0,_util__WEBPACK_IMPORTED_MODULE_2__.handleError)(e); throw e; });
            },
            async readPublic(user, path, responseType) {
                return axios__WEBPACK_IMPORTED_MODULE_0___default().get(_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeUrl + '/public/' + user + path, { responseType })
                    .then(res => res.data)
                    .catch(e => { (0,_util__WEBPACK_IMPORTED_MODULE_2__.handleError)(e); throw e; });
            },
            getPublicReadUrl(user, path) {
                return _data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeUrl + '/public/' + user + path;
            }
        });
    }
    get auth() { return this._auth; }
    async deleteSelf() {
        await Promise.all(_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.infoArray.map(({ url, token }) => axios__WEBPACK_IMPORTED_MODULE_0___default().delete(`${url}/self?sid=${token}`)
            .catch(_util__WEBPACK_IMPORTED_MODULE_2__.handleError)));
        _data_bus__WEBPACK_IMPORTED_MODULE_1__.default.clear();
    }
    get files() { return this._files; }
}
;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new TinyApi());


/***/ }),

/***/ "./src/util.ts":
/*!*********************!*\
  !*** ./src/util.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "makeCenterStyle": () => (/* binding */ makeCenterStyle),
/* harmony export */   "makeInitializerComponent": () => (/* binding */ makeInitializerComponent),
/* harmony export */   "handleError": () => (/* binding */ handleError),
/* harmony export */   "getFileIcon": () => (/* binding */ getFileIcon)
/* harmony export */ });
/* harmony import */ var buefy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! buefy */ "./node_modules/buefy/dist/esm/dialog.js");

function makeCenterStyle() {
    return {
        display: 'flex',
        flexFlow: 'column',
        flexWrap: 'nowrap',
        alignItems: 'center',
        justifyContent: 'center',
        position: 'fixed',
        top: '0',
        left: '0',
        height: '100%',
        width: '100%',
        backgroundColor: 'transparent'
    };
}
function makeInitializerComponent(h, loadingComponent) {
    return h('div', { staticStyle: makeCenterStyle() }, [h(loadingComponent)]);
}
async function handleError(e, action) {
    var _a, _b;
    const message = ((_b = (_a = e.response) === null || _a === void 0 ? void 0 : _a.data) === null || _b === void 0 ? void 0 : _b.message) || e.message || String(e);
    return new Promise(res => buefy__WEBPACK_IMPORTED_MODULE_0__.DialogProgrammatic.alert({
        title: action ? 'Error ' + action : 'Error',
        message,
        type: 'is-danger',
        hasIcon: true,
        onConfirm: () => res(),
        onCancel: () => res()
    }));
}
function getFileIcon(contentType) {
    if (contentType.startsWith('application/json'))
        return { fileIcon: 'file-code', fileIconColor: '#f44336' };
    if (contentType.startsWith('application/octet-stream'))
        return { fileIcon: 'file-question', fileIconColor: '#BDBDBD' };
    if (contentType.startsWith('text'))
        return { fileIcon: 'file-document', fileIconColor: '#3F51B5' };
    if (contentType.startsWith('application/pdf'))
        return { fileIcon: 'file-pdf', fileIconColor: '#3F51B5' };
    if (contentType.startsWith('audio') || contentType.startsWith('video/ogg'))
        return { fileIcon: 'file-music', fileIconColor: '#E91E63' };
    if (contentType.startsWith('image'))
        return { fileIcon: 'file-image', fileIconColor: '#4CAF50' };
    if (contentType.startsWith('video'))
        return { fileIcon: 'file-video', fileIconColor: '#673AB7' };
    return { fileIcon: 'file', fileIconColor: '#78909C' };
}


/***/ }),

/***/ "./src/app/app.vue":
/*!*************************!*\
  !*** ./src/app/app.vue ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _app_vue_vue_type_template_id_5d87e7ea___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./app.vue?vue&type=template&id=5d87e7ea& */ "./src/app/app.vue?vue&type=template&id=5d87e7ea&");
/* harmony import */ var _app_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./app.ts?vue&type=script&lang=js& */ "./src/app/app.ts?vue&type=script&lang=js&");
/* harmony import */ var _app_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app.vue?vue&type=style&index=0&lang=scss& */ "./src/app/app.vue?vue&type=style&index=0&lang=scss&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__.default)(
  _app_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__.default,
  _app_vue_vue_type_template_id_5d87e7ea___WEBPACK_IMPORTED_MODULE_0__.render,
  _app_vue_vue_type_template_id_5d87e7ea___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/app.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/components/explorer/explorer.vue":
/*!**********************************************!*\
  !*** ./src/components/explorer/explorer.vue ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _explorer_vue_vue_type_template_id_499758af___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./explorer.vue?vue&type=template&id=499758af& */ "./src/components/explorer/explorer.vue?vue&type=template&id=499758af&");
/* harmony import */ var _explorer_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./explorer.ts?vue&type=script&lang=js& */ "./src/components/explorer/explorer.ts?vue&type=script&lang=js&");
/* harmony import */ var _explorer_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./explorer.vue?vue&type=style&index=0&lang=scss& */ "./src/components/explorer/explorer.vue?vue&type=style&index=0&lang=scss&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__.default)(
  _explorer_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__.default,
  _explorer_vue_vue_type_template_id_499758af___WEBPACK_IMPORTED_MODULE_0__.render,
  _explorer_vue_vue_type_template_id_499758af___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/components/explorer/explorer.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/components/loading/loading.vue":
/*!********************************************!*\
  !*** ./src/components/loading/loading.vue ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _loading_vue_vue_type_template_id_d960adee___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./loading.vue?vue&type=template&id=d960adee& */ "./src/components/loading/loading.vue?vue&type=template&id=d960adee&");
/* harmony import */ var _loading_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./loading.ts?vue&type=script&lang=js& */ "./src/components/loading/loading.ts?vue&type=script&lang=js&");
/* harmony import */ var _loading_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./loading.vue?vue&type=style&index=0&lang=scss& */ "./src/components/loading/loading.vue?vue&type=style&index=0&lang=scss&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__.default)(
  _loading_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__.default,
  _loading_vue_vue_type_template_id_d960adee___WEBPACK_IMPORTED_MODULE_0__.render,
  _loading_vue_vue_type_template_id_d960adee___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/components/loading/loading.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/pages/not-found/not-found.vue":
/*!*******************************************!*\
  !*** ./src/pages/not-found/not-found.vue ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _not_found_vue_vue_type_template_id_64f45f6d___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./not-found.vue?vue&type=template&id=64f45f6d& */ "./src/pages/not-found/not-found.vue?vue&type=template&id=64f45f6d&");
/* harmony import */ var _not_found_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./not-found.ts?vue&type=script&lang=js& */ "./src/pages/not-found/not-found.ts?vue&type=script&lang=js&");
/* harmony import */ var _not_found_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./not-found.vue?vue&type=style&index=0&lang=scss& */ "./src/pages/not-found/not-found.vue?vue&type=style&index=0&lang=scss&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__.default)(
  _not_found_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__.default,
  _not_found_vue_vue_type_template_id_64f45f6d___WEBPACK_IMPORTED_MODULE_0__.render,
  _not_found_vue_vue_type_template_id_64f45f6d___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/pages/not-found/not-found.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/app.vue?vue&type=style&index=0&lang=scss&":
/*!***********************************************************!*\
  !*** ./src/app/app.vue?vue&type=style&index=0&lang=scss& ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_clonedRuleSet_2_0_rules_0_use_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_app_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app.vue?vue&type=style&index=0&lang=scss& */ "./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/app.vue?vue&type=style&index=0&lang=scss&");


/***/ }),

/***/ "./src/components/explorer/explorer.vue?vue&type=style&index=0&lang=scss&":
/*!********************************************************************************!*\
  !*** ./src/components/explorer/explorer.vue?vue&type=style&index=0&lang=scss& ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_clonedRuleSet_2_0_rules_0_use_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_explorer_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./explorer.vue?vue&type=style&index=0&lang=scss& */ "./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/explorer/explorer.vue?vue&type=style&index=0&lang=scss&");


/***/ }),

/***/ "./src/components/loading/loading.vue?vue&type=style&index=0&lang=scss&":
/*!******************************************************************************!*\
  !*** ./src/components/loading/loading.vue?vue&type=style&index=0&lang=scss& ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_clonedRuleSet_2_0_rules_0_use_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loading.vue?vue&type=style&index=0&lang=scss& */ "./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/loading/loading.vue?vue&type=style&index=0&lang=scss&");


/***/ }),

/***/ "./src/pages/not-found/not-found.vue?vue&type=style&index=0&lang=scss&":
/*!*****************************************************************************!*\
  !*** ./src/pages/not-found/not-found.vue?vue&type=style&index=0&lang=scss& ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_clonedRuleSet_2_0_rules_0_use_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_not_found_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./not-found.vue?vue&type=style&index=0&lang=scss& */ "./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/pages/not-found/not-found.vue?vue&type=style&index=0&lang=scss&");


/***/ }),

/***/ "./src/app/app.ts?vue&type=script&lang=js&":
/*!*************************************************!*\
  !*** ./src/app/app.ts?vue&type=script&lang=js& ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_app_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./app.ts?vue&type=script&lang=js& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./src/app/app.ts?vue&type=script&lang=js&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_app_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/components/explorer/explorer.ts?vue&type=script&lang=js&":
/*!**********************************************************************!*\
  !*** ./src/components/explorer/explorer.ts?vue&type=script&lang=js& ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_explorer_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./explorer.ts?vue&type=script&lang=js& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./src/components/explorer/explorer.ts?vue&type=script&lang=js&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_explorer_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/components/loading/loading.ts?vue&type=script&lang=js&":
/*!********************************************************************!*\
  !*** ./src/components/loading/loading.ts?vue&type=script&lang=js& ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_loading_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./loading.ts?vue&type=script&lang=js& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./src/components/loading/loading.ts?vue&type=script&lang=js&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_loading_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/pages/not-found/not-found.ts?vue&type=script&lang=js&":
/*!*******************************************************************!*\
  !*** ./src/pages/not-found/not-found.ts?vue&type=script&lang=js& ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_not_found_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./not-found.ts?vue&type=script&lang=js& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./src/pages/not-found/not-found.ts?vue&type=script&lang=js&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_not_found_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/app.vue?vue&type=template&id=5d87e7ea&":
/*!********************************************************!*\
  !*** ./src/app/app.vue?vue&type=template&id=5d87e7ea& ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_app_vue_vue_type_template_id_5d87e7ea___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_app_vue_vue_type_template_id_5d87e7ea___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_app_vue_vue_type_template_id_5d87e7ea___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app.vue?vue&type=template&id=5d87e7ea& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/app.vue?vue&type=template&id=5d87e7ea&");


/***/ }),

/***/ "./src/components/explorer/explorer.vue?vue&type=template&id=499758af&":
/*!*****************************************************************************!*\
  !*** ./src/components/explorer/explorer.vue?vue&type=template&id=499758af& ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_explorer_vue_vue_type_template_id_499758af___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_explorer_vue_vue_type_template_id_499758af___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_explorer_vue_vue_type_template_id_499758af___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./explorer.vue?vue&type=template&id=499758af& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/explorer/explorer.vue?vue&type=template&id=499758af&");


/***/ }),

/***/ "./src/components/loading/loading.vue?vue&type=template&id=d960adee&":
/*!***************************************************************************!*\
  !*** ./src/components/loading/loading.vue?vue&type=template&id=d960adee& ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_template_id_d960adee___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_template_id_d960adee___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_template_id_d960adee___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loading.vue?vue&type=template&id=d960adee& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/loading/loading.vue?vue&type=template&id=d960adee&");


/***/ }),

/***/ "./src/pages/not-found/not-found.vue?vue&type=template&id=64f45f6d&":
/*!**************************************************************************!*\
  !*** ./src/pages/not-found/not-found.vue?vue&type=template&id=64f45f6d& ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_not_found_vue_vue_type_template_id_64f45f6d___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_not_found_vue_vue_type_template_id_64f45f6d___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_not_found_vue_vue_type_template_id_64f45f6d___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./not-found.vue?vue&type=template&id=64f45f6d& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/pages/not-found/not-found.vue?vue&type=template&id=64f45f6d&");


/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/app.vue?vue&type=template&id=5d87e7ea&":
/*!***********************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/app.vue?vue&type=template&id=5d87e7ea& ***!
  \***********************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    { attrs: { id: "app" } },
    [
      _vm.loggedIn
        ? _c(
            "b-dropdown",
            { attrs: { id: "account-dropdown", position: "is-bottom-left" } },
            [
              _c(
                "button",
                {
                  staticClass: "has-background-primary",
                  attrs: { slot: "trigger", id: "menu-fab" },
                  slot: "trigger"
                },
                [_c("b-icon", { attrs: { icon: "account" } })],
                1
              ),
              _vm._v(" "),
              _c(
                "b-dropdown-item",
                {
                  staticClass: "hover-info",
                  on: {
                    click: function($event) {
                      return _vm.settings()
                    }
                  }
                },
                [_vm._v("settings")]
              ),
              _vm._v(" "),
              _c(
                "b-dropdown-item",
                {
                  on: {
                    click: function($event) {
                      return _vm.logout()
                    }
                  }
                },
                [_vm._v("logout")]
              ),
              _vm._v(" "),
              _c(
                "b-dropdown-item",
                {
                  staticClass: "hover-danger",
                  on: {
                    click: function($event) {
                      return _vm.deleteSelf()
                    }
                  }
                },
                [
                  _c("b-icon", {
                    attrs: { icon: "alert-circle-outline", size: "is-small" }
                  }),
                  _vm._v(" delete self")
                ],
                1
              )
            ],
            1
          )
        : _vm._e(),
      _vm._v(" "),
      _c("router-view")
    ],
    1
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/explorer/explorer.vue?vue&type=template&id=499758af&":
/*!********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/explorer/explorer.vue?vue&type=template&id=499758af& ***!
  \********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", { attrs: { id: "tiny-explorer" } }, [
    _c("div", { attrs: { id: "header" } }, [
      _c("div", {
        staticClass: "has-background-primary",
        style: { width: (_vm.progress * 100).toFixed(2) + "%" },
        attrs: { id: "progress" }
      }),
      _vm._v(" "),
      _c(
        "div",
        { attrs: { id: "path" } },
        [
          _c(
            "button",
            {
              staticClass: "button is-small is-dark",
              staticStyle: { "margin-right": "0.5rem" },
              attrs: { disabled: _vm.splitDir.length <= 1 },
              on: {
                click: function($event) {
                  return _vm.goto(_vm.splitDir.length - 2)
                }
              }
            },
            [
              _c("b-icon", {
                staticStyle: { color: "#FFD54F" },
                attrs: { icon: "folder-upload" }
              })
            ],
            1
          ),
          _vm._v(" "),
          _vm._l(_vm.splitDir, function(d, i) {
            return [
              _c(
                "a",
                {
                  key: "a-" + i,
                  staticClass: "tag",
                  attrs: { title: d },
                  on: {
                    click: function($event) {
                      return _vm.goto(i)
                    }
                  }
                },
                [_c("span", [_vm._v(_vm._s(d))])]
              ),
              _vm._v(" "),
              i + 1 < _vm.splitDir.length
                ? _c(
                    "span",
                    { key: "s-" + i },
                    [_c("b-icon", { attrs: { icon: "chevron-right" } })],
                    1
                  )
                : _vm._e()
            ]
          })
        ],
        2
      ),
      _vm._v(" "),
      _c("div", { attrs: { id: "buttons" } }, [
        _c("div", {
          directives: [
            {
              name: "show",
              rawName: "v-show",
              value: _vm.working,
              expression: "working"
            }
          ],
          attrs: { id: "tiny-loading-small" }
        }),
        _vm._v(" "),
        _c(
          "button",
          {
            staticClass: "button is-small is-dark",
            attrs: {
              disabled: !_vm.anyActive || _vm.working,
              title: "Download"
            },
            on: {
              click: function($event) {
                return _vm.downloadSelected()
              }
            }
          },
          [_c("b-icon", { attrs: { icon: "download" } })],
          1
        )
      ])
    ]),
    _vm._v(" "),
    _c(
      "div",
      { staticClass: "exp-grid", attrs: { id: "explorer-header" } },
      [
        !_vm.viewOnly
          ? _c(
              "button",
              {
                staticClass: "button is-small is-dark",
                on: {
                  click: function($event) {
                    return _vm.newFolder()
                  }
                }
              },
              [
                _c("b-icon", {
                  staticStyle: { color: "#FFD54F" },
                  attrs: { icon: "folder-plus" }
                })
              ],
              1
            )
          : _vm._e(),
        _vm._v(" "),
        _c(
          "button",
          {
            staticClass: "button is-dark",
            on: {
              click: function($event) {
                return _vm.sort("name")
              }
            }
          },
          [
            _c("span", [_vm._v("Name")]),
            _vm._v(" "),
            _c("b-icon", {
              directives: [
                {
                  name: "show",
                  rawName: "v-show",
                  value: _vm.sortByName === "name",
                  expression: 'sortByName === "name"'
                }
              ],
              attrs: { icon: _vm.sortByDir ? "chevron-up" : "chevron-down" }
            })
          ],
          1
        ),
        _vm._v(" "),
        _c(
          "button",
          {
            staticClass: "button is-dark",
            on: {
              click: function($event) {
                return _vm.sort("size")
              }
            }
          },
          [
            _c("span", [_vm._v("Size")]),
            _vm._v(" "),
            _c("b-icon", {
              directives: [
                {
                  name: "show",
                  rawName: "v-show",
                  value: _vm.sortByName === "size",
                  expression: 'sortByName === "size"'
                }
              ],
              attrs: { icon: _vm.sortByDir ? "chevron-up" : "chevron-down" }
            })
          ],
          1
        ),
        _vm._v(" "),
        _c(
          "button",
          {
            staticClass: "button is-dark",
            on: {
              click: function($event) {
                return _vm.sort("mod")
              }
            }
          },
          [
            _c("span", [_vm._v("Last Modified")]),
            _vm._v(" "),
            _c("b-icon", {
              directives: [
                {
                  name: "show",
                  rawName: "v-show",
                  value: _vm.sortByName === "mod",
                  expression: 'sortByName === "mod"'
                }
              ],
              attrs: { icon: _vm.sortByDir ? "chevron-up" : "chevron-down" }
            })
          ],
          1
        ),
        _vm._v(" "),
        _c(
          "b-dropdown",
          { attrs: { "aria-role": "list", position: "is-bottom-left" } },
          [
            _c(
              "button",
              {
                staticClass: "dot-button hover-primary",
                attrs: { slot: "trigger" },
                slot: "trigger"
              },
              [_c("b-icon", { attrs: { icon: "dots-horizontal" } })],
              1
            ),
            _vm._v(" "),
            _c(
              "b-dropdown-item",
              {
                attrs: { "aria-role": "list-item" },
                on: {
                  click: function($event) {
                    return _vm.downloadDir(_vm.dir)
                  }
                }
              },
              [_vm._v("Download")]
            )
          ],
          1
        )
      ],
      1
    ),
    _vm._v(" "),
    _c(
      "div",
      { ref: "explorer", attrs: { id: "explorer" } },
      [
        _c(
          "div",
          {
            attrs: { id: "background" },
            on: {
              mousedown: function($event) {
                return _vm.drawStart($event)
              }
            }
          },
          [
            !_vm.index ||
            !_vm.index[_vm.dir] ||
            (_vm.index[_vm.dir].folders.length === 0 &&
              _vm.index[_vm.dir].files.length === 0)
              ? _c("h5", { staticClass: "subtitle is-5" }, [
                  _vm._v("\r\n        Nothing here...\r\n      ")
                ])
              : _vm._e()
          ]
        ),
        _vm._v(" "),
        _vm.index && _vm.index[_vm.dir]
          ? [
              _vm._l(_vm.sortedFolders, function(folder) {
                return _c("router-link", {
                  key: "/" + folder.name,
                  attrs: { to: _vm.getPath(folder.name), custom: "" },
                  scopedSlots: _vm._u(
                    [
                      {
                        key: "default",
                        fn: function(ref) {
                          var href = ref.href
                          return [
                            _c(
                              "a",
                              {
                                staticClass: "folder exp-grid",
                                class: {
                                  active: _vm.active["/" + folder.name],
                                  "last-active":
                                    _vm.lastActive === "/" + folder.name
                                },
                                attrs: { id: "m-/" + folder.name, href: href },
                                on: {
                                  click: function($event) {
                                    $event.preventDefault()
                                    $event.stopPropagation()
                                    return _vm.clickItem($event, folder, true)
                                  }
                                }
                              },
                              [
                                _c("b-icon", {
                                  staticStyle: { color: "#FFD54F" },
                                  attrs: {
                                    icon: "folder",
                                    title: folder.itemCount + " items"
                                  }
                                }),
                                _vm._v(" "),
                                _c(
                                  "div",
                                  { staticStyle: { "padding-left": "1em" } },
                                  [_c("span", [_vm._v(_vm._s(folder.name))])]
                                ),
                                _vm._v(" "),
                                _c("span", [_vm._v(_vm._s(folder.size))]),
                                _vm._v(" "),
                                _c("span", [
                                  _vm._v(_vm._s(folder.lastModified))
                                ]),
                                _vm._v(" "),
                                _c(
                                  "b-dropdown",
                                  {
                                    attrs: {
                                      "aria-role": "list",
                                      position: "is-bottom-left"
                                    }
                                  },
                                  [
                                    _c(
                                      "button",
                                      {
                                        staticClass: "dot-button",
                                        attrs: { slot: "trigger" },
                                        slot: "trigger"
                                      },
                                      [
                                        _c("b-icon", {
                                          attrs: { icon: "dots-horizontal" }
                                        })
                                      ],
                                      1
                                    ),
                                    _vm._v(" "),
                                    _c(
                                      "b-dropdown-item",
                                      {
                                        attrs: { "aria-role": "list-item" },
                                        on: {
                                          click: function($event) {
                                            return _vm.downloadDir(
                                              _vm.dir + folder.name + "/"
                                            )
                                          }
                                        }
                                      },
                                      [_vm._v("Download")]
                                    ),
                                    _vm._v(" "),
                                    !_vm.viewOnly
                                      ? [
                                          _c(
                                            "b-dropdown-item",
                                            {
                                              attrs: {
                                                "aria-role": "list-item"
                                              },
                                              on: {
                                                click: function($event) {
                                                  return _vm.$emit("delete", {
                                                    type: "folder",
                                                    path: folder.path
                                                  })
                                                }
                                              }
                                            },
                                            [_vm._v("Delete")]
                                          )
                                        ]
                                      : _vm._e()
                                  ],
                                  2
                                )
                              ],
                              1
                            )
                          ]
                        }
                      }
                    ],
                    null,
                    true
                  )
                })
              }),
              _vm._v(" "),
              _vm._l(_vm.sortedFiles, function(file) {
                return _c(
                  "a",
                  {
                    key: file.name,
                    staticClass: "file exp-grid",
                    class: {
                      active: _vm.active[file.name],
                      "last-active": _vm.lastActive === file.name
                    },
                    attrs: {
                      id: "m-" + file.name,
                      href: _vm.getLink(file.path)
                    },
                    on: {
                      click: function($event) {
                        $event.preventDefault()
                        $event.stopPropagation()
                        return _vm.clickItem($event, file)
                      }
                    }
                  },
                  [
                    _c("b-icon", {
                      style: { color: file.fileIconColor },
                      attrs: { icon: file.fileIcon, title: file.contentType }
                    }),
                    _vm._v(" "),
                    _c("div", { staticStyle: { "padding-left": "1em" } }, [
                      _c("span", [_vm._v(_vm._s(file.name))])
                    ]),
                    _vm._v(" "),
                    _c("span", [_vm._v(_vm._s(file.size))]),
                    _vm._v(" "),
                    _c("span", [_vm._v(_vm._s(file.lastModified))]),
                    _vm._v(" "),
                    _c(
                      "b-dropdown",
                      {
                        attrs: {
                          "aria-role": "list",
                          position: "is-bottom-left"
                        }
                      },
                      [
                        _c(
                          "button",
                          {
                            staticClass: "dot-button",
                            attrs: { slot: "trigger" },
                            slot: "trigger"
                          },
                          [
                            _c("b-icon", { attrs: { icon: "dots-horizontal" } })
                          ],
                          1
                        ),
                        _vm._v(" "),
                        _c(
                          "b-dropdown-item",
                          {
                            attrs: { "aria-role": "list-item" },
                            on: {
                              click: function($event) {
                                return _vm.openFile(file.path)
                              }
                            }
                          },
                          [_vm._v("Open")]
                        ),
                        _vm._v(" "),
                        !_vm.viewOnly
                          ? [
                              _c(
                                "b-dropdown-item",
                                {
                                  attrs: { "aria-role": "list-item" },
                                  on: {
                                    click: function($event) {
                                      return _vm.$emit("delete", {
                                        type: "file",
                                        path: file.path
                                      })
                                    }
                                  }
                                },
                                [_vm._v("Delete")]
                              )
                            ]
                          : _vm._e()
                      ],
                      2
                    )
                  ],
                  1
                )
              })
            ]
          : _vm._e(),
        _vm._v(" "),
        _c("div", {
          directives: [
            {
              name: "show",
              rawName: "v-show",
              value: _vm.drawing,
              expression: "drawing"
            }
          ],
          style: _vm.drawPos,
          attrs: { id: "selectbox" }
        })
      ],
      2
    )
  ])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/loading/loading.vue?vue&type=template&id=d960adee&":
/*!******************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/loading/loading.vue?vue&type=template&id=d960adee& ***!
  \******************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", { attrs: { id: "tiny-loading" } })
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/pages/not-found/not-found.vue?vue&type=template&id=64f45f6d&":
/*!*****************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/pages/not-found/not-found.vue?vue&type=template&id=64f45f6d& ***!
  \*****************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    { staticClass: "content", attrs: { id: "tiny-not-found" } },
    [
      _c("h1", [_vm._v("404 Not Found")]),
      _vm._v(" "),
      _c(
        "p",
        [
          _vm._v("Couldn't find the page you were looking for. Try going "),
          _c("router-link", { attrs: { to: "/" } }, [_vm._v("Home")]),
          _vm._v("?")
        ],
        1
      )
    ]
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		if(__webpack_module_cache__[moduleId]) {
/******/ 			return __webpack_module_cache__[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			loaded: false,
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/******/ 	// the startup function
/******/ 	// It's empty as some runtime module handles the default behavior
/******/ 	__webpack_require__.x = x => {};
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/ensure chunk */
/******/ 	(() => {
/******/ 		__webpack_require__.f = {};
/******/ 		// This file contains only the entry chunk.
/******/ 		// The chunk loading function for additional chunks
/******/ 		__webpack_require__.e = (chunkId) => {
/******/ 			return Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {
/******/ 				__webpack_require__.f[key](chunkId, promises);
/******/ 				return promises;
/******/ 			}, []));
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/get javascript chunk filename */
/******/ 	(() => {
/******/ 		// This function allow to reference async chunks
/******/ 		__webpack_require__.u = (chunkId) => {
/******/ 			// return url for filenames based on template
/******/ 			return "" + chunkId + "." + {"vendors-node_modules_mdi_font_css_materialdesignicons_css":"f663ebf0a6673477e1a9","node_modules_mdi_font_css_materialdesignicons_css":"9af93860b0ad0bcc4f4e","src_pages_home_home_vue":"770e2ad506ae2f0e90e2","src_pages_browse_browse_vue":"3ae46d6ab90287fdfa24","src_pages_settings_settings_vue":"383e9abbd5801e418091","src_pages_login_login_vue":"74d0ac1291830db5cf89"}[chunkId] + ".js";
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/get mini-css chunk filename */
/******/ 	(() => {
/******/ 		// This function allow to reference all chunks
/******/ 		__webpack_require__.miniCssF = (chunkId) => {
/******/ 			// return url for filenames based on template
/******/ 			return "" + chunkId + ".css";
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/load script */
/******/ 	(() => {
/******/ 		var inProgress = {};
/******/ 		var dataWebpackPrefix = "tiny-files:";
/******/ 		// loadScript function to load a script via script tag
/******/ 		__webpack_require__.l = (url, done, key, chunkId) => {
/******/ 			if(inProgress[url]) { inProgress[url].push(done); return; }
/******/ 			var script, needAttach;
/******/ 			if(key !== undefined) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				for(var i = 0; i < scripts.length; i++) {
/******/ 					var s = scripts[i];
/******/ 					if(s.getAttribute("src") == url || s.getAttribute("data-webpack") == dataWebpackPrefix + key) { script = s; break; }
/******/ 				}
/******/ 			}
/******/ 			if(!script) {
/******/ 				needAttach = true;
/******/ 				script = document.createElement('script');
/******/ 		
/******/ 				script.charset = 'utf-8';
/******/ 				script.timeout = 120;
/******/ 				if (__webpack_require__.nc) {
/******/ 					script.setAttribute("nonce", __webpack_require__.nc);
/******/ 				}
/******/ 				script.setAttribute("data-webpack", dataWebpackPrefix + key);
/******/ 				script.src = url;
/******/ 			}
/******/ 			inProgress[url] = [done];
/******/ 			var onScriptComplete = (prev, event) => {
/******/ 				// avoid mem leaks in IE.
/******/ 				script.onerror = script.onload = null;
/******/ 				clearTimeout(timeout);
/******/ 				var doneFns = inProgress[url];
/******/ 				delete inProgress[url];
/******/ 				script.parentNode && script.parentNode.removeChild(script);
/******/ 				doneFns && doneFns.forEach((fn) => (fn(event)));
/******/ 				if(prev) return prev(event);
/******/ 			}
/******/ 			;
/******/ 			var timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);
/******/ 			script.onerror = onScriptComplete.bind(null, script.onerror);
/******/ 			script.onload = onScriptComplete.bind(null, script.onload);
/******/ 			needAttach && document.head.appendChild(script);
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/node module decorator */
/******/ 	(() => {
/******/ 		__webpack_require__.nmd = (module) => {
/******/ 			module.paths = [];
/******/ 			if (!module.children) module.children = [];
/******/ 			return module;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		__webpack_require__.p = "";
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/css loading */
/******/ 	(() => {
/******/ 		var createStylesheet = (chunkId, fullhref, resolve, reject) => {
/******/ 			var linkTag = document.createElement("link");
/******/ 		
/******/ 			linkTag.rel = "stylesheet";
/******/ 			linkTag.type = "text/css";
/******/ 			var onLinkComplete = (event) => {
/******/ 				// avoid mem leaks.
/******/ 				linkTag.onerror = linkTag.onload = null;
/******/ 				if (event.type === 'load') {
/******/ 					resolve();
/******/ 				} else {
/******/ 					var errorType = event && (event.type === 'load' ? 'missing' : event.type);
/******/ 					var realHref = event && event.target && event.target.href || fullhref;
/******/ 					var err = new Error("Loading CSS chunk " + chunkId + " failed.\n(" + realHref + ")");
/******/ 					err.code = "CSS_CHUNK_LOAD_FAILED";
/******/ 					err.type = errorType;
/******/ 					err.request = realHref;
/******/ 					linkTag.parentNode.removeChild(linkTag)
/******/ 					reject(err);
/******/ 				}
/******/ 			}
/******/ 			linkTag.onerror = linkTag.onload = onLinkComplete;
/******/ 			linkTag.href = fullhref;
/******/ 		
/******/ 			document.head.appendChild(linkTag);
/******/ 			return linkTag;
/******/ 		};
/******/ 		var findStylesheet = (href, fullhref) => {
/******/ 			var existingLinkTags = document.getElementsByTagName("link");
/******/ 			for(var i = 0; i < existingLinkTags.length; i++) {
/******/ 				var tag = existingLinkTags[i];
/******/ 				var dataHref = tag.getAttribute("data-href") || tag.getAttribute("href");
/******/ 				if(tag.rel === "stylesheet" && (dataHref === href || dataHref === fullhref)) return tag;
/******/ 			}
/******/ 			var existingStyleTags = document.getElementsByTagName("style");
/******/ 			for(var i = 0; i < existingStyleTags.length; i++) {
/******/ 				var tag = existingStyleTags[i];
/******/ 				var dataHref = tag.getAttribute("data-href");
/******/ 				if(dataHref === href || dataHref === fullhref) return tag;
/******/ 			}
/******/ 		};
/******/ 		var loadStylesheet = (chunkId) => {
/******/ 			return new Promise((resolve, reject) => {
/******/ 				var href = __webpack_require__.miniCssF(chunkId);
/******/ 				var fullhref = __webpack_require__.p + href;
/******/ 				if(findStylesheet(href, fullhref)) return resolve();
/******/ 				createStylesheet(chunkId, fullhref, resolve, reject);
/******/ 			});
/******/ 		}
/******/ 		// object to store loaded CSS chunks
/******/ 		var installedCssChunks = {
/******/ 			"tiny-files": 0
/******/ 		};
/******/ 		
/******/ 		__webpack_require__.f.miniCss = (chunkId, promises) => {
/******/ 			var cssChunks = {"vendors-node_modules_mdi_font_css_materialdesignicons_css":1,"src_pages_home_home_vue":1,"src_pages_browse_browse_vue":1,"src_pages_settings_settings_vue":1,"src_pages_login_login_vue":1};
/******/ 			if(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);
/******/ 			else if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {
/******/ 				promises.push(installedCssChunks[chunkId] = loadStylesheet(chunkId).then(() => {
/******/ 					installedCssChunks[chunkId] = 0;
/******/ 				}, (e) => {
/******/ 					delete installedCssChunks[chunkId];
/******/ 					throw e;
/******/ 				}));
/******/ 			}
/******/ 		};
/******/ 		
/******/ 		// no hmr
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		// no baseURI
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// Promise = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"tiny-files": 0
/******/ 		};
/******/ 		
/******/ 		var deferredModules = [
/******/ 			["./src/main.ts","vendors-node_modules_axios_index_js-node_modules_buefy_dist_esm_button_js-node_modules_buefy_-3e984b"]
/******/ 		];
/******/ 		__webpack_require__.f.j = (chunkId, promises) => {
/******/ 				// JSONP chunk loading for javascript
/******/ 				var installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;
/******/ 				if(installedChunkData !== 0) { // 0 means "already installed".
/******/ 		
/******/ 					// a Promise means "currently loading".
/******/ 					if(installedChunkData) {
/******/ 						promises.push(installedChunkData[2]);
/******/ 					} else {
/******/ 						if("vendors-node_modules_mdi_font_css_materialdesignicons_css" != chunkId) {
/******/ 							// setup Promise in chunk cache
/******/ 							var promise = new Promise((resolve, reject) => {
/******/ 								installedChunkData = installedChunks[chunkId] = [resolve, reject];
/******/ 							});
/******/ 							promises.push(installedChunkData[2] = promise);
/******/ 		
/******/ 							// start chunk loading
/******/ 							var url = __webpack_require__.p + __webpack_require__.u(chunkId);
/******/ 							// create error before stack unwound to get useful stacktrace later
/******/ 							var error = new Error();
/******/ 							var loadingEnded = (event) => {
/******/ 								if(__webpack_require__.o(installedChunks, chunkId)) {
/******/ 									installedChunkData = installedChunks[chunkId];
/******/ 									if(installedChunkData !== 0) installedChunks[chunkId] = undefined;
/******/ 									if(installedChunkData) {
/******/ 										var errorType = event && (event.type === 'load' ? 'missing' : event.type);
/******/ 										var realSrc = event && event.target && event.target.src;
/******/ 										error.message = 'Loading chunk ' + chunkId + ' failed.\n(' + errorType + ': ' + realSrc + ')';
/******/ 										error.name = 'ChunkLoadError';
/******/ 										error.type = errorType;
/******/ 										error.request = realSrc;
/******/ 										installedChunkData[1](error);
/******/ 									}
/******/ 								}
/******/ 							};
/******/ 							__webpack_require__.l(url, loadingEnded, "chunk-" + chunkId, chunkId);
/******/ 						} else installedChunks[chunkId] = 0;
/******/ 					}
/******/ 				}
/******/ 		};
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		var checkDeferredModules = x => {};
/******/ 		
/******/ 		// install a JSONP callback for chunk loading
/******/ 		var webpackJsonpCallback = (parentChunkLoadingFunction, data) => {
/******/ 			var [chunkIds, moreModules, runtime, executeModules] = data;
/******/ 			// add "moreModules" to the modules object,
/******/ 			// then flag all "chunkIds" as loaded and fire callback
/******/ 			var moduleId, chunkId, i = 0, resolves = [];
/******/ 			for(;i < chunkIds.length; i++) {
/******/ 				chunkId = chunkIds[i];
/******/ 				if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 					resolves.push(installedChunks[chunkId][0]);
/******/ 				}
/******/ 				installedChunks[chunkId] = 0;
/******/ 			}
/******/ 			for(moduleId in moreModules) {
/******/ 				if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 					__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 				}
/******/ 			}
/******/ 			if(runtime) runtime(__webpack_require__);
/******/ 			if(parentChunkLoadingFunction) parentChunkLoadingFunction(data);
/******/ 			while(resolves.length) {
/******/ 				resolves.shift()();
/******/ 			}
/******/ 		
/******/ 			// add entry modules from loaded chunk to deferred list
/******/ 			if(executeModules) deferredModules.push.apply(deferredModules, executeModules);
/******/ 		
/******/ 			// run deferred modules when all chunks ready
/******/ 			return checkDeferredModules();
/******/ 		}
/******/ 		
/******/ 		var chunkLoadingGlobal = self["webpackChunktiny_files"] = self["webpackChunktiny_files"] || [];
/******/ 		chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));
/******/ 		chunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));
/******/ 		
/******/ 		function checkDeferredModulesImpl() {
/******/ 			var result;
/******/ 			for(var i = 0; i < deferredModules.length; i++) {
/******/ 				var deferredModule = deferredModules[i];
/******/ 				var fulfilled = true;
/******/ 				for(var j = 1; j < deferredModule.length; j++) {
/******/ 					var depId = deferredModule[j];
/******/ 					if(installedChunks[depId] !== 0) fulfilled = false;
/******/ 				}
/******/ 				if(fulfilled) {
/******/ 					deferredModules.splice(i--, 1);
/******/ 					result = __webpack_require__(__webpack_require__.s = deferredModule[0]);
/******/ 				}
/******/ 			}
/******/ 			if(deferredModules.length === 0) {
/******/ 				__webpack_require__.x();
/******/ 				__webpack_require__.x = x => {};
/******/ 			}
/******/ 			return result;
/******/ 		}
/******/ 		var startup = __webpack_require__.x;
/******/ 		__webpack_require__.x = () => {
/******/ 			// reset startup function so it can be called again when more startup code is added
/******/ 			__webpack_require__.x = startup || (x => {});
/******/ 			return (checkDeferredModules = checkDeferredModulesImpl)();
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	// run startup
/******/ 	__webpack_require__.x();
/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90aW55LWZpbGVzLy4vc3JjL2J1ZWZ5LnNjc3M/YTk4NiIsIndlYnBhY2s6Ly90aW55LWZpbGVzLy4vc3JjL3N0eWxlcy5zY3NzP2UxNDciLCJ3ZWJwYWNrOi8vdGlueS1maWxlcy8uL3NyYy9hcHAvYXBwLnZ1ZT9mODkxIiwid2VicGFjazovL3RpbnktZmlsZXMvLi9zcmMvY29tcG9uZW50cy9leHBsb3Jlci9leHBsb3Jlci52dWU/NDAyZCIsIndlYnBhY2s6Ly90aW55LWZpbGVzLy4vc3JjL2NvbXBvbmVudHMvbG9hZGluZy9sb2FkaW5nLnZ1ZT9iNjdjIiwid2VicGFjazovL3RpbnktZmlsZXMvLi9zcmMvcGFnZXMvbm90LWZvdW5kL25vdC1mb3VuZC52dWU/NDI2YSIsIndlYnBhY2s6Ly90aW55LWZpbGVzLy4vc3JjL2FwcC9hcHAudHMiLCJ3ZWJwYWNrOi8vdGlueS1maWxlcy8uL3NyYy9jb21wb25lbnRzL2V4cGxvcmVyL2V4cGxvcmVyLnRzIiwid2VicGFjazovL3RpbnktZmlsZXMvLi9zcmMvY29tcG9uZW50cy9sb2FkaW5nL2xvYWRpbmcudHMiLCJ3ZWJwYWNrOi8vdGlueS1maWxlcy8uL3NyYy9tYWluLnRzIiwid2VicGFjazovL3RpbnktZmlsZXMvLi9zcmMvcGFnZXMvbm90LWZvdW5kL25vdC1mb3VuZC50cyIsIndlYnBhY2s6Ly90aW55LWZpbGVzLy4vc3JjL3JvdXRlci50cyIsIndlYnBhY2s6Ly90aW55LWZpbGVzLy4vc3JjL3NlcnZpY2VzL2RhdGEtYnVzLnRzIiwid2VicGFjazovL3RpbnktZmlsZXMvLi9zcmMvc2VydmljZXMvdGlueS1hcGkudHMiLCJ3ZWJwYWNrOi8vdGlueS1maWxlcy8uL3NyYy91dGlsLnRzIiwid2VicGFjazovL3RpbnktZmlsZXMvLi9zcmMvYXBwL2FwcC52dWU/MjdhYSIsIndlYnBhY2s6Ly90aW55LWZpbGVzLy4vc3JjL2NvbXBvbmVudHMvZXhwbG9yZXIvZXhwbG9yZXIudnVlPzVhZTgiLCJ3ZWJwYWNrOi8vdGlueS1maWxlcy8uL3NyYy9jb21wb25lbnRzL2xvYWRpbmcvbG9hZGluZy52dWU/YzU1MyIsIndlYnBhY2s6Ly90aW55LWZpbGVzLy4vc3JjL3BhZ2VzL25vdC1mb3VuZC9ub3QtZm91bmQudnVlP2Q5MDgiLCJ3ZWJwYWNrOi8vdGlueS1maWxlcy8uL3NyYy9hcHAvYXBwLnRzPzQxNDYiLCJ3ZWJwYWNrOi8vdGlueS1maWxlcy8uL3NyYy9jb21wb25lbnRzL2V4cGxvcmVyL2V4cGxvcmVyLnRzPzlkNjAiLCJ3ZWJwYWNrOi8vdGlueS1maWxlcy8uL3NyYy9jb21wb25lbnRzL2xvYWRpbmcvbG9hZGluZy50cz9jMzcyIiwid2VicGFjazovL3RpbnktZmlsZXMvLi9zcmMvcGFnZXMvbm90LWZvdW5kL25vdC1mb3VuZC50cz8xN2IzIiwid2VicGFjazovL3RpbnktZmlsZXMvLi9zcmMvYXBwL2FwcC52dWU/NjllNSIsIndlYnBhY2s6Ly90aW55LWZpbGVzLy4vc3JjL2NvbXBvbmVudHMvZXhwbG9yZXIvZXhwbG9yZXIudnVlP2YxNjMiLCJ3ZWJwYWNrOi8vdGlueS1maWxlcy8uL3NyYy9jb21wb25lbnRzL2xvYWRpbmcvbG9hZGluZy52dWU/MmI4MiIsIndlYnBhY2s6Ly90aW55LWZpbGVzLy4vc3JjL3BhZ2VzL25vdC1mb3VuZC9ub3QtZm91bmQudnVlP2Y1NDgiLCJ3ZWJwYWNrOi8vdGlueS1maWxlcy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly90aW55LWZpbGVzL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL3RpbnktZmlsZXMvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3RpbnktZmlsZXMvd2VicGFjay9ydW50aW1lL2Vuc3VyZSBjaHVuayIsIndlYnBhY2s6Ly90aW55LWZpbGVzL3dlYnBhY2svcnVudGltZS9nZXQgamF2YXNjcmlwdCBjaHVuayBmaWxlbmFtZSIsIndlYnBhY2s6Ly90aW55LWZpbGVzL3dlYnBhY2svcnVudGltZS9nZXQgbWluaS1jc3MgY2h1bmsgZmlsZW5hbWUiLCJ3ZWJwYWNrOi8vdGlueS1maWxlcy93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL3RpbnktZmlsZXMvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly90aW55LWZpbGVzL3dlYnBhY2svcnVudGltZS9sb2FkIHNjcmlwdCIsIndlYnBhY2s6Ly90aW55LWZpbGVzL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vdGlueS1maWxlcy93ZWJwYWNrL3J1bnRpbWUvbm9kZSBtb2R1bGUgZGVjb3JhdG9yIiwid2VicGFjazovL3RpbnktZmlsZXMvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vdGlueS1maWxlcy93ZWJwYWNrL3J1bnRpbWUvY3NzIGxvYWRpbmciLCJ3ZWJwYWNrOi8vdGlueS1maWxlcy93ZWJwYWNrL3J1bnRpbWUvanNvbnAgY2h1bmsgbG9hZGluZyIsIndlYnBhY2s6Ly90aW55LWZpbGVzL3dlYnBhY2svc3RhcnR1cCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNBc0I7QUFDa0I7QUFDRztBQUNIO0FBQ3hDLGlFQUFlLGtEQUFhO0FBQzVCO0FBQ0E7QUFDQSw4QkFBOEIsZ0VBQWlCO0FBQy9DO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxnRUFBaUI7QUFDekQ7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVksMkRBQXdCO0FBQ3BDO0FBQ0EsNkNBQTZDO0FBQzdDLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQSxr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V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0EsTUFBTSxvQkFBb0I7V0FDMUI7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7O1dBRUE7V0FDQTs7V0FFQTtXQUNBO1dBQ0E7O1dBRUE7V0FDQTtXQUNBOztXQUVBO1dBQ0E7V0FDQSxlQUFlLDRCQUE0QjtXQUMzQztXQUNBO1dBQ0EsZ0JBQWdCLDJCQUEyQjtXQUMzQztXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0EsNENBQTRDO1dBQzVDO1dBQ0EsRTs7OztVQzNIQTtVQUNBIiwiZmlsZSI6InRpbnktZmlsZXMuNjUyZjUzNjZkMjZiMjY5OGNhNzguanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiLCIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiLCIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiLCIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiLCIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiLCIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiLCJpbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7XHJcbmltcG9ydCB0aW55QXBpIGZyb20gJ3NlcnZpY2VzL3RpbnktYXBpJztcclxuaW1wb3J0IHsgRGlhbG9nUHJvZ3JhbW1hdGljIH0gZnJvbSAnYnVlZnknO1xyXG5pbXBvcnQgZGF0YUJ1cyBmcm9tICdzZXJ2aWNlcy9kYXRhLWJ1cyc7XHJcbmV4cG9ydCBkZWZhdWx0IFZ1ZS5jb21wb25lbnQoJ2FwcCcsIHtcclxuICAgIGRhdGEoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbG9nZ2VkSW46IEJvb2xlYW4oZGF0YUJ1cy5ob21lVG9rZW4pXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICB3YXRjaDoge1xyXG4gICAgICAgICRyb3V0ZShuLCBvKSB7XHJcbiAgICAgICAgICAgIGlmIChuLnBhdGggIT09IG8ucGF0aCAmJiAhdGhpcy5sb2dnZWRJbiAmJiAhL15cXC9sb2dpbi8udGVzdChuLnBhdGgpKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZWRJbiA9IEJvb2xlYW4oZGF0YUJ1cy5ob21lVG9rZW4pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBtZXRob2RzOiB7XHJcbiAgICAgICAgYXN5bmMgc2V0dGluZ3MoKSB7XHJcbiAgICAgICAgICAgIERpYWxvZ1Byb2dyYW1tYXRpYy5hbGVydCh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnaXMtaW5mbycsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAndG8gYmUgaW1wbGVtZW50ZWQgOzMnXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYXN5bmMgbG9nb3V0KCkge1xyXG4gICAgICAgICAgICBhd2FpdCB0aW55QXBpLmF1dGgubG9nb3V0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvbG9naW4nKTtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZWRJbiA9IGZhbHNlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYXN5bmMgZGVsZXRlU2VsZigpIHtcclxuICAgICAgICAgICAgY29uc3QgY2hvaWNlID0gYXdhaXQgbmV3IFByb21pc2UocmVzID0+IERpYWxvZ1Byb2dyYW1tYXRpYy5jb25maXJtKHtcclxuICAgICAgICAgICAgICAgIHRpdGxlOiAnRGVsZXRlIEFjY291bnQnLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogJ2lzLWRhbmdlcicsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB5b3VyIGFjY291bnQ/IFRoaXMgY2Fubm90IGJlIHVuZG9uZS4nLFxyXG4gICAgICAgICAgICAgICAgb25DYW5jZWw6ICgpID0+IHJlcyhmYWxzZSksXHJcbiAgICAgICAgICAgICAgICBvbkNvbmZpcm06ICgpID0+IHJlcyh0cnVlKVxyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIGlmIChjaG9pY2UpIHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRpbnlBcGkuZGVsZXRlU2VsZigpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9sb2dpbicpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZWRJbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KTtcclxuIiwiaW1wb3J0IFZ1ZSBmcm9tICd2dWUnO1xyXG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xyXG5pbXBvcnQgSlNaaXAgZnJvbSAnanN6aXAnO1xyXG5pbXBvcnQgRmlsZVNhdmVyIGZyb20gJ2ZpbGUtc2F2ZXInO1xyXG5pbXBvcnQgZmlsZXNpemUgZnJvbSAnZmlsZXNpemUnO1xyXG5pbXBvcnQgeyBEYXRlVGltZSB9IGZyb20gJ2x1eG9uJztcclxuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcclxuaW1wb3J0IHsgZ2V0RmlsZUljb24gfSBmcm9tICcuLi8uLi91dGlsJztcclxuZXhwb3J0IGRlZmF1bHQgVnVlLmNvbXBvbmVudCgndGlueS1leHBsb3JlcicsIHtcclxuICAgIHByb3BzOiB7XHJcbiAgICAgICAgcm9vdE5hbWU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogZmFsc2UsIGRlZmF1bHQ6ICdyb290JyB9LFxyXG4gICAgICAgIHJvb3RSb3V0ZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICAgICAgcGF0aHM6IHsgdHlwZTogQXJyYXksIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICAgICAgbWFwTGluazogeyB0eXBlOiBGdW5jdGlvbiwgcmVxdWlyZWQ6IHRydWUgfSxcclxuICAgICAgICB2aWV3T25seTogQm9vbGVhblxyXG4gICAgfSxcclxuICAgIGRhdGEoKSB7XHJcbiAgICAgICAgY29uc3Qgcm9vdEluZm8gPSB7XHJcbiAgICAgICAgICAgIHBhdGg6ICcvJyxcclxuICAgICAgICAgICAgbmFtZTogJ3Jvb3QnLFxyXG4gICAgICAgICAgICBzaXplOiBmaWxlc2l6ZSgwKSxcclxuICAgICAgICAgICAgcmF3U2l6ZTogMCxcclxuICAgICAgICAgICAgbGFzdE1vZGlmaWVkOiAnbnVsbCcsXHJcbiAgICAgICAgICAgIHJhd0xhc3RNb2RpZmllZDogMFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgLy8gXCJleHBsb3JpbmdcIlxyXG4gICAgICAgICAgICBkaXI6ICcvJyxcclxuICAgICAgICAgICAgZGlySW5mbzogcm9vdEluZm8sXHJcbiAgICAgICAgICAgIGJpZ0xpc3Q6IFtdLFxyXG4gICAgICAgICAgICBpbmRleDoge30sXHJcbiAgICAgICAgICAgIHJvb3RJbmZvLFxyXG4gICAgICAgICAgICAvLyBkb3dubG9hZGluZy91cGxvYWRpbmdcclxuICAgICAgICAgICAgd29ya2luZzogZmFsc2UsXHJcbiAgICAgICAgICAgIHByb2dyZXNzOiAwLFxyXG4gICAgICAgICAgICB3b3JraW5nT246ICcnLFxyXG4gICAgICAgICAgICAvLyBzb3J0aW5nXHJcbiAgICAgICAgICAgIHNvcnRCeU5hbWU6ICduYW1lJyxcclxuICAgICAgICAgICAgc29ydEJ5RGlyOiBmYWxzZSxcclxuICAgICAgICAgICAgLy8gc2VsZWN0aW9uXHJcbiAgICAgICAgICAgIGxhc3RBY3RpdmU6ICcnLFxyXG4gICAgICAgICAgICBsYXN0QWN0aXZlVGltZTogMCxcclxuICAgICAgICAgICAgYWN0aXZlOiB7fSxcclxuICAgICAgICAgICAgYW55QWN0aXZlOiBmYWxzZSxcclxuICAgICAgICAgICAgLy8gc2VsZWN0aW9uIGJveFxyXG4gICAgICAgICAgICBkcmF3aW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgZHJhd0JlZ2luOiB7IHg6IDAsIHk6IDAgfSxcclxuICAgICAgICAgICAgZHJhd1BvaW50czogeyB4MTogMCwgeTE6IDAsIHgyOiAwLCB5MjogMCB9LFxyXG4gICAgICAgICAgICBkcmF3UG9zOiB7XHJcbiAgICAgICAgICAgICAgICB0b3A6ICcwcHgnLFxyXG4gICAgICAgICAgICAgICAgbGVmdDogJzBweCcsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6ICcwcHgnLFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6ICcwcHgnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGNvbXB1dGVkOiB7XHJcbiAgICAgICAgc3BsaXREaXIoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNkaXIgPSBbXTtcclxuICAgICAgICAgICAgbGV0IGJ1ZmYgPSAnJztcclxuICAgICAgICAgICAgdGhpcy5kaXIucmVwbGFjZSgvXlxcL3xcXC8kL2csICcnKS5zcGxpdCgnLycpLmZvckVhY2godiA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXYpXHJcbiAgICAgICAgICAgICAgICAgICAgYnVmZiArPSAnLyc7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChidWZmKVxyXG4gICAgICAgICAgICAgICAgICAgIHNkaXIucHVzaChidWZmICsgdik7XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgc2Rpci5wdXNoKHYpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgICAgIHRoaXMucm9vdE5hbWUsXHJcbiAgICAgICAgICAgICAgICAuLi5zZGlyXHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzb3J0ZWRGb2xkZXJzKCkge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuaW5kZXggfHwgIXRoaXMuaW5kZXhbdGhpcy5kaXJdKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zb3J0RW50cmllcyh0aGlzLmluZGV4W3RoaXMuZGlyXS5mb2xkZXJzKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNvcnRlZEZpbGVzKCkge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuaW5kZXggfHwgIXRoaXMuaW5kZXhbdGhpcy5kaXJdKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zb3J0RW50cmllcyh0aGlzLmluZGV4W3RoaXMuZGlyXS5maWxlcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHdhdGNoOiB7XHJcbiAgICAgICAgZGlyKCkge1xyXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IHt9O1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RBY3RpdmUgPSAnJztcclxuICAgICAgICAgICAgdGhpcy5sYXN0QWN0aXZlVGltZSA9IDA7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNsaWNlUm91dGVGb3JQYXRoKCkgIT09IHRoaXMuZGlyKVxyXG4gICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoeyBwYXRoOiB0aGlzLnJvb3RSb3V0ZSArIHRoaXMuZGlyIH0pO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5kaXIubGVuZ3RoID4gMSAmJiB0aGlzLmluZGV4ICYmIHRoaXMuaW5kZXhbdGhpcy5kaXJdKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpZHggPSB0aGlzLmRpci5sYXN0SW5kZXhPZignLycsIHRoaXMuZGlyLmxlbmd0aCAtIDIpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGlyUGFyZW50ID0gdGhpcy5kaXIuc2xpY2UoMCwgaWR4ICsgMSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkaXJOYW1lID0gdGhpcy5kaXIuc2xpY2UoaWR4ICsgMSwgLTEpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaW5mbyA9IHRoaXMuaW5kZXhbZGlyUGFyZW50XSA/IHRoaXMuaW5kZXhbZGlyUGFyZW50XS5mb2xkZXJzLmZpbmQoYSA9PiBhLm5hbWUgPT09IGRpck5hbWUpIDogbnVsbDtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlySW5mbyA9IGluZm8gfHwgdGhpcy5yb290SW5mbztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpckluZm8gPSB0aGlzLnJvb3RJbmZvO1xyXG4gICAgICAgICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6ZGlyJywgdGhpcy5kaXIpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcGF0aHMoKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJHJvdXRlKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zbGljZVJvdXRlRm9yUGF0aCgpICE9PSB0aGlzLmRpciAmJiB0aGlzLmluZGV4W3RoaXMuc2xpY2VSb3V0ZUZvclBhdGgoKV0pXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpciA9IHRoaXMuc2xpY2VSb3V0ZUZvclBhdGgoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGFjdGl2ZSgpIHtcclxuICAgICAgICAgICAgdGhpcy5hbnlBY3RpdmUgPSB0aGlzLmFjdGl2ZSAmJiBPYmplY3QudmFsdWVzKHRoaXMuYWN0aXZlKS5yZWR1Y2UoKGEsIGIpID0+IGEgfHwgYiwgZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBhc3luYyBtb3VudGVkKCkge1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5kcmF3RW5kKTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5kcmF3Q29udGludWUpO1xyXG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG4gICAgICAgIGlmICh0aGlzLmluZGV4W3RoaXMuc2xpY2VSb3V0ZUZvclBhdGgoKV0pXHJcbiAgICAgICAgICAgIHRoaXMuZGlyID0gdGhpcy5zbGljZVJvdXRlRm9yUGF0aCgpO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UodGhpcy5yb290Um91dGUpO1xyXG4gICAgfSxcclxuICAgIGRlc3Ryb3llZCgpIHtcclxuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuZHJhd0VuZCk7XHJcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuZHJhd0NvbnRpbnVlKTtcclxuICAgIH0sXHJcbiAgICBtZXRob2RzOiB7XHJcbiAgICAgICAgc2xpY2VSb3V0ZUZvclBhdGgoKSB7XHJcbiAgICAgICAgICAgIGxldCBwYXRoID0gdGhpcy4kcm91dGUucGF0aC5zbGljZSh0aGlzLnJvb3RSb3V0ZS5sZW5ndGgpO1xyXG4gICAgICAgICAgICBpZiAoIXBhdGguZW5kc1dpdGgoJy8nKSlcclxuICAgICAgICAgICAgICAgIHBhdGggKz0gJy8nO1xyXG4gICAgICAgICAgICByZXR1cm4gcGF0aDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGZvcm1hdERhdGUodGltZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gRGF0ZVRpbWUuZnJvbU1pbGxpcyh0aW1lLCB7IHpvbmU6ICd1dGMnIH0pLnRvTG9jYWwoKS50b0xvY2FsZVN0cmluZyhEYXRlVGltZS5EQVRFVElNRV9TSE9SVCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzb3J0RW50cmllcyhlbnRyaWVzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBlbnRyaWVzLnNvcnQoKF9hLCBfYikgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGEsIGI7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuc29ydEJ5RGlyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYSA9IF9hO1xyXG4gICAgICAgICAgICAgICAgICAgIGIgPSBfYjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGIgPSBfYTtcclxuICAgICAgICAgICAgICAgICAgICBhID0gX2I7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHRoaXMuc29ydEJ5TmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3NpemUnOiByZXR1cm4gYi5yYXdTaXplIC0gYS5yYXdTaXplO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ21vZCc6IHJldHVybiBiLnJhd0xhc3RNb2RpZmllZCAtIGEucmF3TGFzdE1vZGlmaWVkO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ25hbWUnOlxyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhLm5hbWUubG9jYWxlQ29tcGFyZShiLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNvcnQoY29sKSB7XHJcbiAgICAgICAgICAgIGlmIChjb2wgPT09IHRoaXMuc29ydEJ5TmFtZSlcclxuICAgICAgICAgICAgICAgIHRoaXMuc29ydEJ5RGlyID0gIXRoaXMuc29ydEJ5RGlyO1xyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc29ydEJ5TmFtZSA9IGNvbDtcclxuICAgICAgICAgICAgICAgIHRoaXMuc29ydEJ5RGlyID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGdvdG8oZGlyKSB7XHJcbiAgICAgICAgICAgIGlmIChkaXIgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXIgPSAnLyc7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZGlyID49IHRoaXMuc3BsaXREaXIubGVuZ3RoKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICBjb25zdCBkID0gJy8nICsgdGhpcy5zcGxpdERpci5zbGljZSgxLCBkaXIgKyAxKS5qb2luKCcvJyk7XHJcbiAgICAgICAgICAgIHRoaXMuZGlyID0gZC5lbmRzV2l0aCgnLycpID8gZCA6IGQgKyAnLyc7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBuZXdGb2xkZXIoKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjcmVhdGUgZm9sZGVyJyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICByZWZyZXNoKCkge1xyXG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHt9O1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuaW5kZXggfHwgT2JqZWN0LmtleXModGhpcy5pbmRleCkubGVuZ3RoID09PSAwKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xyXG4gICAgICAgICAgICBjb25zdCBvbGRlc3RMYXRlc3RNb2RpZmllZERhdGVzID0ge307XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgdGhpcy5wYXRocykge1xyXG4gICAgICAgICAgICAgICAgLy8gY3JlYXRlIGZvbGRlciBvYmplY3RzXHJcbiAgICAgICAgICAgICAgICBjb25zdCBmb2xkZXJzID0gZW50cnkucGF0aC5zcGxpdCgnLycpLm1hcCgocCwgaSwgYXJyKSA9PiBhcnIuc2xpY2UoMCwgaSkuam9pbignLycpICsgJy8nKS5zbGljZSgxKTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBmcGF0aCA9IGZvbGRlcnNbaV07IGkgPCBmb2xkZXJzLmxlbmd0aDsgaSsrLCBmcGF0aCA9IGZvbGRlcnNbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWluZGV4W2ZwYXRoXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleFtmcGF0aF0gPSB7IGZpbGVzOiBbXSwgZm9sZGVyczogW10gfTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgKyAxIDwgZm9sZGVycy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3ViRk5hbWUgPSBmb2xkZXJzW2kgKyAxXS5zbGljZShmb2xkZXJzW2kgKyAxXS5sYXN0SW5kZXhPZignLycsIGZvbGRlcnNbaSArIDFdLmxlbmd0aCAtIDIpKS5yZXBsYWNlKC9cXC8vZywgJycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWluZGV4W2ZwYXRoXS5mb2xkZXJzLmZpbmQoYSA9PiBhLm5hbWUgPT09IHN1YkZOYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhbZnBhdGhdLmZvbGRlcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogZnBhdGggKyAnLycgKyBzdWJGTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBzdWJGTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnLS0nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhd1NpemU6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdE1vZGlmaWVkOiAnLS0nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhd0xhc3RNb2RpZmllZDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtQ291bnQ6IDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGVudHJ5LnNpemUgPT09IDAgJiYgZW50cnkubW9kaWZpZWQgPT09IDAgJiYgZW50cnkucGF0aC5lbmRzV2l0aCgnbnVsbCcpKVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgLy8gZmlsZSBsb2dpY1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZm9sZGVyID0gaW5kZXhbZm9sZGVyc1tmb2xkZXJzLmxlbmd0aCAtIDFdXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVOYW1lID0gZW50cnkubmFtZSB8fCBlbnRyeS5wYXRoLnNsaWNlKGVudHJ5LnBhdGgubGFzdEluZGV4T2YoJy8nLCBlbnRyeS5wYXRoLmxlbmd0aCAtIDIpICsgMSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlID0gZm9sZGVyLmZpbGVzLmZpbmQoYSA9PiBhLm5hbWUgPT09IGZpbGVOYW1lKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJhd0xhc3RNb2RpZmllZCA9IGVudHJ5Lm1vZGlmaWVkO1xyXG4gICAgICAgICAgICAgICAgLy8gbmV3XHJcbiAgICAgICAgICAgICAgICBpZiAoIWZpbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdGaWxlID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBmaWxlTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogZW50cnkucGF0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmF3U2l6ZTogZW50cnkuc2l6ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogZmlsZXNpemUoZW50cnkuc2l6ZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhd0xhc3RNb2RpZmllZDogcmF3TGFzdE1vZGlmaWVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0TW9kaWZpZWQ6IHRoaXMuZm9ybWF0RGF0ZShyYXdMYXN0TW9kaWZpZWQpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogZW50cnkudHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLi4uZ2V0RmlsZUljb24oZW50cnkudHlwZSlcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbGRlci5maWxlcy5wdXNoKG5ld0ZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIG9sZGVzdExhdGVzdE1vZGlmaWVkRGF0ZXNbZW50cnkucGF0aF0gPSB7IG9sZGVzdDogcmF3TGFzdE1vZGlmaWVkLCBsYXRlc3Q6IHJhd0xhc3RNb2RpZmllZCB9O1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG5ldyBmaWxlICYgbmV3ZXIgbW9kaWZpZWQgJiBoYXMgc2l6ZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKG9sZGVzdExhdGVzdE1vZGlmaWVkRGF0ZXNbZW50cnkucGF0aF0ubGF0ZXN0IDwgcmF3TGFzdE1vZGlmaWVkICYmIGVudHJ5LnNpemUgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsZS5yYXdTaXplID0gZW50cnkuc2l6ZTtcclxuICAgICAgICAgICAgICAgICAgICBmaWxlLnNpemUgPSBmaWxlc2l6ZShlbnRyeS5zaXplKTtcclxuICAgICAgICAgICAgICAgICAgICBmaWxlLnJhd0xhc3RNb2RpZmllZCA9IHJhd0xhc3RNb2RpZmllZDtcclxuICAgICAgICAgICAgICAgICAgICBmaWxlLmxhc3RNb2RpZmllZCA9IHRoaXMuZm9ybWF0RGF0ZShyYXdMYXN0TW9kaWZpZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbGUuY29udGVudFR5cGUgPSBlbnRyeS50eXBlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGljb24gPSBnZXRGaWxlSWNvbihlbnRyeS50eXBlKTtcclxuICAgICAgICAgICAgICAgICAgICBmaWxlLmZpbGVJY29uID0gaWNvbi5maWxlSWNvbjtcclxuICAgICAgICAgICAgICAgICAgICBmaWxlLmZpbGVJY29uQ29sb3IgPSBpY29uLmZpbGVJY29uQ29sb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgb2xkZXN0TGF0ZXN0TW9kaWZpZWREYXRlc1tlbnRyeS5wYXRoXSA9IHsgb2xkZXN0OiByYXdMYXN0TW9kaWZpZWQsIGxhdGVzdDogcmF3TGFzdE1vZGlmaWVkIH07XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaXQncyBqdXN0IG9sZCAob3Igbm9uIGV4aXN0YW50KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7IH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBwb3N0LWVudHJpZXMgbG9naWMgLS0gZmlsbCBvdXQgZm9sZGVyIGluZm9ybWF0aW9uXHJcbiAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSB3ZSBwcm9jZXNzIHRoZSBmYXJ0aGVzdCBmb2xkZXJzIGZpcnN0IChpLmUuIHRoZSBsb25nZXN0IHBhdGhzKVxyXG4gICAgICAgICAgICAvLyBzbyB0aGUgc2hvcnRlciBvbmVzIGNhbiByZWZlcmVuY2UgdGhlaXIgY2hpbGRyZW5cclxuICAgICAgICAgICAgbGV0IHBhdGhzID0gT2JqZWN0LmtleXMoaW5kZXgpLmZpbHRlcihhID0+IGluZGV4W2FdICYmIChpbmRleFthXS5mb2xkZXJzLmxlbmd0aCB8fCBpbmRleFthXS5maWxlcy5sZW5ndGgpKTtcclxuICAgICAgICAgICAgcGF0aHMgPSBwYXRocy5zb3J0KChhLCBiKSA9PiBhLmxlbmd0aCA9PT0gYi5sZW5ndGggPyBhLmxvY2FsZUNvbXBhcmUoYikgOiBiLmxlbmd0aCAtIGEubGVuZ3RoKTtcclxuICAgICAgICAgICAgLy8gY3VycmVudFBhdGggPSAwO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHBhdGggb2YgcGF0aHMpIHtcclxuICAgICAgICAgICAgICAgIC8qIGN1cnJlbnRQYXRoKys7XHJcbiAgICAgICAgICAgICAgICB0aGlzLndvcmtpbmdPbiA9ICdGaWxsaW5nIGZvbGRlciBpbmZvcm1hdGlvbiAoJyArIGN1cnJlbnRQYXRoICsgJy8nICsgcGF0aHMubGVuZ3RoICsgJykuLi4nO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9ncmVzcyA9IGN1cnJlbnRQYXRoIC8gcGF0aHMubGVuZ3RoOyovXHJcbiAgICAgICAgICAgICAgICBsZXQgdG90YWxTaXplID0gMDtcclxuICAgICAgICAgICAgICAgIGxldCBsYXN0TW9kaWZpZWQgPSAwO1xyXG4gICAgICAgICAgICAgICAgbGV0IGl0ZW1Db3VudCA9IDA7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGYgb2YgaW5kZXhbcGF0aF0uZm9sZGVycykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsU2l6ZSArPSBmLnJhd1NpemU7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFzdE1vZGlmaWVkID0gTWF0aC5tYXgobGFzdE1vZGlmaWVkLCBmLnJhd0xhc3RNb2RpZmllZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbUNvdW50ICs9IGYuaXRlbUNvdW50O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBmIG9mIGluZGV4W3BhdGhdLmZpbGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG90YWxTaXplICs9IGYucmF3U2l6ZTtcclxuICAgICAgICAgICAgICAgICAgICBsYXN0TW9kaWZpZWQgPSBNYXRoLm1heChsYXN0TW9kaWZpZWQsIGYucmF3TGFzdE1vZGlmaWVkKTtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtQ291bnQrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChwYXRoLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHggPSBwYXRoLmxhc3RJbmRleE9mKCcvJywgcGF0aC5sZW5ndGggLSAyKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdWJQYXRoID0gcGF0aC5zbGljZSgwLCBpZHggKyAxKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmTmFtZSA9IHBhdGguc2xpY2UoaWR4ICsgMSwgLTEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvbGRlciA9IGluZGV4W3N1YlBhdGhdLmZvbGRlcnMuZmluZChhID0+IGEubmFtZSA9PT0gZk5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbGRlci5yYXdTaXplID0gdG90YWxTaXplO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbGRlci5zaXplID0gZmlsZXNpemUodG90YWxTaXplKTtcclxuICAgICAgICAgICAgICAgICAgICBmb2xkZXIucmF3TGFzdE1vZGlmaWVkID0gbGFzdE1vZGlmaWVkO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbGRlci5sYXN0TW9kaWZpZWQgPSB0aGlzLmZvcm1hdERhdGUobGFzdE1vZGlmaWVkKTtcclxuICAgICAgICAgICAgICAgICAgICBmb2xkZXIuaXRlbUNvdW50ID0gaXRlbUNvdW50O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb290SW5mby5yYXdTaXplID0gdG90YWxTaXplO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm9vdEluZm8uc2l6ZSA9IGZpbGVzaXplKHRvdGFsU2l6ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb290SW5mby5yYXdMYXN0TW9kaWZpZWQgPSBsYXN0TW9kaWZpZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb290SW5mby5sYXN0TW9kaWZpZWQgPSB0aGlzLmZvcm1hdERhdGUobGFzdE1vZGlmaWVkKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvb3RJbmZvLml0ZW1Db3VudCA9IGl0ZW1Db3VudDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmluZGV4ID0gaW5kZXg7XHJcbiAgICAgICAgICAgIHRoaXMuJGZvcmNlVXBkYXRlKCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjbGlja0l0ZW0oZXZlbnQsIGl0ZW0sIGZvbGRlciA9IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBmb2xkZXIgPyAnLycgKyBpdGVtLm5hbWUgOiBpdGVtLm5hbWU7XHJcbiAgICAgICAgICAgIGlmIChldmVudC5nZXRNb2RpZmllclN0YXRlKCdTaGlmdCcpIHx8IGV2ZW50LnNoaWZ0S2V5KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhbGxJdGVtcyA9IHRoaXMuaW5kZXhbdGhpcy5kaXJdLmZvbGRlcnMubWFwKGEgPT4gJy8nICsgYS5uYW1lKS5jb25jYXQodGhpcy5pbmRleFt0aGlzLmRpcl0uZmlsZXMubWFwKGEgPT4gYS5uYW1lKSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzMSA9IGFsbEl0ZW1zLmluZGV4T2YodGhpcy5sYXN0QWN0aXZlKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHMyID0gYWxsSXRlbXMuaW5kZXhPZihuYW1lKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gYWxsSXRlbXMuc2xpY2UoTWF0aC5taW4oczEsIHMyKSwgTWF0aC5tYXgoczEsIHMyKSArIDEpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LmdldE1vZGlmaWVyU3RhdGUoJ0NvbnRyb2wnKSB8fCBldmVudC5jdHJsS2V5KVxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaSBvZiBpdGVtcylcclxuICAgICAgICAgICAgICAgICAgICAgICAgVnVlLnNldCh0aGlzLmFjdGl2ZSwgaSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSBpdGVtcy5yZWR1Y2UoKGFjYywgYykgPT4geyBhY2NbY10gPSB0cnVlOyByZXR1cm4gYWNjOyB9LCB7fSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RBY3RpdmVUaW1lID0gMDtcclxuICAgICAgICAgICAgICAgIHJldHVybjsgLy8gbm8gJ2xhc3RBY3RpdmUnIHdoYXRub3RcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChldmVudC5nZXRNb2RpZmllclN0YXRlKCdDb250cm9sJykgfHwgZXZlbnQuY3RybEtleSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVbbmFtZV0gPSAhdGhpcy5hY3RpdmVbbmFtZV07XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RBY3RpdmVUaW1lID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlID0geyBbbmFtZV06IHRydWUgfTtcclxuICAgICAgICAgICAgICAgIGlmIChEYXRlLm5vdygpIC0gdGhpcy5sYXN0QWN0aXZlVGltZSA8IDMzMykgeyAvLyAxLzMgb2YgYSBzZWNcclxuICAgICAgICAgICAgICAgICAgICBpZiAobmFtZS5zdGFydHNXaXRoKCcvJykpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3BlbkZvbGRlcihuYW1lLnNsaWNlKDEpKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3BlbkZpbGUoaXRlbS5wYXRoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RBY3RpdmVUaW1lID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMubGFzdEFjdGl2ZVRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMubGFzdEFjdGl2ZSA9IG5hbWU7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBvcGVuRm9sZGVyKGZvbGRlcikge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5kaXIpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpciA9IHRoaXMuZGlyICsgZm9sZGVyICsgJy8nO1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpciA9ICcvJyArIGZvbGRlciArICcvJztcclxuICAgICAgICB9LFxyXG4gICAgICAgIGFzeW5jIG9wZW5GaWxlKHBhdGgsIG9wZW4gPSB0cnVlKSB7XHJcbiAgICAgICAgICAgIGlmIChvcGVuKVxyXG4gICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnb3BlbicsIHBhdGgpO1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KHRoaXMubWFwTGluayhwYXRoKSwgeyByZXNwb25zZVR5cGU6ICdibG9iJyB9KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGFzeW5jIGRvd25sb2FkU2VsZWN0ZWQoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLndvcmtpbmcpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gW107XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgayBpbiB0aGlzLmFjdGl2ZSlcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFjdGl2ZVtrXSA9PT0gdHJ1ZSlcclxuICAgICAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKGsuc3RhcnRzV2l0aCgnLycpID8gay5zbGljZSgxKSA6IGspO1xyXG4gICAgICAgICAgICBsZXQgYWxsSXRlbXMgPSBbXTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBpIG9mIGl0ZW1zKSB7XHJcbiAgICAgICAgICAgICAgICBhbGxJdGVtcyA9IGFsbEl0ZW1zLmNvbmNhdCh0aGlzLmJpZ0xpc3RcclxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGEgPT4gYS5zdGFydHNXaXRoKHRoaXMuZGlyLnNsaWNlKDEpICsgaSkpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgbmFtZSA9IGl0ZW1zLmxlbmd0aCA9PT0gMSA/XHJcbiAgICAgICAgICAgICAgICBpdGVtc1swXSA6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNwbGl0RGlyLmxlbmd0aCA9PT0gMSA/XHJcbiAgICAgICAgICAgICAgICAgICAgJ3RpbnktZmlsZXMtZGF0YScgOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3BsaXREaXJbdGhpcy5zcGxpdERpci5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZG93bmxvYWQoYWxsSXRlbXMsIG5hbWUpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYXN5bmMgZG93bmxvYWREaXIocGF0aCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy53b3JraW5nKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICBpZiAoIXBhdGguZW5kc1dpdGgoJy8nKSlcclxuICAgICAgICAgICAgICAgIHBhdGggKz0gJy8nO1xyXG4gICAgICAgICAgICBpZiAocGF0aC5zdGFydHNXaXRoKCcvJykpXHJcbiAgICAgICAgICAgICAgICBwYXRoID0gcGF0aC5zbGljZSgxKTtcclxuICAgICAgICAgICAgbGV0IG5hbWU7XHJcbiAgICAgICAgICAgIGlmIChwYXRoLmxlbmd0aCA8IDIpXHJcbiAgICAgICAgICAgICAgICBuYW1lID0gJ3RpbnktZmlsZXMtZGF0YSc7XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaWR4ID0gcGF0aC5sYXN0SW5kZXhPZignLycsIHBhdGgubGVuZ3RoIC0gMik7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkaXJOYW1lID0gcGF0aC5zbGljZShpZHggKyAxLCAtMSk7XHJcbiAgICAgICAgICAgICAgICBuYW1lID0gZGlyTmFtZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kb3dubG9hZCh0aGlzLmJpZ0xpc3QuZmlsdGVyKGEgPT4gYS5zdGFydHNXaXRoKHBhdGgpKSwgbmFtZSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhc3luYyBkb3dubG9hZChpdGVtcywgbmFtZSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy53b3JraW5nKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB0aGlzLndvcmtpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnByb2dyZXNzID0gMDtcclxuICAgICAgICAgICAgY29uc3QgemlwID0gbmV3IEpTWmlwKCk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IG4gPSAwLCBpdCA9IGl0ZW1zW25dOyBuIDwgaXRlbXMubGVuZ3RoOyBuKyssIGl0ID0gaXRlbXNbbl0pIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdkb3dubG9hZDonLCBpdCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb2dyZXNzID0gbiAvIGl0ZW1zLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIHRoaXMud29ya2luZ09uID0gJ1ppcHBpbmcgJyArIGl0O1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDUwMCkpO1xyXG4gICAgICAgICAgICAgICAgemlwLmZpbGUoaXQsIGF3YWl0IHRoaXMub3BlbkZpbGUoaXQsIGZhbHNlKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5wcm9ncmVzcyA9IDE7XHJcbiAgICAgICAgICAgIHRoaXMud29ya2luZ09uID0gJ1NlcnZpbmcgdGhlIFppcCc7XHJcbiAgICAgICAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCB6aXAuZ2VuZXJhdGVBc3luYyh7IHR5cGU6ICdibG9iJyB9KTtcclxuICAgICAgICAgICAgRmlsZVNhdmVyLnNhdmVBcyhibG9iLCBuYW1lLnJlcGxhY2UoJyonLCAnJykpO1xyXG4gICAgICAgICAgICB0aGlzLndvcmtpbmdPbiA9ICcnO1xyXG4gICAgICAgICAgICB0aGlzLndvcmtpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5wcm9ncmVzcyA9IDA7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBkcmF3U3RhcnQoZXZlbnQpIHtcclxuICAgICAgICAgICAgaWYgKGV2ZW50LmJ1dHRvbiAhPT0gMClcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgdGhpcy5kcmF3aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgVnVlLnNldCh0aGlzLmRyYXdCZWdpbiwgJ3gnLCBldmVudC54KTtcclxuICAgICAgICAgICAgVnVlLnNldCh0aGlzLmRyYXdCZWdpbiwgJ3knLCBldmVudC55KTtcclxuICAgICAgICAgICAgdGhpcy5kcmF3UG9pbnRzID0geyB4MTogZXZlbnQueCwgeDI6IGV2ZW50LngsIHkxOiBldmVudC55LCB5MjogZXZlbnQueSB9O1xyXG4gICAgICAgICAgICB0aGlzLmRyYXdQb3MgPSB7IHRvcDogZXZlbnQueSArICdweCcsIGxlZnQ6IGV2ZW50LnggKyAncHgnLCBoZWlnaHQ6IDAgKyAncHgnLCB3aWR0aDogMCArICdweCcgfTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJveEluc2lkZShhLCBiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAhKGEueDEgPiBiLngyIHx8XHJcbiAgICAgICAgICAgICAgICBhLngyIDwgYi54MSB8fFxyXG4gICAgICAgICAgICAgICAgYS55MSA+IGIueTIgfHxcclxuICAgICAgICAgICAgICAgIGEueTIgPCBiLnkxKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGRyYXdDb250aW51ZTogXy50aHJvdHRsZShmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmRyYXdpbmcpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIFZ1ZS5zZXQodGhpcy5kcmF3UG9pbnRzLCAneTEnLCBNYXRoLm1pbihldmVudC55LCB0aGlzLmRyYXdCZWdpbi55KSk7IC8vIHRvcFxyXG4gICAgICAgICAgICBWdWUuc2V0KHRoaXMuZHJhd1BvaW50cywgJ3gxJywgTWF0aC5taW4oZXZlbnQueCwgdGhpcy5kcmF3QmVnaW4ueCkpOyAvLyBsZWZ0XHJcbiAgICAgICAgICAgIFZ1ZS5zZXQodGhpcy5kcmF3UG9pbnRzLCAneTInLCBNYXRoLm1heChldmVudC55LCB0aGlzLmRyYXdCZWdpbi55KSk7IC8vIGJvdHRvbVxyXG4gICAgICAgICAgICBWdWUuc2V0KHRoaXMuZHJhd1BvaW50cywgJ3gyJywgTWF0aC5tYXgoZXZlbnQueCwgdGhpcy5kcmF3QmVnaW4ueCkpOyAvLyByaWdodFxyXG4gICAgICAgICAgICBWdWUuc2V0KHRoaXMuZHJhd1BvcywgJ3RvcCcsIHRoaXMuZHJhd1BvaW50cy55MSArICdweCcpO1xyXG4gICAgICAgICAgICBWdWUuc2V0KHRoaXMuZHJhd1BvcywgJ2xlZnQnLCB0aGlzLmRyYXdQb2ludHMueDEgKyAncHgnKTtcclxuICAgICAgICAgICAgVnVlLnNldCh0aGlzLmRyYXdQb3MsICdoZWlnaHQnLCB0aGlzLmRyYXdQb2ludHMueTIgLSB0aGlzLmRyYXdQb2ludHMueTEgKyAncHgnKTtcclxuICAgICAgICAgICAgVnVlLnNldCh0aGlzLmRyYXdQb3MsICd3aWR0aCcsIHRoaXMuZHJhd1BvaW50cy54MiAtIHRoaXMuZHJhd1BvaW50cy54MSArICdweCcpO1xyXG4gICAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMuJHJlZnMuZXhwbG9yZXIuY2hpbGRyZW47XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBjaGlsZCA9IGNoaWxkcmVuLml0ZW0oaSk7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKywgY2hpbGQgPSBjaGlsZHJlbi5pdGVtKGkpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIShjaGlsZC5jbGFzc0xpc3QuY29udGFpbnMoJ2ZvbGRlcicpIHx8IGNoaWxkLmNsYXNzTGlzdC5jb250YWlucygnZmlsZScpKSlcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGJveCA9IGNoaWxkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYiA9IHtcclxuICAgICAgICAgICAgICAgICAgICB4MTogYm94LmxlZnQsXHJcbiAgICAgICAgICAgICAgICAgICAgeTE6IGJveC50b3AsXHJcbiAgICAgICAgICAgICAgICAgICAgeDI6IGJveC5yaWdodCxcclxuICAgICAgICAgICAgICAgICAgICB5MjogYm94LmJvdHRvbVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJveEluc2lkZShiLCB0aGlzLmRyYXdQb2ludHMpKVxyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLmNsYXNzTGlzdC5hZGQoJ2hvdmVyJyk7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjaGlsZC5jbGFzc0xpc3QuY29udGFpbnMoJ2hvdmVyJykpXHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQuY2xhc3NMaXN0LnJlbW92ZSgnaG92ZXInKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIDE1KSxcclxuICAgICAgICBkcmF3RW5kKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5kcmF3aW5nIHx8IGV2ZW50LmJ1dHRvbiAhPT0gMClcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgdGhpcy5kcmF3aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy4kcmVmcy5leHBsb3Jlci5jaGlsZHJlbjtcclxuICAgICAgICAgICAgY29uc3QgbmV3QWN0aXZlID0gW107XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBjaGlsZCA9IGNoaWxkcmVuLml0ZW0oaSk7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKywgY2hpbGQgPSBjaGlsZHJlbi5pdGVtKGkpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIShjaGlsZC5jbGFzc0xpc3QuY29udGFpbnMoJ2ZvbGRlcicpIHx8IGNoaWxkLmNsYXNzTGlzdC5jb250YWlucygnZmlsZScpKSlcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5jbGFzc0xpc3QuY29udGFpbnMoJ2hvdmVyJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtTWF0Y2ggPSAvbS0oLispLy5leGVjKGNoaWxkLmlkKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbU1hdGNoICYmIGl0ZW1NYXRjaFsxXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3QWN0aXZlLnB1c2goaXRlbU1hdGNoWzFdKTtcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZC5jbGFzc0xpc3QucmVtb3ZlKCdob3ZlcicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghKGV2ZW50LmdldE1vZGlmaWVyU3RhdGUoJ1N0YXRlJykgfHwgZXZlbnQuc2hpZnRLZXkpKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSB7fTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBpIG9mIG5ld0FjdGl2ZSlcclxuICAgICAgICAgICAgICAgIFZ1ZS5zZXQodGhpcy5hY3RpdmUsIGksIHRydWUpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ2V0UGF0aChmb2xkZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucm9vdFJvdXRlICsgdGhpcy5kaXIgKyBmb2xkZXI7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBnZXRMaW5rKGZpbGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFwTGluayhmaWxlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pO1xyXG4iLCJpbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7XHJcbmV4cG9ydCBkZWZhdWx0IFZ1ZS5jb21wb25lbnQoJ3RpbnktbG9hZGluZycsIHt9KTtcclxuIiwiaW1wb3J0IFZ1ZSBmcm9tICd2dWUnO1xyXG4vLyBAdHMtaWdub3JlXHJcbmltcG9ydCgnQG1kaS9mb250L2Nzcy9tYXRlcmlhbGRlc2lnbmljb25zLmNzcycpO1xyXG5pbXBvcnQgeyAvLyBAdHMtaWdub3JlXHJcbkJ1dHRvbiwgSW5wdXQsIEZpZWxkLCBJY29uLCBMb2FkaW5nLCBEaWFsb2csIE1vZGFsLCBEcm9wZG93biwgRGlhbG9nUHJvZ3JhbW1hdGljLCBVcGxvYWQgfSBmcm9tICdidWVmeSc7XHJcbmltcG9ydCAnLi9idWVmeS5zY3NzJztcclxuaW1wb3J0ICcuL3N0eWxlcy5zY3NzJztcclxuaW1wb3J0IHsgbWFrZUluaXRpYWxpemVyQ29tcG9uZW50IH0gZnJvbSAnLi91dGlsJztcclxuaW1wb3J0IEFwcENvbXBvbmVudCBmcm9tICcuL2FwcC9hcHAnO1xyXG5pbXBvcnQgTG9hZGluZ0NvbXBvbmVudCBmcm9tICcuL2NvbXBvbmVudHMvbG9hZGluZy9sb2FkaW5nJztcclxuaW1wb3J0IFRpbnlFeHBsb3JlciBmcm9tICcuL2NvbXBvbmVudHMvZXhwbG9yZXIvZXhwbG9yZXInO1xyXG5pbXBvcnQgcm91dGVyIGZyb20gJy4vcm91dGVyJztcclxuY29uc29sZS5sb2coJ0Vudmlyb25tZW50OicsIHByb2Nlc3MuZW52Lk5PREVfRU5WKTtcclxuVnVlLnVzZShCdXR0b24pO1xyXG5WdWUudXNlKElucHV0KTtcclxuVnVlLnVzZShGaWVsZCk7XHJcblZ1ZS51c2UoSWNvbik7XHJcblZ1ZS51c2UoTG9hZGluZyk7XHJcblZ1ZS51c2UoRGlhbG9nKTtcclxuVnVlLnVzZShNb2RhbCk7XHJcblZ1ZS51c2UoRHJvcGRvd24pO1xyXG5WdWUudXNlKFVwbG9hZCk7XHJcbmNvbnN0IHYgPSBuZXcgVnVlKHtcclxuICAgIHJvdXRlcixcclxuICAgIGVsOiAnI2FwcCcsXHJcbiAgICBjb21wb25lbnRzOiB7IEFwcENvbXBvbmVudCwgVGlueUV4cGxvcmVyIH0sXHJcbiAgICBkYXRhOiB7IGxvYWRlZDogZmFsc2UgfSxcclxuICAgIHJlbmRlcihoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubG9hZGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBoKEFwcENvbXBvbmVudCwgeyBrZXk6ICdhcHAnIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHJldHVybiBtYWtlSW5pdGlhbGl6ZXJDb21wb25lbnQoaCwgTG9hZGluZ0NvbXBvbmVudCk7XHJcbiAgICB9XHJcbn0pO1xyXG4oYXN5bmMgKCkgPT4ge1xyXG4gICAgLy8gaG1tbVxyXG59KSgpLnRoZW4oKCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coJ0luaXRpYWxpemVkIE1haW4hJyk7XHJcbiAgICB2LmxvYWRlZCA9IHRydWU7XHJcbn0sIGUgPT4ge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgaW5pdGlhbGl6aW5nIG1haW46ICcsIGUuc3RhY2sgfHwgZS5tZXNzYWdlIHx8IGUpO1xyXG4gICAgRGlhbG9nUHJvZ3JhbW1hdGljLmFsZXJ0KHtcclxuICAgICAgICB0aXRsZTogJ0Vycm9yJyxcclxuICAgICAgICBtZXNzYWdlOiAnRXJyb3IgaW5pdGlhbGl6aW5nIG1haW46ICcgKyBTdHJpbmcoZS5tZXNzYWdlIHx8IGUpLFxyXG4gICAgICAgIHR5cGU6ICdpcy1kYW5nZXInXHJcbiAgICB9KTtcclxufSk7XHJcbiIsImltcG9ydCBWdWUgZnJvbSAndnVlJztcclxuZXhwb3J0IGRlZmF1bHQgVnVlLmNvbXBvbmVudCgndGlueS1ub3QtZm91bmQnLCB7fSk7XHJcbiIsImltcG9ydCBWdWUgZnJvbSAndnVlJztcclxuaW1wb3J0IFZ1ZVJvdXRlciBmcm9tICd2dWUtcm91dGVyJztcclxuY29uc3QgSG9tZVBhZ2UgPSAoKSA9PiBpbXBvcnQoJy4vcGFnZXMvaG9tZS9ob21lJyk7XHJcbmNvbnN0IEJyb3dzZVBhZ2UgPSAoKSA9PiBpbXBvcnQoJy4vcGFnZXMvYnJvd3NlL2Jyb3dzZScpO1xyXG5jb25zdCBTZXR0aW5nc1BhZ2UgPSAoKSA9PiBpbXBvcnQoJy4vcGFnZXMvc2V0dGluZ3Mvc2V0dGluZ3MnKTtcclxuY29uc3QgTG9naW5QYWdlID0gKCkgPT4gaW1wb3J0KCcuL3BhZ2VzL2xvZ2luL2xvZ2luJyk7XHJcbmltcG9ydCBOb3RGb3VuZFBhZ2UgZnJvbSAnLi9wYWdlcy9ub3QtZm91bmQvbm90LWZvdW5kJztcclxuaW1wb3J0IGRhdGFCdXMgZnJvbSAnLi9zZXJ2aWNlcy9kYXRhLWJ1cyc7XHJcblZ1ZS51c2UoVnVlUm91dGVyKTtcclxuY29uc3Qgcm91dGVyID0gbmV3IFZ1ZVJvdXRlcih7XHJcbiAgICBtb2RlOiBkb2NzID8gJ2hhc2gnIDogJ2hpc3RvcnknLFxyXG4gICAgcm91dGVzOiBbXHJcbiAgICAgICAgeyBwYXRoOiAnLycsIHJlZGlyZWN0OiAnL2Jyb3dzZScsIG5hbWU6ICdob21lJyB9LFxyXG4gICAgICAgIHsgcGF0aDogJy9icm93c2UqKicsIGNvbXBvbmVudDogQnJvd3NlUGFnZSwgbmFtZTogJ2Jyb3dzZScgfSxcclxuICAgICAgICAvLyB7IHBhdGg6ICcvZXhwbG9yZS86b3JpZ2luLzp1c2VybmFtZS86c2hhcmUvKionLCBjb21wb25lbnQ6IEV4cGxvcmVQYWdlLCBuYW1lOiAnZXhwbG9yZScgfSwgLy8gb3RoZXIncyBmaWxlc1xyXG4gICAgICAgIHsgcGF0aDogJy9zZXR0aW5ncycsIGNvbXBvbmVudDogU2V0dGluZ3NQYWdlLCBuYW1lOiAnc2V0dGluZ3MnIH0sXHJcbiAgICAgICAgeyBwYXRoOiAnL2xvZ2luJywgY29tcG9uZW50OiBMb2dpblBhZ2UsIG5hbWU6ICdsb2dpbicgfSxcclxuICAgICAgICB7IHBhdGg6ICcqKicsIGNvbXBvbmVudDogTm90Rm91bmRQYWdlLCBuYW1lOiAnbm90LWZvdW5kJyB9XHJcbiAgICBdXHJcbn0pO1xyXG5yb3V0ZXIuYmVmb3JlRWFjaCgodG8sIGZyb20sIG5leHQpID0+IHtcclxuICAgIGlmICh0by5wYXRoICE9PSBmcm9tLnBhdGgpIHtcclxuICAgICAgICBpZiAodG8ucGF0aC5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNkaXIgPSBbXTtcclxuICAgICAgICAgICAgbGV0IGJ1ZmYgPSAnJztcclxuICAgICAgICAgICAgdG8ucGF0aC5zbGljZSgxKS5zcGxpdCgnLycpLmZvckVhY2godiA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXYpXHJcbiAgICAgICAgICAgICAgICAgICAgYnVmZiArPSAnLyc7XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYnVmZilcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2Rpci5wdXNoKGJ1ZmYgKyB2KTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNkaXIucHVzaCh2KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LnRpdGxlID0gJ3RpbnkgZmlsZXMgLSAnICsgc2Rpci5qb2luKCcgLSAnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICBkb2N1bWVudC50aXRsZSA9ICd0aW55IGZpbGVzJztcclxuICAgIH1cclxuICAgIGlmICghZGF0YUJ1cy5ob21lVG9rZW4gJiYgIS9eXFwvbG9naW4vLnRlc3QodG8ucGF0aCkpXHJcbiAgICAgICAgbmV4dCgnL2xvZ2luP2dvdG89JyArIHRvLmZ1bGxQYXRoKTtcclxuICAgIG5leHQoKTtcclxufSk7XHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcclxuIiwiY2xhc3MgRGF0YUJ1cyB7XHJcbiAgICBnZXQgcHJpdmF0ZVNjb3BlKCkgeyByZXR1cm4gJy9hcHBkYXRhL3RpbnktZmlsZXMnOyB9XHJcbiAgICBnZXQgcHVibGljU2NvcGUoKSB7IHJldHVybiAnL3B1YmxpYy90aW55LWZpbGVzJzsgfVxyXG4gICAgZ2V0IGhvbWVVcmwoKSB7IHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaG9tZV91cmwnKTsgfVxyXG4gICAgc2V0IGhvbWVVcmwodXJsKSB7IGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdob21lX3VybCcsIHVybCk7IH1cclxuICAgIGdldCBob21lVG9rZW4oKSB7IHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaG9tZV90b2tlbicpOyB9XHJcbiAgICBzZXQgaG9tZVRva2VuKHNpZCkgeyBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnaG9tZV90b2tlbicsIHNpZCk7IH1cclxuICAgIGdldCBzdG9yZVVybCgpIHsgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzdG9yZV91cmwnKTsgfVxyXG4gICAgc2V0IHN0b3JlVXJsKHVybCkgeyBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnc3RvcmVfdXJsJywgdXJsKTsgfVxyXG4gICAgZ2V0IHN0b3JlVG9rZW4oKSB7IHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc3RvcmVfdG9rZW4nKTsgfVxyXG4gICAgc2V0IHN0b3JlVG9rZW4oc2lkKSB7IGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdzdG9yZV90b2tlbicsIHNpZCk7IH1cclxuICAgIGdldCBzdG9yZVNjb3BlcygpIHsgcmV0dXJuIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3N0b3JlX3Njb3BlcycpKTsgfVxyXG4gICAgc2V0IHN0b3JlU2NvcGVzKHNjb3BlcykgeyBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnc3RvcmVfc2NvcGVzJywgSlNPTi5zdHJpbmdpZnkoc2NvcGVzKSk7IH1cclxuICAgIGdldCBkYlVybCgpIHsgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdkYl91cmwnKTsgfVxyXG4gICAgc2V0IGRiVXJsKHVybCkgeyBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZGJfdXJsJywgdXJsKTsgfVxyXG4gICAgZ2V0IGRiVG9rZW4oKSB7IHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZGJfdG9rZW4nKTsgfVxyXG4gICAgc2V0IGRiVG9rZW4oc2lkKSB7IGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdkYl90b2tlbicsIHNpZCk7IH1cclxuICAgIGdldCBpbmZvQXJyYXkoKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgeyBpZDogJ2hvbWUnLCB1cmw6IHRoaXMuaG9tZVVybCwgdG9rZW46IHRoaXMuaG9tZVRva2VuIH0sXHJcbiAgICAgICAgICAgIHsgaWQ6ICdzdG9yZScsIHVybDogdGhpcy5zdG9yZVVybCwgdG9rZW46IHRoaXMuc3RvcmVUb2tlbiwgc2NvcGVzOiB0aGlzLnN0b3JlU2NvcGVzIH0sXHJcbiAgICAgICAgICAgIHsgaWQ6ICdkYicsIHVybDogdGhpcy5kYlVybCwgdG9rZW46IHRoaXMuZGJUb2tlbiB9XHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuICAgIGNsZWFyKCkge1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5jbGVhcigpO1xyXG4gICAgfVxyXG59XHJcbjtcclxuZXhwb3J0IGRlZmF1bHQgbmV3IERhdGFCdXMoKTtcclxuIiwiaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcclxuaW1wb3J0IGRhdGFCdXMgZnJvbSAnLi9kYXRhLWJ1cyc7XHJcbmltcG9ydCB7IGhhbmRsZUVycm9yIH0gZnJvbSAnLi4vdXRpbCc7XHJcbmNsYXNzIFRpbnlBcGkge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5fYXV0aCA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgICAgICBhc3luYyBsb2dpbihvcmlnaW4sIHBlcnNvbmFsID0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3BsZWV0ID0gb3JpZ2luLnNwbGl0KCdAJyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgdXNlcm5hbWUgPSAnJztcclxuICAgICAgICAgICAgICAgIGlmIChzcGxlZXRbMV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBvcmlnaW4gPSBzcGxlZXRbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWUgPSBzcGxlZXRbMF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwcm90b2NvbCA9IC9ebG9jYWxob3N0Oi8udGVzdChvcmlnaW4pID8gJ2h0dHA6JyA6IGxvY2F0aW9uLnByb3RvY29sO1xyXG4gICAgICAgICAgICAgICAgZGF0YUJ1cy5ob21lVXJsID0gcHJvdG9jb2wgKyAnLy8nICsgb3JpZ2luO1xyXG4gICAgICAgICAgICAgICAgZGF0YUJ1cy5zdG9yZVNjb3BlcyA9IHBlcnNvbmFsID8gW2RhdGFCdXMucHJpdmF0ZVNjb3BlLCBkYXRhQnVzLnB1YmxpY1Njb3BlXSA6IFsnLyddO1xyXG4gICAgICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9IGRhdGFCdXMuaG9tZVVybCArICcvYXV0aC9oYW5kc2hha2Uvc3RhcnQnXHJcbiAgICAgICAgICAgICAgICAgICAgKyAnP2FwcD10aW55LWZpbGVzJ1xyXG4gICAgICAgICAgICAgICAgICAgICsgJyZyZWRpcmVjdD0nICsgbG9jYXRpb24ub3JpZ2luICsgJy9sb2dpbidcclxuICAgICAgICAgICAgICAgICAgICArICcmc2NvcGVzPWhvbWUsc3RvcmUsZGInXHJcbiAgICAgICAgICAgICAgICAgICAgKyAocGVyc29uYWwgPyBgJmZpbGVTY29wZXM9W1wiJHtkYXRhQnVzLnByaXZhdGVTY29wZX1cIiwgXCIke2RhdGFCdXMucHVibGljU2NvcGV9XCJdYCA6ICcmZmlsZVNjb3Blcz1bXCIvXCJdJylcclxuICAgICAgICAgICAgICAgICAgICArICh1c2VybmFtZSA/ICcmdXNlcm5hbWU9JyArIHVzZXJuYW1lIDogJycpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBhc3luYyBnZXRUb2tlbnMob3JpZ2luLCBjb2RlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0b2tlbnMgPSBhd2FpdCBheGlvcy5wb3N0KG9yaWdpbiArICcvYXV0aC90b2tlbicsIHtcclxuICAgICAgICAgICAgICAgICAgICBhcHA6ICd0aW55LWZpbGVzJyxcclxuICAgICAgICAgICAgICAgICAgICByZWRpcmVjdDogbG9jYXRpb24ub3JpZ2luICsgJy9sb2dpbicsXHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGVzOiAnaG9tZSxzdG9yZSxkYicsXHJcbiAgICAgICAgICAgICAgICAgICAgY29kZSxcclxuICAgICAgICAgICAgICAgICAgICBzZWNyZXQ6ICdrZXlib2FyZGNhdCdcclxuICAgICAgICAgICAgICAgIH0pLnRoZW4ocmVzID0+IHJlcy5kYXRhLCBlID0+IHsgaGFuZGxlRXJyb3IoZSk7IHRocm93IGU7IH0pO1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBpZCBvZiBPYmplY3Qua2V5cyh0b2tlbnMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YUJ1c1tpZCArICdVcmwnXSA9IHRva2Vuc1tpZF0udXJsO1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFCdXNbaWQgKyAnVG9rZW4nXSA9IHRva2Vuc1tpZF0udG9rZW47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFzeW5jIHJlZnJlc2goKSB7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChkYXRhQnVzLmluZm9BcnJheS5tYXAoKHsgaWQsIHVybCwgdG9rZW4gfSkgPT4gYXhpb3MuZ2V0KGAke3VybH0vYXV0aC9yZWZyZXNoP3NpZD0ke3Rva2VufWApXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzID0+IGRhdGFCdXNbaWQgKyAnVG9rZW4nXSA9IFN0cmluZyhyZXMuZGF0YSksIGhhbmRsZUVycm9yKSkpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBhc3luYyBsb2dvdXQoKSB7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChkYXRhQnVzLmluZm9BcnJheS5tYXAoKHsgdXJsLCB0b2tlbiB9KSA9PiBheGlvcy5wb3N0KGAke3VybH0vYXV0aC9sb2dvdXQ/c2lkPSR7dG9rZW59YCkpKVxyXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvcik7XHJcbiAgICAgICAgICAgICAgICBkYXRhQnVzLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fZmlsZXMgPSBPYmplY3QuZnJlZXplKHtcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIFJlYWQgYSBmaWxlXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIHRoZSBmaWxlIHBhdGggdG8gcmVhZFxyXG4gICAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gcmVzcG9uc2VUeXBlIChvcHRpb25hbCkgdGhlIHJlc3BvbnNlIHR5cGUgZm9yIGF4aW9zIHRvIGNhc3QgaW50b1xyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgYXN5bmMgcmVhZChwYXRoLCByZXNwb25zZVR5cGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoZGF0YUJ1cy5zdG9yZVVybCArICcvZmlsZXMnICsgcGF0aCArICc/c2lkPScgKyBkYXRhQnVzLnN0b3JlVG9rZW4sIHsgcmVzcG9uc2VUeXBlIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzID0+IHJlcy5kYXRhKVxyXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHsgaGFuZGxlRXJyb3IoZSk7IHRocm93IGU7IH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogR2V0IHRoZSBocmVmIHRvIHJlYWQgdGhlIGZpbGVcclxuICAgICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggdGhlIGZpbGUgcGF0aCB0byByZWFkXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBnZXRSZWFkVXJsKHBhdGgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhQnVzLnN0b3JlVXJsICsgJy9maWxlcycgKyBwYXRoICsgJz9zaWQ9JyArIGRhdGFCdXMuc3RvcmVUb2tlbjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIFdyaXRlIGEgcmF3IHN0cmVhbVxyXG4gICAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCB0aGUgZmlsZSBwYXRoXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7QXJyYXlCdWZmZXIgfSBkYXRhIHRoZSBkYXRhIHRvIHdyaXRlXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBhc3luYyB3cml0ZShwYXRoLCBkYXRhLCBjb250ZW50VHlwZSwgb25VcGxvYWRQcm9ncmVzcyA9ICgpID0+IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF4aW9zLnB1dChgJHtkYXRhQnVzLnN0b3JlVXJsfS9maWxlcyR7cGF0aH0/c2lkPSR7ZGF0YUJ1cy5zdG9yZVRva2VufSR7Y29udGVudFR5cGUgPyAnJmNvbnRlbnRUeXBlPScgKyBjb250ZW50VHlwZSA6ICcnfWAsIGRhdGEsIHsgaGVhZGVyczogY29udGVudFR5cGUgPyB7ICdDb250ZW50LVR5cGUnOiBjb250ZW50VHlwZSB9IDogdW5kZWZpbmVkLCBvblVwbG9hZFByb2dyZXNzIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4geyBoYW5kbGVFcnJvcihlKTsgdGhyb3cgZTsgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBXcml0ZSBhIGZpbGVcclxuICAgICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggdGhlIGZpbGUgcGF0aFxyXG4gICAgICAgICAgICAgKiBAcGFyYW0ge0ZpbGV9IGZpbGUgdGhlIGZpbGUgdG8gd3JpdGVcclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGFzeW5jIHdyaXRlRmlsZShwYXRoLCBmaWxlLCBvblVwbG9hZFByb2dyZXNzID0gKCkgPT4gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIGZpbGUpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXhpb3MucHV0KGRhdGFCdXMuc3RvcmVVcmwgKyAnL2ZpbGVzJyArIHBhdGggKyAnP3NpZD0nICsgZGF0YUJ1cy5zdG9yZVRva2VuLCBmb3JtRGF0YSwgeyBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScgfSwgb25VcGxvYWRQcm9ncmVzcyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHsgaGFuZGxlRXJyb3IoZSk7IHRocm93IGU7IH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogRGVsZXRlIGEgZmlsZVxyXG4gICAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCB0aGUgZmlsZSBwYXRoXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBhc3luYyBkZWxldGUocGF0aCkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYXhpb3MuZGVsZXRlKGRhdGFCdXMuc3RvcmVVcmwgKyAnL2ZpbGVzJyArIHBhdGggKyAnP3NpZD0nICsgZGF0YUJ1cy5zdG9yZVRva2VuKVxyXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHsgaGFuZGxlRXJyb3IoZSk7IHRocm93IGU7IH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBhc3luYyBsaXN0RmlsZXMocGF0aCwgYWR2YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldChgJHtkYXRhQnVzLnN0b3JlVXJsfS9saXN0LWZpbGVzJHtwYXRoLmxlbmd0aCA+IDAgJiYgIXBhdGguc3RhcnRzV2l0aCgnLycpID8gJy8nIDogJyd9JHtwYXRofWBcclxuICAgICAgICAgICAgICAgICAgICArIGA/c2lkPSR7ZGF0YUJ1cy5zdG9yZVRva2VufSR7YWR2YW5jZSA/ICcmYWR2YW5jZT10cnVlJyA6ICcnfWApXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzID0+IHJlcy5kYXRhKVxyXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHsgaGFuZGxlRXJyb3IoZSk7IHRocm93IGU7IH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBhc3luYyBnZXRTdG9yYWdlU3RhdHMoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KGRhdGFCdXMuc3RvcmVVcmwgKyAnL3N0b3JhZ2Utc3RhdHMnICsgJz9zaWQ9JyArIGRhdGFCdXMuc3RvcmVUb2tlbilcclxuICAgICAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4gcmVzLmRhdGEpXHJcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4geyBoYW5kbGVFcnJvcihlKTsgdGhyb3cgZTsgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFzeW5jIHJlYWRQdWJsaWModXNlciwgcGF0aCwgcmVzcG9uc2VUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KGRhdGFCdXMuc3RvcmVVcmwgKyAnL3B1YmxpYy8nICsgdXNlciArIHBhdGgsIHsgcmVzcG9uc2VUeXBlIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzID0+IHJlcy5kYXRhKVxyXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHsgaGFuZGxlRXJyb3IoZSk7IHRocm93IGU7IH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBnZXRQdWJsaWNSZWFkVXJsKHVzZXIsIHBhdGgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhQnVzLnN0b3JlVXJsICsgJy9wdWJsaWMvJyArIHVzZXIgKyBwYXRoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBnZXQgYXV0aCgpIHsgcmV0dXJuIHRoaXMuX2F1dGg7IH1cclxuICAgIGFzeW5jIGRlbGV0ZVNlbGYoKSB7XHJcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoZGF0YUJ1cy5pbmZvQXJyYXkubWFwKCh7IHVybCwgdG9rZW4gfSkgPT4gYXhpb3MuZGVsZXRlKGAke3VybH0vc2VsZj9zaWQ9JHt0b2tlbn1gKVxyXG4gICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpKSk7XHJcbiAgICAgICAgZGF0YUJ1cy5jbGVhcigpO1xyXG4gICAgfVxyXG4gICAgZ2V0IGZpbGVzKCkgeyByZXR1cm4gdGhpcy5fZmlsZXM7IH1cclxufVxyXG47XHJcbmV4cG9ydCBkZWZhdWx0IG5ldyBUaW55QXBpKCk7XHJcbiIsImltcG9ydCB7IERpYWxvZ1Byb2dyYW1tYXRpYyB9IGZyb20gJ2J1ZWZ5JztcclxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VDZW50ZXJTdHlsZSgpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxyXG4gICAgICAgIGZsZXhGbG93OiAnY29sdW1uJyxcclxuICAgICAgICBmbGV4V3JhcDogJ25vd3JhcCcsXHJcbiAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXHJcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxyXG4gICAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxyXG4gICAgICAgIHRvcDogJzAnLFxyXG4gICAgICAgIGxlZnQ6ICcwJyxcclxuICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcclxuICAgICAgICB3aWR0aDogJzEwMCUnLFxyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3RyYW5zcGFyZW50J1xyXG4gICAgfTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gbWFrZUluaXRpYWxpemVyQ29tcG9uZW50KGgsIGxvYWRpbmdDb21wb25lbnQpIHtcclxuICAgIHJldHVybiBoKCdkaXYnLCB7IHN0YXRpY1N0eWxlOiBtYWtlQ2VudGVyU3R5bGUoKSB9LCBbaChsb2FkaW5nQ29tcG9uZW50KV0pO1xyXG59XHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYW5kbGVFcnJvcihlLCBhY3Rpb24pIHtcclxuICAgIHZhciBfYSwgX2I7XHJcbiAgICBjb25zdCBtZXNzYWdlID0gKChfYiA9IChfYSA9IGUucmVzcG9uc2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kYXRhKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IubWVzc2FnZSkgfHwgZS5tZXNzYWdlIHx8IFN0cmluZyhlKTtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXMgPT4gRGlhbG9nUHJvZ3JhbW1hdGljLmFsZXJ0KHtcclxuICAgICAgICB0aXRsZTogYWN0aW9uID8gJ0Vycm9yICcgKyBhY3Rpb24gOiAnRXJyb3InLFxyXG4gICAgICAgIG1lc3NhZ2UsXHJcbiAgICAgICAgdHlwZTogJ2lzLWRhbmdlcicsXHJcbiAgICAgICAgaGFzSWNvbjogdHJ1ZSxcclxuICAgICAgICBvbkNvbmZpcm06ICgpID0+IHJlcygpLFxyXG4gICAgICAgIG9uQ2FuY2VsOiAoKSA9PiByZXMoKVxyXG4gICAgfSkpO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRGaWxlSWNvbihjb250ZW50VHlwZSkge1xyXG4gICAgaWYgKGNvbnRlbnRUeXBlLnN0YXJ0c1dpdGgoJ2FwcGxpY2F0aW9uL2pzb24nKSlcclxuICAgICAgICByZXR1cm4geyBmaWxlSWNvbjogJ2ZpbGUtY29kZScsIGZpbGVJY29uQ29sb3I6ICcjZjQ0MzM2JyB9O1xyXG4gICAgaWYgKGNvbnRlbnRUeXBlLnN0YXJ0c1dpdGgoJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbScpKVxyXG4gICAgICAgIHJldHVybiB7IGZpbGVJY29uOiAnZmlsZS1xdWVzdGlvbicsIGZpbGVJY29uQ29sb3I6ICcjQkRCREJEJyB9O1xyXG4gICAgaWYgKGNvbnRlbnRUeXBlLnN0YXJ0c1dpdGgoJ3RleHQnKSlcclxuICAgICAgICByZXR1cm4geyBmaWxlSWNvbjogJ2ZpbGUtZG9jdW1lbnQnLCBmaWxlSWNvbkNvbG9yOiAnIzNGNTFCNScgfTtcclxuICAgIGlmIChjb250ZW50VHlwZS5zdGFydHNXaXRoKCdhcHBsaWNhdGlvbi9wZGYnKSlcclxuICAgICAgICByZXR1cm4geyBmaWxlSWNvbjogJ2ZpbGUtcGRmJywgZmlsZUljb25Db2xvcjogJyMzRjUxQjUnIH07XHJcbiAgICBpZiAoY29udGVudFR5cGUuc3RhcnRzV2l0aCgnYXVkaW8nKSB8fCBjb250ZW50VHlwZS5zdGFydHNXaXRoKCd2aWRlby9vZ2cnKSlcclxuICAgICAgICByZXR1cm4geyBmaWxlSWNvbjogJ2ZpbGUtbXVzaWMnLCBmaWxlSWNvbkNvbG9yOiAnI0U5MUU2MycgfTtcclxuICAgIGlmIChjb250ZW50VHlwZS5zdGFydHNXaXRoKCdpbWFnZScpKVxyXG4gICAgICAgIHJldHVybiB7IGZpbGVJY29uOiAnZmlsZS1pbWFnZScsIGZpbGVJY29uQ29sb3I6ICcjNENBRjUwJyB9O1xyXG4gICAgaWYgKGNvbnRlbnRUeXBlLnN0YXJ0c1dpdGgoJ3ZpZGVvJykpXHJcbiAgICAgICAgcmV0dXJuIHsgZmlsZUljb246ICdmaWxlLXZpZGVvJywgZmlsZUljb25Db2xvcjogJyM2NzNBQjcnIH07XHJcbiAgICByZXR1cm4geyBmaWxlSWNvbjogJ2ZpbGUnLCBmaWxlSWNvbkNvbG9yOiAnIzc4OTA5QycgfTtcclxufVxyXG4iLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2FwcC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NWQ4N2U3ZWEmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vYXBwLnRzP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9hcHAudHM/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmltcG9ydCBzdHlsZTAgZnJvbSBcIi4vYXBwLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9c2NzcyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiQzpcXFxcVXNlcnNcXFxcbXRjMTJcXFxcRG9jdW1lbnRzXFxcXFdvcmtcXFxcTWVcXFxcdGlueS1maWxlc1xcXFxub2RlX21vZHVsZXNcXFxcdnVlLWhvdC1yZWxvYWQtYXBpXFxcXGRpc3RcXFxcaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCc1ZDg3ZTdlYScpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCc1ZDg3ZTdlYScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCc1ZDg3ZTdlYScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vYXBwLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD01ZDg3ZTdlYSZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCc1ZDg3ZTdlYScsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2FwcC9hcHAudnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9leHBsb3Jlci52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NDk5NzU4YWYmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vZXhwbG9yZXIudHM/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL2V4cGxvcmVyLnRzP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5pbXBvcnQgc3R5bGUwIGZyb20gXCIuL2V4cGxvcmVyLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9c2NzcyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiQzpcXFxcVXNlcnNcXFxcbXRjMTJcXFxcRG9jdW1lbnRzXFxcXFdvcmtcXFxcTWVcXFxcdGlueS1maWxlc1xcXFxub2RlX21vZHVsZXNcXFxcdnVlLWhvdC1yZWxvYWQtYXBpXFxcXGRpc3RcXFxcaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCc0OTk3NThhZicpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCc0OTk3NThhZicsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCc0OTk3NThhZicsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vZXhwbG9yZXIudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTQ5OTc1OGFmJlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJzQ5OTc1OGFmJywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvY29tcG9uZW50cy9leHBsb3Jlci9leHBsb3Jlci52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2xvYWRpbmcudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPWQ5NjBhZGVlJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2xvYWRpbmcudHM/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL2xvYWRpbmcudHM/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmltcG9ydCBzdHlsZTAgZnJvbSBcIi4vbG9hZGluZy52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPXNjc3MmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkge1xuICB2YXIgYXBpID0gcmVxdWlyZShcIkM6XFxcXFVzZXJzXFxcXG10YzEyXFxcXERvY3VtZW50c1xcXFxXb3JrXFxcXE1lXFxcXHRpbnktZmlsZXNcXFxcbm9kZV9tb2R1bGVzXFxcXHZ1ZS1ob3QtcmVsb2FkLWFwaVxcXFxkaXN0XFxcXGluZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnZDk2MGFkZWUnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnZDk2MGFkZWUnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnZDk2MGFkZWUnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL2xvYWRpbmcudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPWQ5NjBhZGVlJlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJ2Q5NjBhZGVlJywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvY29tcG9uZW50cy9sb2FkaW5nL2xvYWRpbmcudnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9ub3QtZm91bmQudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTY0ZjQ1ZjZkJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL25vdC1mb3VuZC50cz92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vbm90LWZvdW5kLnRzP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5pbXBvcnQgc3R5bGUwIGZyb20gXCIuL25vdC1mb3VuZC52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPXNjc3MmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkge1xuICB2YXIgYXBpID0gcmVxdWlyZShcIkM6XFxcXFVzZXJzXFxcXG10YzEyXFxcXERvY3VtZW50c1xcXFxXb3JrXFxcXE1lXFxcXHRpbnktZmlsZXNcXFxcbm9kZV9tb2R1bGVzXFxcXHZ1ZS1ob3QtcmVsb2FkLWFwaVxcXFxkaXN0XFxcXGluZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnNjRmNDVmNmQnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnNjRmNDVmNmQnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnNjRmNDVmNmQnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL25vdC1mb3VuZC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NjRmNDVmNmQmXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignNjRmNDVmNmQnLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNyYy9wYWdlcy9ub3QtZm91bmQvbm90LWZvdW5kLnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4vYXBwLnRzP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuL2FwcC50cz92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4vZXhwbG9yZXIudHM/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4vZXhwbG9yZXIudHM/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCIiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuL2xvYWRpbmcudHM/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4vbG9hZGluZy50cz92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdIS4vbm90LWZvdW5kLnRzP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuL25vdC1mb3VuZC50cz92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIiIsInZhciByZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXG4gICAgXCJkaXZcIixcbiAgICB7IGF0dHJzOiB7IGlkOiBcImFwcFwiIH0gfSxcbiAgICBbXG4gICAgICBfdm0ubG9nZ2VkSW5cbiAgICAgICAgPyBfYyhcbiAgICAgICAgICAgIFwiYi1kcm9wZG93blwiLFxuICAgICAgICAgICAgeyBhdHRyczogeyBpZDogXCJhY2NvdW50LWRyb3Bkb3duXCIsIHBvc2l0aW9uOiBcImlzLWJvdHRvbS1sZWZ0XCIgfSB9LFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICBcImJ1dHRvblwiLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImhhcy1iYWNrZ3JvdW5kLXByaW1hcnlcIixcbiAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IHNsb3Q6IFwidHJpZ2dlclwiLCBpZDogXCJtZW51LWZhYlwiIH0sXG4gICAgICAgICAgICAgICAgICBzbG90OiBcInRyaWdnZXJcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgW19jKFwiYi1pY29uXCIsIHsgYXR0cnM6IHsgaWNvbjogXCJhY2NvdW50XCIgfSB9KV0sXG4gICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICBcImItZHJvcGRvd24taXRlbVwiLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImhvdmVyLWluZm9cIixcbiAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLnNldHRpbmdzKClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgW192bS5fdihcInNldHRpbmdzXCIpXVxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICBcImItZHJvcGRvd24taXRlbVwiLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLmxvZ291dCgpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFtfdm0uX3YoXCJsb2dvdXRcIildXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgIFwiYi1kcm9wZG93bi1pdGVtXCIsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiaG92ZXItZGFuZ2VyXCIsXG4gICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5kZWxldGVTZWxmKClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgX2MoXCJiLWljb25cIiwge1xuICAgICAgICAgICAgICAgICAgICBhdHRyczogeyBpY29uOiBcImFsZXJ0LWNpcmNsZS1vdXRsaW5lXCIsIHNpemU6IFwiaXMtc21hbGxcIiB9XG4gICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgIF92bS5fdihcIsKgZGVsZXRlIHNlbGZcIilcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIDFcbiAgICAgICAgICApXG4gICAgICAgIDogX3ZtLl9lKCksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXCJyb3V0ZXItdmlld1wiKVxuICAgIF0sXG4gICAgMVxuICApXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcImRpdlwiLCB7IGF0dHJzOiB7IGlkOiBcInRpbnktZXhwbG9yZXJcIiB9IH0sIFtcbiAgICBfYyhcImRpdlwiLCB7IGF0dHJzOiB7IGlkOiBcImhlYWRlclwiIH0gfSwgW1xuICAgICAgX2MoXCJkaXZcIiwge1xuICAgICAgICBzdGF0aWNDbGFzczogXCJoYXMtYmFja2dyb3VuZC1wcmltYXJ5XCIsXG4gICAgICAgIHN0eWxlOiB7IHdpZHRoOiAoX3ZtLnByb2dyZXNzICogMTAwKS50b0ZpeGVkKDIpICsgXCIlXCIgfSxcbiAgICAgICAgYXR0cnM6IHsgaWQ6IFwicHJvZ3Jlc3NcIiB9XG4gICAgICB9KSxcbiAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICBfYyhcbiAgICAgICAgXCJkaXZcIixcbiAgICAgICAgeyBhdHRyczogeyBpZDogXCJwYXRoXCIgfSB9LFxuICAgICAgICBbXG4gICAgICAgICAgX2MoXG4gICAgICAgICAgICBcImJ1dHRvblwiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJidXR0b24gaXMtc21hbGwgaXMtZGFya1wiLFxuICAgICAgICAgICAgICBzdGF0aWNTdHlsZTogeyBcIm1hcmdpbi1yaWdodFwiOiBcIjAuNXJlbVwiIH0sXG4gICAgICAgICAgICAgIGF0dHJzOiB7IGRpc2FibGVkOiBfdm0uc3BsaXREaXIubGVuZ3RoIDw9IDEgfSxcbiAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLmdvdG8oX3ZtLnNwbGl0RGlyLmxlbmd0aCAtIDIpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICBfYyhcImItaWNvblwiLCB7XG4gICAgICAgICAgICAgICAgc3RhdGljU3R5bGU6IHsgY29sb3I6IFwiI0ZGRDU0RlwiIH0sXG4gICAgICAgICAgICAgICAgYXR0cnM6IHsgaWNvbjogXCJmb2xkZXItdXBsb2FkXCIgfVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIDFcbiAgICAgICAgICApLFxuICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgX3ZtLl9sKF92bS5zcGxpdERpciwgZnVuY3Rpb24oZCwgaSkge1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgXCJhXCIsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAga2V5OiBcImEtXCIgKyBpLFxuICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwidGFnXCIsXG4gICAgICAgICAgICAgICAgICBhdHRyczogeyB0aXRsZTogZCB9LFxuICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0uZ290byhpKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBbX2MoXCJzcGFuXCIsIFtfdm0uX3YoX3ZtLl9zKGQpKV0pXVxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICBpICsgMSA8IF92bS5zcGxpdERpci5sZW5ndGhcbiAgICAgICAgICAgICAgICA/IF9jKFxuICAgICAgICAgICAgICAgICAgICBcInNwYW5cIixcbiAgICAgICAgICAgICAgICAgICAgeyBrZXk6IFwicy1cIiArIGkgfSxcbiAgICAgICAgICAgICAgICAgICAgW19jKFwiYi1pY29uXCIsIHsgYXR0cnM6IHsgaWNvbjogXCJjaGV2cm9uLXJpZ2h0XCIgfSB9KV0sXG4gICAgICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICA6IF92bS5fZSgpXG4gICAgICAgICAgICBdXG4gICAgICAgICAgfSlcbiAgICAgICAgXSxcbiAgICAgICAgMlxuICAgICAgKSxcbiAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICBfYyhcImRpdlwiLCB7IGF0dHJzOiB7IGlkOiBcImJ1dHRvbnNcIiB9IH0sIFtcbiAgICAgICAgX2MoXCJkaXZcIiwge1xuICAgICAgICAgIGRpcmVjdGl2ZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgbmFtZTogXCJzaG93XCIsXG4gICAgICAgICAgICAgIHJhd05hbWU6IFwidi1zaG93XCIsXG4gICAgICAgICAgICAgIHZhbHVlOiBfdm0ud29ya2luZyxcbiAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJ3b3JraW5nXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdLFxuICAgICAgICAgIGF0dHJzOiB7IGlkOiBcInRpbnktbG9hZGluZy1zbWFsbFwiIH1cbiAgICAgICAgfSksXG4gICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgIF9jKFxuICAgICAgICAgIFwiYnV0dG9uXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiYnV0dG9uIGlzLXNtYWxsIGlzLWRhcmtcIixcbiAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgIGRpc2FibGVkOiAhX3ZtLmFueUFjdGl2ZSB8fCBfdm0ud29ya2luZyxcbiAgICAgICAgICAgICAgdGl0bGU6IFwiRG93bmxvYWRcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLmRvd25sb2FkU2VsZWN0ZWQoKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBbX2MoXCJiLWljb25cIiwgeyBhdHRyczogeyBpY29uOiBcImRvd25sb2FkXCIgfSB9KV0sXG4gICAgICAgICAgMVxuICAgICAgICApXG4gICAgICBdKVxuICAgIF0pLFxuICAgIF92bS5fdihcIiBcIiksXG4gICAgX2MoXG4gICAgICBcImRpdlwiLFxuICAgICAgeyBzdGF0aWNDbGFzczogXCJleHAtZ3JpZFwiLCBhdHRyczogeyBpZDogXCJleHBsb3Jlci1oZWFkZXJcIiB9IH0sXG4gICAgICBbXG4gICAgICAgICFfdm0udmlld09ubHlcbiAgICAgICAgICA/IF9jKFxuICAgICAgICAgICAgICBcImJ1dHRvblwiLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiYnV0dG9uIGlzLXNtYWxsIGlzLWRhcmtcIixcbiAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLm5ld0ZvbGRlcigpXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgX2MoXCJiLWljb25cIiwge1xuICAgICAgICAgICAgICAgICAgc3RhdGljU3R5bGU6IHsgY29sb3I6IFwiI0ZGRDU0RlwiIH0sXG4gICAgICAgICAgICAgICAgICBhdHRyczogeyBpY29uOiBcImZvbGRlci1wbHVzXCIgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgIDFcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IF92bS5fZSgpLFxuICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICBfYyhcbiAgICAgICAgICBcImJ1dHRvblwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImJ1dHRvbiBpcy1kYXJrXCIsXG4gICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF92bS5zb3J0KFwibmFtZVwiKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBbXG4gICAgICAgICAgICBfYyhcInNwYW5cIiwgW192bS5fdihcIk5hbWVcIildKSxcbiAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICBfYyhcImItaWNvblwiLCB7XG4gICAgICAgICAgICAgIGRpcmVjdGl2ZXM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBuYW1lOiBcInNob3dcIixcbiAgICAgICAgICAgICAgICAgIHJhd05hbWU6IFwidi1zaG93XCIsXG4gICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLnNvcnRCeU5hbWUgPT09IFwibmFtZVwiLFxuICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogJ3NvcnRCeU5hbWUgPT09IFwibmFtZVwiJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgYXR0cnM6IHsgaWNvbjogX3ZtLnNvcnRCeURpciA/IFwiY2hldnJvbi11cFwiIDogXCJjaGV2cm9uLWRvd25cIiB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIF0sXG4gICAgICAgICAgMVxuICAgICAgICApLFxuICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICBfYyhcbiAgICAgICAgICBcImJ1dHRvblwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImJ1dHRvbiBpcy1kYXJrXCIsXG4gICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF92bS5zb3J0KFwic2l6ZVwiKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBbXG4gICAgICAgICAgICBfYyhcInNwYW5cIiwgW192bS5fdihcIlNpemVcIildKSxcbiAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICBfYyhcImItaWNvblwiLCB7XG4gICAgICAgICAgICAgIGRpcmVjdGl2ZXM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBuYW1lOiBcInNob3dcIixcbiAgICAgICAgICAgICAgICAgIHJhd05hbWU6IFwidi1zaG93XCIsXG4gICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLnNvcnRCeU5hbWUgPT09IFwic2l6ZVwiLFxuICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogJ3NvcnRCeU5hbWUgPT09IFwic2l6ZVwiJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgYXR0cnM6IHsgaWNvbjogX3ZtLnNvcnRCeURpciA/IFwiY2hldnJvbi11cFwiIDogXCJjaGV2cm9uLWRvd25cIiB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIF0sXG4gICAgICAgICAgMVxuICAgICAgICApLFxuICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICBfYyhcbiAgICAgICAgICBcImJ1dHRvblwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImJ1dHRvbiBpcy1kYXJrXCIsXG4gICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF92bS5zb3J0KFwibW9kXCIpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIFtcbiAgICAgICAgICAgIF9jKFwic3BhblwiLCBbX3ZtLl92KFwiTGFzdCBNb2RpZmllZFwiKV0pLFxuICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgIF9jKFwiYi1pY29uXCIsIHtcbiAgICAgICAgICAgICAgZGlyZWN0aXZlczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIG5hbWU6IFwic2hvd1wiLFxuICAgICAgICAgICAgICAgICAgcmF3TmFtZTogXCJ2LXNob3dcIixcbiAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uc29ydEJ5TmFtZSA9PT0gXCJtb2RcIixcbiAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246ICdzb3J0QnlOYW1lID09PSBcIm1vZFwiJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgYXR0cnM6IHsgaWNvbjogX3ZtLnNvcnRCeURpciA/IFwiY2hldnJvbi11cFwiIDogXCJjaGV2cm9uLWRvd25cIiB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIF0sXG4gICAgICAgICAgMVxuICAgICAgICApLFxuICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICBfYyhcbiAgICAgICAgICBcImItZHJvcGRvd25cIixcbiAgICAgICAgICB7IGF0dHJzOiB7IFwiYXJpYS1yb2xlXCI6IFwibGlzdFwiLCBwb3NpdGlvbjogXCJpcy1ib3R0b20tbGVmdFwiIH0gfSxcbiAgICAgICAgICBbXG4gICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgXCJidXR0b25cIixcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImRvdC1idXR0b24gaG92ZXItcHJpbWFyeVwiLFxuICAgICAgICAgICAgICAgIGF0dHJzOiB7IHNsb3Q6IFwidHJpZ2dlclwiIH0sXG4gICAgICAgICAgICAgICAgc2xvdDogXCJ0cmlnZ2VyXCJcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgW19jKFwiYi1pY29uXCIsIHsgYXR0cnM6IHsgaWNvbjogXCJkb3RzLWhvcml6b250YWxcIiB9IH0pXSxcbiAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgXCJiLWRyb3Bkb3duLWl0ZW1cIixcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF0dHJzOiB7IFwiYXJpYS1yb2xlXCI6IFwibGlzdC1pdGVtXCIgfSxcbiAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLmRvd25sb2FkRGlyKF92bS5kaXIpXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBbX3ZtLl92KFwiRG93bmxvYWRcIildXG4gICAgICAgICAgICApXG4gICAgICAgICAgXSxcbiAgICAgICAgICAxXG4gICAgICAgIClcbiAgICAgIF0sXG4gICAgICAxXG4gICAgKSxcbiAgICBfdm0uX3YoXCIgXCIpLFxuICAgIF9jKFxuICAgICAgXCJkaXZcIixcbiAgICAgIHsgcmVmOiBcImV4cGxvcmVyXCIsIGF0dHJzOiB7IGlkOiBcImV4cGxvcmVyXCIgfSB9LFxuICAgICAgW1xuICAgICAgICBfYyhcbiAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGF0dHJzOiB7IGlkOiBcImJhY2tncm91bmRcIiB9LFxuICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgbW91c2Vkb3duOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLmRyYXdTdGFydCgkZXZlbnQpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIFtcbiAgICAgICAgICAgICFfdm0uaW5kZXggfHxcbiAgICAgICAgICAgICFfdm0uaW5kZXhbX3ZtLmRpcl0gfHxcbiAgICAgICAgICAgIChfdm0uaW5kZXhbX3ZtLmRpcl0uZm9sZGVycy5sZW5ndGggPT09IDAgJiZcbiAgICAgICAgICAgICAgX3ZtLmluZGV4W192bS5kaXJdLmZpbGVzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgPyBfYyhcImg1XCIsIHsgc3RhdGljQ2xhc3M6IFwic3VidGl0bGUgaXMtNVwiIH0sIFtcbiAgICAgICAgICAgICAgICAgIF92bS5fdihcIlxcclxcbiAgICAgICAgTm90aGluZyBoZXJlLi4uXFxyXFxuICAgICAgXCIpXG4gICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgOiBfdm0uX2UoKVxuICAgICAgICAgIF1cbiAgICAgICAgKSxcbiAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgX3ZtLmluZGV4ICYmIF92bS5pbmRleFtfdm0uZGlyXVxuICAgICAgICAgID8gW1xuICAgICAgICAgICAgICBfdm0uX2woX3ZtLnNvcnRlZEZvbGRlcnMsIGZ1bmN0aW9uKGZvbGRlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBfYyhcInJvdXRlci1saW5rXCIsIHtcbiAgICAgICAgICAgICAgICAgIGtleTogXCIvXCIgKyBmb2xkZXIubmFtZSxcbiAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IHRvOiBfdm0uZ2V0UGF0aChmb2xkZXIubmFtZSksIGN1c3RvbTogXCJcIiB9LFxuICAgICAgICAgICAgICAgICAgc2NvcGVkU2xvdHM6IF92bS5fdShcbiAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleTogXCJkZWZhdWx0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmbjogZnVuY3Rpb24ocmVmKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBocmVmID0gcmVmLmhyZWZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJmb2xkZXIgZXhwLWdyaWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmU6IF92bS5hY3RpdmVbXCIvXCIgKyBmb2xkZXIubmFtZV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJsYXN0LWFjdGl2ZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLmxhc3RBY3RpdmUgPT09IFwiL1wiICsgZm9sZGVyLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgaWQ6IFwibS0vXCIgKyBmb2xkZXIubmFtZSwgaHJlZjogaHJlZiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0uY2xpY2tJdGVtKCRldmVudCwgZm9sZGVyLCB0cnVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoXCJiLWljb25cIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY1N0eWxlOiB7IGNvbG9yOiBcIiNGRkQ1NEZcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBcImZvbGRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGZvbGRlci5pdGVtQ291bnQgKyBcIiBpdGVtc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0YXRpY1N0eWxlOiB7IFwicGFkZGluZy1sZWZ0XCI6IFwiMWVtXCIgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtfYyhcInNwYW5cIiwgW192bS5fdihfdm0uX3MoZm9sZGVyLm5hbWUpKV0pXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcInNwYW5cIiwgW192bS5fdihfdm0uX3MoZm9sZGVyLnNpemUpKV0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcInNwYW5cIiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihfdm0uX3MoZm9sZGVyLmxhc3RNb2RpZmllZCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImItZHJvcGRvd25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImFyaWEtcm9sZVwiOiBcImxpc3RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwiaXMtYm90dG9tLWxlZnRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJkb3QtYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgc2xvdDogXCJ0cmlnZ2VyXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbG90OiBcInRyaWdnZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoXCJiLWljb25cIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgaWNvbjogXCJkb3RzLWhvcml6b250YWxcIiB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJiLWRyb3Bkb3duLWl0ZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IFwiYXJpYS1yb2xlXCI6IFwibGlzdC1pdGVtXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLmRvd25sb2FkRGlyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5kaXIgKyBmb2xkZXIubmFtZSArIFwiL1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtfdm0uX3YoXCJEb3dubG9hZFwiKV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIV92bS52aWV3T25seVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImItZHJvcGRvd24taXRlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYXJpYS1yb2xlXCI6IFwibGlzdC1pdGVtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0uJGVtaXQoXCJkZWxldGVcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZm9sZGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogZm9sZGVyLnBhdGhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtfdm0uX3YoXCJEZWxldGVcIildXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IF92bS5fZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgIF92bS5fbChfdm0uc29ydGVkRmlsZXMsIGZ1bmN0aW9uKGZpbGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2MoXG4gICAgICAgICAgICAgICAgICBcImFcIixcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiBmaWxlLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImZpbGUgZXhwLWdyaWRcIixcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICBhY3RpdmU6IF92bS5hY3RpdmVbZmlsZS5uYW1lXSxcbiAgICAgICAgICAgICAgICAgICAgICBcImxhc3QtYWN0aXZlXCI6IF92bS5sYXN0QWN0aXZlID09PSBmaWxlLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICBpZDogXCJtLVwiICsgZmlsZS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgIGhyZWY6IF92bS5nZXRMaW5rKGZpbGUucGF0aClcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLmNsaWNrSXRlbSgkZXZlbnQsIGZpbGUpXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICBfYyhcImItaWNvblwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsgY29sb3I6IGZpbGUuZmlsZUljb25Db2xvciB9LFxuICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IGljb246IGZpbGUuZmlsZUljb24sIHRpdGxlOiBmaWxlLmNvbnRlbnRUeXBlIH1cbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljU3R5bGU6IHsgXCJwYWRkaW5nLWxlZnRcIjogXCIxZW1cIiB9IH0sIFtcbiAgICAgICAgICAgICAgICAgICAgICBfYyhcInNwYW5cIiwgW192bS5fdihfdm0uX3MoZmlsZS5uYW1lKSldKVxuICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgX2MoXCJzcGFuXCIsIFtfdm0uX3YoX3ZtLl9zKGZpbGUuc2l6ZSkpXSksXG4gICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgIF9jKFwic3BhblwiLCBbX3ZtLl92KF92bS5fcyhmaWxlLmxhc3RNb2RpZmllZCkpXSksXG4gICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICAgIFwiYi1kcm9wZG93blwiLFxuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwiYXJpYS1yb2xlXCI6IFwibGlzdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJpcy1ib3R0b20tbGVmdFwiXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJidXR0b25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImRvdC1idXR0b25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczogeyBzbG90OiBcInRyaWdnZXJcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsb3Q6IFwidHJpZ2dlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcImItaWNvblwiLCB7IGF0dHJzOiB7IGljb246IFwiZG90cy1ob3Jpem9udGFsXCIgfSB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcImItZHJvcGRvd24taXRlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgXCJhcmlhLXJvbGVcIjogXCJsaXN0LWl0ZW1cIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0ub3BlbkZpbGUoZmlsZS5wYXRoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgW192bS5fdihcIk9wZW5cIildXG4gICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICFfdm0udmlld09ubHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJiLWRyb3Bkb3duLWl0ZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IFwiYXJpYS1yb2xlXCI6IFwibGlzdC1pdGVtXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLiRlbWl0KFwiZGVsZXRlXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImZpbGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBmaWxlLnBhdGhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtfdm0uX3YoXCJEZWxldGVcIildXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IF92bS5fZSgpXG4gICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAyXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgXVxuICAgICAgICAgIDogX3ZtLl9lKCksXG4gICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgIF9jKFwiZGl2XCIsIHtcbiAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG5hbWU6IFwic2hvd1wiLFxuICAgICAgICAgICAgICByYXdOYW1lOiBcInYtc2hvd1wiLFxuICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmRyYXdpbmcsXG4gICAgICAgICAgICAgIGV4cHJlc3Npb246IFwiZHJhd2luZ1wiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXSxcbiAgICAgICAgICBzdHlsZTogX3ZtLmRyYXdQb3MsXG4gICAgICAgICAgYXR0cnM6IHsgaWQ6IFwic2VsZWN0Ym94XCIgfVxuICAgICAgICB9KVxuICAgICAgXSxcbiAgICAgIDJcbiAgICApXG4gIF0pXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcImRpdlwiLCB7IGF0dHJzOiB7IGlkOiBcInRpbnktbG9hZGluZ1wiIH0gfSlcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF9jKFxuICAgIFwiZGl2XCIsXG4gICAgeyBzdGF0aWNDbGFzczogXCJjb250ZW50XCIsIGF0dHJzOiB7IGlkOiBcInRpbnktbm90LWZvdW5kXCIgfSB9LFxuICAgIFtcbiAgICAgIF9jKFwiaDFcIiwgW192bS5fdihcIjQwNCBOb3QgRm91bmRcIildKSxcbiAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICBfYyhcbiAgICAgICAgXCJwXCIsXG4gICAgICAgIFtcbiAgICAgICAgICBfdm0uX3YoXCJDb3VsZG4ndCBmaW5kIHRoZSBwYWdlIHlvdSB3ZXJlIGxvb2tpbmcgZm9yLiBUcnkgZ29pbmcgXCIpLFxuICAgICAgICAgIF9jKFwicm91dGVyLWxpbmtcIiwgeyBhdHRyczogeyB0bzogXCIvXCIgfSB9LCBbX3ZtLl92KFwiSG9tZVwiKV0pLFxuICAgICAgICAgIF92bS5fdihcIj9cIilcbiAgICAgICAgXSxcbiAgICAgICAgMVxuICAgICAgKVxuICAgIF1cbiAgKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdGlmKF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0pIHtcblx0XHRyZXR1cm4gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdGlkOiBtb2R1bGVJZCxcblx0XHRsb2FkZWQ6IGZhbHNlLFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcblx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4vLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5tID0gX193ZWJwYWNrX21vZHVsZXNfXztcblxuLy8gdGhlIHN0YXJ0dXAgZnVuY3Rpb25cbi8vIEl0J3MgZW1wdHkgYXMgc29tZSBydW50aW1lIG1vZHVsZSBoYW5kbGVzIHRoZSBkZWZhdWx0IGJlaGF2aW9yXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnggPSB4ID0+IHt9O1xuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmYgPSB7fTtcbi8vIFRoaXMgZmlsZSBjb250YWlucyBvbmx5IHRoZSBlbnRyeSBjaHVuay5cbi8vIFRoZSBjaHVuayBsb2FkaW5nIGZ1bmN0aW9uIGZvciBhZGRpdGlvbmFsIGNodW5rc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5lID0gKGNodW5rSWQpID0+IHtcblx0cmV0dXJuIFByb21pc2UuYWxsKE9iamVjdC5rZXlzKF9fd2VicGFja19yZXF1aXJlX18uZikucmVkdWNlKChwcm9taXNlcywga2V5KSA9PiB7XG5cdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5mW2tleV0oY2h1bmtJZCwgcHJvbWlzZXMpO1xuXHRcdHJldHVybiBwcm9taXNlcztcblx0fSwgW10pKTtcbn07IiwiLy8gVGhpcyBmdW5jdGlvbiBhbGxvdyB0byByZWZlcmVuY2UgYXN5bmMgY2h1bmtzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnUgPSAoY2h1bmtJZCkgPT4ge1xuXHQvLyByZXR1cm4gdXJsIGZvciBmaWxlbmFtZXMgYmFzZWQgb24gdGVtcGxhdGVcblx0cmV0dXJuIFwiXCIgKyBjaHVua0lkICsgXCIuXCIgKyB7XCJ2ZW5kb3JzLW5vZGVfbW9kdWxlc19tZGlfZm9udF9jc3NfbWF0ZXJpYWxkZXNpZ25pY29uc19jc3NcIjpcImY2NjNlYmYwYTY2NzM0NzdlMWE5XCIsXCJub2RlX21vZHVsZXNfbWRpX2ZvbnRfY3NzX21hdGVyaWFsZGVzaWduaWNvbnNfY3NzXCI6XCI5YWY5Mzg2MGIwYWQwYmNjNGY0ZVwiLFwic3JjX3BhZ2VzX2hvbWVfaG9tZV92dWVcIjpcIjc3MGUyYWQ1MDZhZTJmMGU5MGUyXCIsXCJzcmNfcGFnZXNfYnJvd3NlX2Jyb3dzZV92dWVcIjpcIjNhZTQ2ZDZhYjkwMjg3ZmRmYTI0XCIsXCJzcmNfcGFnZXNfc2V0dGluZ3Nfc2V0dGluZ3NfdnVlXCI6XCIzODNlOWFiYmQ1ODAxZTQxODA5MVwiLFwic3JjX3BhZ2VzX2xvZ2luX2xvZ2luX3Z1ZVwiOlwiNzRkMGFjMTI5MTgzMGRiNWNmODlcIn1bY2h1bmtJZF0gKyBcIi5qc1wiO1xufTsiLCIvLyBUaGlzIGZ1bmN0aW9uIGFsbG93IHRvIHJlZmVyZW5jZSBhbGwgY2h1bmtzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm1pbmlDc3NGID0gKGNodW5rSWQpID0+IHtcblx0Ly8gcmV0dXJuIHVybCBmb3IgZmlsZW5hbWVzIGJhc2VkIG9uIHRlbXBsYXRlXG5cdHJldHVybiBcIlwiICsgY2h1bmtJZCArIFwiLmNzc1wiO1xufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJ2YXIgaW5Qcm9ncmVzcyA9IHt9O1xudmFyIGRhdGFXZWJwYWNrUHJlZml4ID0gXCJ0aW55LWZpbGVzOlwiO1xuLy8gbG9hZFNjcmlwdCBmdW5jdGlvbiB0byBsb2FkIGEgc2NyaXB0IHZpYSBzY3JpcHQgdGFnXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmwgPSAodXJsLCBkb25lLCBrZXksIGNodW5rSWQpID0+IHtcblx0aWYoaW5Qcm9ncmVzc1t1cmxdKSB7IGluUHJvZ3Jlc3NbdXJsXS5wdXNoKGRvbmUpOyByZXR1cm47IH1cblx0dmFyIHNjcmlwdCwgbmVlZEF0dGFjaDtcblx0aWYoa2V5ICE9PSB1bmRlZmluZWQpIHtcblx0XHR2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBzY3JpcHRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgcyA9IHNjcmlwdHNbaV07XG5cdFx0XHRpZihzLmdldEF0dHJpYnV0ZShcInNyY1wiKSA9PSB1cmwgfHwgcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLXdlYnBhY2tcIikgPT0gZGF0YVdlYnBhY2tQcmVmaXggKyBrZXkpIHsgc2NyaXB0ID0gczsgYnJlYWs7IH1cblx0XHR9XG5cdH1cblx0aWYoIXNjcmlwdCkge1xuXHRcdG5lZWRBdHRhY2ggPSB0cnVlO1xuXHRcdHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuXG5cdFx0c2NyaXB0LmNoYXJzZXQgPSAndXRmLTgnO1xuXHRcdHNjcmlwdC50aW1lb3V0ID0gMTIwO1xuXHRcdGlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLm5jKSB7XG5cdFx0XHRzY3JpcHQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgX193ZWJwYWNrX3JlcXVpcmVfXy5uYyk7XG5cdFx0fVxuXHRcdHNjcmlwdC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXdlYnBhY2tcIiwgZGF0YVdlYnBhY2tQcmVmaXggKyBrZXkpO1xuXHRcdHNjcmlwdC5zcmMgPSB1cmw7XG5cdH1cblx0aW5Qcm9ncmVzc1t1cmxdID0gW2RvbmVdO1xuXHR2YXIgb25TY3JpcHRDb21wbGV0ZSA9IChwcmV2LCBldmVudCkgPT4ge1xuXHRcdC8vIGF2b2lkIG1lbSBsZWFrcyBpbiBJRS5cblx0XHRzY3JpcHQub25lcnJvciA9IHNjcmlwdC5vbmxvYWQgPSBudWxsO1xuXHRcdGNsZWFyVGltZW91dCh0aW1lb3V0KTtcblx0XHR2YXIgZG9uZUZucyA9IGluUHJvZ3Jlc3NbdXJsXTtcblx0XHRkZWxldGUgaW5Qcm9ncmVzc1t1cmxdO1xuXHRcdHNjcmlwdC5wYXJlbnROb2RlICYmIHNjcmlwdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNjcmlwdCk7XG5cdFx0ZG9uZUZucyAmJiBkb25lRm5zLmZvckVhY2goKGZuKSA9PiAoZm4oZXZlbnQpKSk7XG5cdFx0aWYocHJldikgcmV0dXJuIHByZXYoZXZlbnQpO1xuXHR9XG5cdDtcblx0dmFyIHRpbWVvdXQgPSBzZXRUaW1lb3V0KG9uU2NyaXB0Q29tcGxldGUuYmluZChudWxsLCB1bmRlZmluZWQsIHsgdHlwZTogJ3RpbWVvdXQnLCB0YXJnZXQ6IHNjcmlwdCB9KSwgMTIwMDAwKTtcblx0c2NyaXB0Lm9uZXJyb3IgPSBvblNjcmlwdENvbXBsZXRlLmJpbmQobnVsbCwgc2NyaXB0Lm9uZXJyb3IpO1xuXHRzY3JpcHQub25sb2FkID0gb25TY3JpcHRDb21wbGV0ZS5iaW5kKG51bGwsIHNjcmlwdC5vbmxvYWQpO1xuXHRuZWVkQXR0YWNoICYmIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbn07IiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5ubWQgPSAobW9kdWxlKSA9PiB7XG5cdG1vZHVsZS5wYXRocyA9IFtdO1xuXHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XG5cdHJldHVybiBtb2R1bGU7XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7IiwidmFyIGNyZWF0ZVN0eWxlc2hlZXQgPSAoY2h1bmtJZCwgZnVsbGhyZWYsIHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHR2YXIgbGlua1RhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuXG5cdGxpbmtUYWcucmVsID0gXCJzdHlsZXNoZWV0XCI7XG5cdGxpbmtUYWcudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0dmFyIG9uTGlua0NvbXBsZXRlID0gKGV2ZW50KSA9PiB7XG5cdFx0Ly8gYXZvaWQgbWVtIGxlYWtzLlxuXHRcdGxpbmtUYWcub25lcnJvciA9IGxpbmtUYWcub25sb2FkID0gbnVsbDtcblx0XHRpZiAoZXZlbnQudHlwZSA9PT0gJ2xvYWQnKSB7XG5cdFx0XHRyZXNvbHZlKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBlcnJvclR5cGUgPSBldmVudCAmJiAoZXZlbnQudHlwZSA9PT0gJ2xvYWQnID8gJ21pc3NpbmcnIDogZXZlbnQudHlwZSk7XG5cdFx0XHR2YXIgcmVhbEhyZWYgPSBldmVudCAmJiBldmVudC50YXJnZXQgJiYgZXZlbnQudGFyZ2V0LmhyZWYgfHwgZnVsbGhyZWY7XG5cdFx0XHR2YXIgZXJyID0gbmV3IEVycm9yKFwiTG9hZGluZyBDU1MgY2h1bmsgXCIgKyBjaHVua0lkICsgXCIgZmFpbGVkLlxcbihcIiArIHJlYWxIcmVmICsgXCIpXCIpO1xuXHRcdFx0ZXJyLmNvZGUgPSBcIkNTU19DSFVOS19MT0FEX0ZBSUxFRFwiO1xuXHRcdFx0ZXJyLnR5cGUgPSBlcnJvclR5cGU7XG5cdFx0XHRlcnIucmVxdWVzdCA9IHJlYWxIcmVmO1xuXHRcdFx0bGlua1RhZy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGxpbmtUYWcpXG5cdFx0XHRyZWplY3QoZXJyKTtcblx0XHR9XG5cdH1cblx0bGlua1RhZy5vbmVycm9yID0gbGlua1RhZy5vbmxvYWQgPSBvbkxpbmtDb21wbGV0ZTtcblx0bGlua1RhZy5ocmVmID0gZnVsbGhyZWY7XG5cblx0ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChsaW5rVGFnKTtcblx0cmV0dXJuIGxpbmtUYWc7XG59O1xudmFyIGZpbmRTdHlsZXNoZWV0ID0gKGhyZWYsIGZ1bGxocmVmKSA9PiB7XG5cdHZhciBleGlzdGluZ0xpbmtUYWdzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJsaW5rXCIpO1xuXHRmb3IodmFyIGkgPSAwOyBpIDwgZXhpc3RpbmdMaW5rVGFncy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciB0YWcgPSBleGlzdGluZ0xpbmtUYWdzW2ldO1xuXHRcdHZhciBkYXRhSHJlZiA9IHRhZy5nZXRBdHRyaWJ1dGUoXCJkYXRhLWhyZWZcIikgfHwgdGFnLmdldEF0dHJpYnV0ZShcImhyZWZcIik7XG5cdFx0aWYodGFnLnJlbCA9PT0gXCJzdHlsZXNoZWV0XCIgJiYgKGRhdGFIcmVmID09PSBocmVmIHx8IGRhdGFIcmVmID09PSBmdWxsaHJlZikpIHJldHVybiB0YWc7XG5cdH1cblx0dmFyIGV4aXN0aW5nU3R5bGVUYWdzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzdHlsZVwiKTtcblx0Zm9yKHZhciBpID0gMDsgaSA8IGV4aXN0aW5nU3R5bGVUYWdzLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIHRhZyA9IGV4aXN0aW5nU3R5bGVUYWdzW2ldO1xuXHRcdHZhciBkYXRhSHJlZiA9IHRhZy5nZXRBdHRyaWJ1dGUoXCJkYXRhLWhyZWZcIik7XG5cdFx0aWYoZGF0YUhyZWYgPT09IGhyZWYgfHwgZGF0YUhyZWYgPT09IGZ1bGxocmVmKSByZXR1cm4gdGFnO1xuXHR9XG59O1xudmFyIGxvYWRTdHlsZXNoZWV0ID0gKGNodW5rSWQpID0+IHtcblx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHR2YXIgaHJlZiA9IF9fd2VicGFja19yZXF1aXJlX18ubWluaUNzc0YoY2h1bmtJZCk7XG5cdFx0dmFyIGZ1bGxocmVmID0gX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgaHJlZjtcblx0XHRpZihmaW5kU3R5bGVzaGVldChocmVmLCBmdWxsaHJlZikpIHJldHVybiByZXNvbHZlKCk7XG5cdFx0Y3JlYXRlU3R5bGVzaGVldChjaHVua0lkLCBmdWxsaHJlZiwgcmVzb2x2ZSwgcmVqZWN0KTtcblx0fSk7XG59XG4vLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIENTUyBjaHVua3NcbnZhciBpbnN0YWxsZWRDc3NDaHVua3MgPSB7XG5cdFwidGlueS1maWxlc1wiOiAwXG59O1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmYubWluaUNzcyA9IChjaHVua0lkLCBwcm9taXNlcykgPT4ge1xuXHR2YXIgY3NzQ2h1bmtzID0ge1widmVuZG9ycy1ub2RlX21vZHVsZXNfbWRpX2ZvbnRfY3NzX21hdGVyaWFsZGVzaWduaWNvbnNfY3NzXCI6MSxcInNyY19wYWdlc19ob21lX2hvbWVfdnVlXCI6MSxcInNyY19wYWdlc19icm93c2VfYnJvd3NlX3Z1ZVwiOjEsXCJzcmNfcGFnZXNfc2V0dGluZ3Nfc2V0dGluZ3NfdnVlXCI6MSxcInNyY19wYWdlc19sb2dpbl9sb2dpbl92dWVcIjoxfTtcblx0aWYoaW5zdGFsbGVkQ3NzQ2h1bmtzW2NodW5rSWRdKSBwcm9taXNlcy5wdXNoKGluc3RhbGxlZENzc0NodW5rc1tjaHVua0lkXSk7XG5cdGVsc2UgaWYoaW5zdGFsbGVkQ3NzQ2h1bmtzW2NodW5rSWRdICE9PSAwICYmIGNzc0NodW5rc1tjaHVua0lkXSkge1xuXHRcdHByb21pc2VzLnB1c2goaW5zdGFsbGVkQ3NzQ2h1bmtzW2NodW5rSWRdID0gbG9hZFN0eWxlc2hlZXQoY2h1bmtJZCkudGhlbigoKSA9PiB7XG5cdFx0XHRpbnN0YWxsZWRDc3NDaHVua3NbY2h1bmtJZF0gPSAwO1xuXHRcdH0sIChlKSA9PiB7XG5cdFx0XHRkZWxldGUgaW5zdGFsbGVkQ3NzQ2h1bmtzW2NodW5rSWRdO1xuXHRcdFx0dGhyb3cgZTtcblx0XHR9KSk7XG5cdH1cbn07XG5cbi8vIG5vIGhtciIsIi8vIG5vIGJhc2VVUklcblxuLy8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3Ncbi8vIHVuZGVmaW5lZCA9IGNodW5rIG5vdCBsb2FkZWQsIG51bGwgPSBjaHVuayBwcmVsb2FkZWQvcHJlZmV0Y2hlZFxuLy8gUHJvbWlzZSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbnZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG5cdFwidGlueS1maWxlc1wiOiAwXG59O1xuXG52YXIgZGVmZXJyZWRNb2R1bGVzID0gW1xuXHRbXCIuL3NyYy9tYWluLnRzXCIsXCJ2ZW5kb3JzLW5vZGVfbW9kdWxlc19heGlvc19pbmRleF9qcy1ub2RlX21vZHVsZXNfYnVlZnlfZGlzdF9lc21fYnV0dG9uX2pzLW5vZGVfbW9kdWxlc19idWVmeV8tM2U5ODRiXCJdXG5dO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5mLmogPSAoY2h1bmtJZCwgcHJvbWlzZXMpID0+IHtcblx0XHQvLyBKU09OUCBjaHVuayBsb2FkaW5nIGZvciBqYXZhc2NyaXB0XG5cdFx0dmFyIGluc3RhbGxlZENodW5rRGF0YSA9IF9fd2VicGFja19yZXF1aXJlX18ubyhpbnN0YWxsZWRDaHVua3MsIGNodW5rSWQpID8gaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdIDogdW5kZWZpbmVkO1xuXHRcdGlmKGluc3RhbGxlZENodW5rRGF0YSAhPT0gMCkgeyAvLyAwIG1lYW5zIFwiYWxyZWFkeSBpbnN0YWxsZWRcIi5cblxuXHRcdFx0Ly8gYSBQcm9taXNlIG1lYW5zIFwiY3VycmVudGx5IGxvYWRpbmdcIi5cblx0XHRcdGlmKGluc3RhbGxlZENodW5rRGF0YSkge1xuXHRcdFx0XHRwcm9taXNlcy5wdXNoKGluc3RhbGxlZENodW5rRGF0YVsyXSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZihcInZlbmRvcnMtbm9kZV9tb2R1bGVzX21kaV9mb250X2Nzc19tYXRlcmlhbGRlc2lnbmljb25zX2Nzc1wiICE9IGNodW5rSWQpIHtcblx0XHRcdFx0XHQvLyBzZXR1cCBQcm9taXNlIGluIGNodW5rIGNhY2hlXG5cdFx0XHRcdFx0dmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRcdFx0XHRpbnN0YWxsZWRDaHVua0RhdGEgPSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSBbcmVzb2x2ZSwgcmVqZWN0XTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRwcm9taXNlcy5wdXNoKGluc3RhbGxlZENodW5rRGF0YVsyXSA9IHByb21pc2UpO1xuXG5cdFx0XHRcdFx0Ly8gc3RhcnQgY2h1bmsgbG9hZGluZ1xuXHRcdFx0XHRcdHZhciB1cmwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBfX3dlYnBhY2tfcmVxdWlyZV9fLnUoY2h1bmtJZCk7XG5cdFx0XHRcdFx0Ly8gY3JlYXRlIGVycm9yIGJlZm9yZSBzdGFjayB1bndvdW5kIHRvIGdldCB1c2VmdWwgc3RhY2t0cmFjZSBsYXRlclxuXHRcdFx0XHRcdHZhciBlcnJvciA9IG5ldyBFcnJvcigpO1xuXHRcdFx0XHRcdHZhciBsb2FkaW5nRW5kZWQgPSAoZXZlbnQpID0+IHtcblx0XHRcdFx0XHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhpbnN0YWxsZWRDaHVua3MsIGNodW5rSWQpKSB7XG5cdFx0XHRcdFx0XHRcdGluc3RhbGxlZENodW5rRGF0YSA9IGluc3RhbGxlZENodW5rc1tjaHVua0lkXTtcblx0XHRcdFx0XHRcdFx0aWYoaW5zdGFsbGVkQ2h1bmtEYXRhICE9PSAwKSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XHRcdGlmKGluc3RhbGxlZENodW5rRGF0YSkge1xuXHRcdFx0XHRcdFx0XHRcdHZhciBlcnJvclR5cGUgPSBldmVudCAmJiAoZXZlbnQudHlwZSA9PT0gJ2xvYWQnID8gJ21pc3NpbmcnIDogZXZlbnQudHlwZSk7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHJlYWxTcmMgPSBldmVudCAmJiBldmVudC50YXJnZXQgJiYgZXZlbnQudGFyZ2V0LnNyYztcblx0XHRcdFx0XHRcdFx0XHRlcnJvci5tZXNzYWdlID0gJ0xvYWRpbmcgY2h1bmsgJyArIGNodW5rSWQgKyAnIGZhaWxlZC5cXG4oJyArIGVycm9yVHlwZSArICc6ICcgKyByZWFsU3JjICsgJyknO1xuXHRcdFx0XHRcdFx0XHRcdGVycm9yLm5hbWUgPSAnQ2h1bmtMb2FkRXJyb3InO1xuXHRcdFx0XHRcdFx0XHRcdGVycm9yLnR5cGUgPSBlcnJvclR5cGU7XG5cdFx0XHRcdFx0XHRcdFx0ZXJyb3IucmVxdWVzdCA9IHJlYWxTcmM7XG5cdFx0XHRcdFx0XHRcdFx0aW5zdGFsbGVkQ2h1bmtEYXRhWzFdKGVycm9yKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5sKHVybCwgbG9hZGluZ0VuZGVkLCBcImNodW5rLVwiICsgY2h1bmtJZCwgY2h1bmtJZCk7XG5cdFx0XHRcdH0gZWxzZSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSAwO1xuXHRcdFx0fVxuXHRcdH1cbn07XG5cbi8vIG5vIHByZWZldGNoaW5nXG5cbi8vIG5vIHByZWxvYWRlZFxuXG4vLyBubyBITVJcblxuLy8gbm8gSE1SIG1hbmlmZXN0XG5cbnZhciBjaGVja0RlZmVycmVkTW9kdWxlcyA9IHggPT4ge307XG5cbi8vIGluc3RhbGwgYSBKU09OUCBjYWxsYmFjayBmb3IgY2h1bmsgbG9hZGluZ1xudmFyIHdlYnBhY2tKc29ucENhbGxiYWNrID0gKHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uLCBkYXRhKSA9PiB7XG5cdHZhciBbY2h1bmtJZHMsIG1vcmVNb2R1bGVzLCBydW50aW1lLCBleGVjdXRlTW9kdWxlc10gPSBkYXRhO1xuXHQvLyBhZGQgXCJtb3JlTW9kdWxlc1wiIHRvIHRoZSBtb2R1bGVzIG9iamVjdCxcblx0Ly8gdGhlbiBmbGFnIGFsbCBcImNodW5rSWRzXCIgYXMgbG9hZGVkIGFuZCBmaXJlIGNhbGxiYWNrXG5cdHZhciBtb2R1bGVJZCwgY2h1bmtJZCwgaSA9IDAsIHJlc29sdmVzID0gW107XG5cdGZvcig7aSA8IGNodW5rSWRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0Y2h1bmtJZCA9IGNodW5rSWRzW2ldO1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhpbnN0YWxsZWRDaHVua3MsIGNodW5rSWQpICYmIGluc3RhbGxlZENodW5rc1tjaHVua0lkXSkge1xuXHRcdFx0cmVzb2x2ZXMucHVzaChpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF1bMF0pO1xuXHRcdH1cblx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSAwO1xuXHR9XG5cdGZvcihtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG5cdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLm1bbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuXHRcdH1cblx0fVxuXHRpZihydW50aW1lKSBydW50aW1lKF9fd2VicGFja19yZXF1aXJlX18pO1xuXHRpZihwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbikgcGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24oZGF0YSk7XG5cdHdoaWxlKHJlc29sdmVzLmxlbmd0aCkge1xuXHRcdHJlc29sdmVzLnNoaWZ0KCkoKTtcblx0fVxuXG5cdC8vIGFkZCBlbnRyeSBtb2R1bGVzIGZyb20gbG9hZGVkIGNodW5rIHRvIGRlZmVycmVkIGxpc3Rcblx0aWYoZXhlY3V0ZU1vZHVsZXMpIGRlZmVycmVkTW9kdWxlcy5wdXNoLmFwcGx5KGRlZmVycmVkTW9kdWxlcywgZXhlY3V0ZU1vZHVsZXMpO1xuXG5cdC8vIHJ1biBkZWZlcnJlZCBtb2R1bGVzIHdoZW4gYWxsIGNodW5rcyByZWFkeVxuXHRyZXR1cm4gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKTtcbn1cblxudmFyIGNodW5rTG9hZGluZ0dsb2JhbCA9IHNlbGZbXCJ3ZWJwYWNrQ2h1bmt0aW55X2ZpbGVzXCJdID0gc2VsZltcIndlYnBhY2tDaHVua3RpbnlfZmlsZXNcIl0gfHwgW107XG5jaHVua0xvYWRpbmdHbG9iYWwuZm9yRWFjaCh3ZWJwYWNrSnNvbnBDYWxsYmFjay5iaW5kKG51bGwsIDApKTtcbmNodW5rTG9hZGluZ0dsb2JhbC5wdXNoID0gd2VicGFja0pzb25wQ2FsbGJhY2suYmluZChudWxsLCBjaHVua0xvYWRpbmdHbG9iYWwucHVzaC5iaW5kKGNodW5rTG9hZGluZ0dsb2JhbCkpO1xuXG5mdW5jdGlvbiBjaGVja0RlZmVycmVkTW9kdWxlc0ltcGwoKSB7XG5cdHZhciByZXN1bHQ7XG5cdGZvcih2YXIgaSA9IDA7IGkgPCBkZWZlcnJlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgZGVmZXJyZWRNb2R1bGUgPSBkZWZlcnJlZE1vZHVsZXNbaV07XG5cdFx0dmFyIGZ1bGZpbGxlZCA9IHRydWU7XG5cdFx0Zm9yKHZhciBqID0gMTsgaiA8IGRlZmVycmVkTW9kdWxlLmxlbmd0aDsgaisrKSB7XG5cdFx0XHR2YXIgZGVwSWQgPSBkZWZlcnJlZE1vZHVsZVtqXTtcblx0XHRcdGlmKGluc3RhbGxlZENodW5rc1tkZXBJZF0gIT09IDApIGZ1bGZpbGxlZCA9IGZhbHNlO1xuXHRcdH1cblx0XHRpZihmdWxmaWxsZWQpIHtcblx0XHRcdGRlZmVycmVkTW9kdWxlcy5zcGxpY2UoaS0tLCAxKTtcblx0XHRcdHJlc3VsdCA9IF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gZGVmZXJyZWRNb2R1bGVbMF0pO1xuXHRcdH1cblx0fVxuXHRpZihkZWZlcnJlZE1vZHVsZXMubGVuZ3RoID09PSAwKSB7XG5cdFx0X193ZWJwYWNrX3JlcXVpcmVfXy54KCk7XG5cdFx0X193ZWJwYWNrX3JlcXVpcmVfXy54ID0geCA9PiB7fTtcblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufVxudmFyIHN0YXJ0dXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLng7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnggPSAoKSA9PiB7XG5cdC8vIHJlc2V0IHN0YXJ0dXAgZnVuY3Rpb24gc28gaXQgY2FuIGJlIGNhbGxlZCBhZ2FpbiB3aGVuIG1vcmUgc3RhcnR1cCBjb2RlIGlzIGFkZGVkXG5cdF9fd2VicGFja19yZXF1aXJlX18ueCA9IHN0YXJ0dXAgfHwgKHggPT4ge30pO1xuXHRyZXR1cm4gKGNoZWNrRGVmZXJyZWRNb2R1bGVzID0gY2hlY2tEZWZlcnJlZE1vZHVsZXNJbXBsKSgpO1xufTsiLCIvLyBydW4gc3RhcnR1cFxuX193ZWJwYWNrX3JlcXVpcmVfXy54KCk7XG4iXSwic291cmNlUm9vdCI6IiJ9