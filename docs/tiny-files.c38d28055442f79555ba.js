/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/buefy.scss":
/*!************************!*\
  !*** ./src/buefy.scss ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/styles.scss":
/*!*************************!*\
  !*** ./src/styles.scss ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/app.vue?vue&type=style&index=0&lang=scss&":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/app.vue?vue&type=style&index=0&lang=scss& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/explorer/explorer.vue?vue&type=style&index=0&lang=scss&":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/explorer/explorer.vue?vue&type=style&index=0&lang=scss& ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/loading/loading.vue?vue&type=style&index=0&lang=scss&":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/loading/loading.vue?vue&type=style&index=0&lang=scss& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/pages/not-found/not-found.vue?vue&type=style&index=0&lang=scss&":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/pages/not-found/not-found.vue?vue&type=style&index=0&lang=scss& ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./src/app/app.ts?vue&type=script&lang=js&":
/*!****************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./src/app/app.ts?vue&type=script&lang=js& ***!
  \****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm.js");
/* harmony import */ var services_tiny_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! services/tiny-api */ "./src/services/tiny-api.ts");
/* harmony import */ var buefy__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! buefy */ "./node_modules/buefy/dist/esm/dialog.js");
/* harmony import */ var services_data_bus__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! services/data-bus */ "./src/services/data-bus.ts");




/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (vue__WEBPACK_IMPORTED_MODULE_2__.default.component('app', {
    data() {
        return {
            loggedIn: Boolean(services_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.homeToken)
        };
    },
    watch: {
        $route(n, o) {
            if (n.path !== o.path && !this.loggedIn && !/^\/login/.test(n.path))
                this.loggedIn = Boolean(services_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.homeToken);
        }
    },
    methods: {
        async settings() {
            buefy__WEBPACK_IMPORTED_MODULE_3__.DialogProgrammatic.alert({
                type: 'is-info',
                message: 'to be implemented ;3'
            });
        },
        async logout() {
            await services_tiny_api__WEBPACK_IMPORTED_MODULE_0__.default.auth.logout();
            this.$router.push('/login');
            this.loggedIn = false;
        },
        async deleteSelf() {
            const choice = await new Promise(res => buefy__WEBPACK_IMPORTED_MODULE_3__.DialogProgrammatic.confirm({
                title: 'Delete Account',
                type: 'is-danger',
                message: 'Are you sure you want to delete your account? This cannot be undone.',
                onCancel: () => res(false),
                onConfirm: () => res(true)
            }));
            if (choice) {
                await services_tiny_api__WEBPACK_IMPORTED_MODULE_0__.default.deleteSelf();
                this.$router.push('/login');
                this.loggedIn = false;
            }
        }
    }
}));


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./src/components/explorer/explorer.ts?vue&type=script&lang=js&":
/*!*************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./src/components/explorer/explorer.ts?vue&type=script&lang=js& ***!
  \*************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var jszip__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jszip */ "./node_modules/jszip/lib/index.js");
/* harmony import */ var jszip__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jszip__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var file_saver__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! file-saver */ "./node_modules/file-saver/dist/FileSaver.min.js");
/* harmony import */ var file_saver__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(file_saver__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var filesize__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! filesize */ "./node_modules/filesize/lib/filesize.min.js");
/* harmony import */ var filesize__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(filesize__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var luxon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! luxon */ "./node_modules/luxon/build/cjs-browser/luxon.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util */ "./src/util.ts");








/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (vue__WEBPACK_IMPORTED_MODULE_6__.default.component('tiny-explorer', {
    props: {
        rootName: { type: String, required: false, default: 'root' },
        rootRoute: { type: String, required: true },
        paths: { type: Array, required: true },
        mapLink: { type: Function, required: true },
        viewOnly: Boolean
    },
    data() {
        const rootInfo = {
            path: '/',
            name: 'root',
            size: filesize__WEBPACK_IMPORTED_MODULE_3___default()(0),
            rawSize: 0,
            lastModified: 'null',
            rawLastModified: 0
        };
        return {
            // "exploring"
            dir: '/',
            dirInfo: rootInfo,
            bigList: [],
            index: {},
            rootInfo,
            // downloading/uploading
            working: false,
            progress: 0,
            workingOn: '',
            // sorting
            sortByName: 'name',
            sortByDir: false,
            // selection
            lastActive: '',
            lastActiveTime: 0,
            active: {},
            anyActive: false,
            // selection box
            drawing: false,
            drawBegin: { x: 0, y: 0 },
            drawPoints: { x1: 0, y1: 0, x2: 0, y2: 0 },
            drawPos: {
                top: '0px',
                left: '0px',
                height: '0px',
                width: '0px'
            }
        };
    },
    computed: {
        splitDir() {
            const sdir = [];
            let buff = '';
            this.dir.replace(/^\/|\/$/g, '').split('/').forEach(v => {
                if (!v)
                    buff += '/';
                else if (buff)
                    sdir.push(buff + v);
                else
                    sdir.push(v);
            });
            return [
                this.rootName,
                ...sdir
            ];
        },
        sortedFolders() {
            if (!this.index || !this.index[this.dir])
                return [];
            return this.sortEntries(this.index[this.dir].folders);
        },
        sortedFiles() {
            if (!this.index || !this.index[this.dir])
                return [];
            return this.sortEntries(this.index[this.dir].files);
        }
    },
    watch: {
        dir() {
            this.active = {};
            this.lastActive = '';
            this.lastActiveTime = 0;
            if (this.sliceRouteForPath() !== this.dir)
                this.$router.replace({ path: this.rootRoute + this.dir });
            if (this.dir.length > 1 && this.index && this.index[this.dir]) {
                const idx = this.dir.lastIndexOf('/', this.dir.length - 2);
                const dirParent = this.dir.slice(0, idx + 1);
                const dirName = this.dir.slice(idx + 1, -1);
                const info = this.index[dirParent] ? this.index[dirParent].folders.find(a => a.name === dirName) : null;
                this.dirInfo = info || this.rootInfo;
            }
            else
                this.dirInfo = this.rootInfo;
            this.$emit('update:dir', this.dir);
        },
        paths() {
            this.refresh();
        },
        $route() {
            if (this.sliceRouteForPath() !== this.dir && this.index[this.sliceRouteForPath()])
                this.dir = this.sliceRouteForPath();
        },
        active() {
            this.anyActive = this.active && Object.values(this.active).reduce((a, b) => a || b, false);
        }
    },
    async mounted() {
        window.addEventListener('mouseup', this.drawEnd);
        window.addEventListener('mousemove', this.drawContinue);
        this.refresh();
        if (this.index[this.sliceRouteForPath()])
            this.dir = this.sliceRouteForPath();
        else
            this.$router.replace(this.rootRoute);
    },
    destroyed() {
        window.removeEventListener('mouseup', this.drawEnd);
        window.removeEventListener('mousemove', this.drawContinue);
    },
    methods: {
        sliceRouteForPath() {
            let path = this.$route.path.slice(this.rootRoute.length);
            if (!path.endsWith('/'))
                path += '/';
            return path;
        },
        formatDate(time) {
            return luxon__WEBPACK_IMPORTED_MODULE_7__.DateTime.fromMillis(time, { zone: 'utc' }).toLocal().toLocaleString(luxon__WEBPACK_IMPORTED_MODULE_7__.DateTime.DATETIME_SHORT);
        },
        sortEntries(entries) {
            return entries.sort((_a, _b) => {
                let a, b;
                if (!this.sortByDir) {
                    a = _a;
                    b = _b;
                }
                else {
                    b = _a;
                    a = _b;
                }
                switch (this.sortByName) {
                    case 'size': return b.rawSize - a.rawSize;
                    case 'mod': return b.rawLastModified - a.rawLastModified;
                    case 'name':
                    default:
                        return a.name.localeCompare(b.name);
                }
            });
        },
        sort(col) {
            if (col === this.sortByName)
                this.sortByDir = !this.sortByDir;
            else {
                this.sortByName = col;
                this.sortByDir = false;
            }
        },
        goto(dir) {
            if (dir <= 0) {
                this.dir = '/';
                return;
            }
            else if (dir >= this.splitDir.length)
                return;
            const d = '/' + this.splitDir.slice(1, dir + 1).join('/');
            this.dir = d.endsWith('/') ? d : d + '/';
        },
        newFolder() {
            console.log('create folder');
        },
        refresh() {
            const index = {};
            if (!this.index || Object.keys(this.index).length === 0)
                this.index = index;
            const oldestLatestModifiedDates = {};
            for (const entry of this.paths) {
                // create folder objects
                const folders = entry.path.split('/').map((p, i, arr) => arr.slice(0, i).join('/') + '/').slice(1);
                for (let i = 0, fpath = folders[i]; i < folders.length; i++, fpath = folders[i]) {
                    if (!index[fpath]) {
                        index[fpath] = { files: [], folders: [] };
                    }
                    if (i + 1 < folders.length) {
                        const subFName = folders[i + 1].slice(folders[i + 1].lastIndexOf('/', folders[i + 1].length - 2)).replace(/\//g, '');
                        if (!index[fpath].folders.find(a => a.name === subFName)) {
                            index[fpath].folders.push({
                                path: fpath + '/' + subFName,
                                name: subFName,
                                size: '--',
                                rawSize: 0,
                                lastModified: '--',
                                rawLastModified: 0,
                                itemCount: 0
                            });
                        }
                    }
                }
                if (entry.size === 0 && entry.modified === 0 && entry.path.endsWith('null'))
                    continue;
                // file logic
                const folder = index[folders[folders.length - 1]];
                const fileName = entry.name || entry.path.slice(entry.path.lastIndexOf('/', entry.path.length - 2) + 1);
                const file = folder.files.find(a => a.name === fileName);
                const rawLastModified = entry.modified;
                // new
                if (!file) {
                    const newFile = {
                        name: fileName,
                        path: entry.path,
                        rawSize: entry.size,
                        size: filesize__WEBPACK_IMPORTED_MODULE_3___default()(entry.size),
                        rawLastModified: rawLastModified,
                        lastModified: this.formatDate(rawLastModified),
                        contentType: entry.type,
                        ...(0,_util__WEBPACK_IMPORTED_MODULE_5__.getFileIcon)(entry.type)
                    };
                    folder.files.push(newFile);
                    oldestLatestModifiedDates[entry.path] = { oldest: rawLastModified, latest: rawLastModified };
                    // new file & newer modified & has size
                }
                if (oldestLatestModifiedDates[entry.path].latest < rawLastModified && entry.size > 0) {
                    file.rawSize = entry.size;
                    file.size = filesize__WEBPACK_IMPORTED_MODULE_3___default()(entry.size);
                    file.rawLastModified = rawLastModified;
                    file.lastModified = this.formatDate(rawLastModified);
                    file.contentType = entry.type;
                    const icon = (0,_util__WEBPACK_IMPORTED_MODULE_5__.getFileIcon)(entry.type);
                    file.fileIcon = icon.fileIcon;
                    file.fileIconColor = icon.fileIconColor;
                    oldestLatestModifiedDates[entry.path] = { oldest: rawLastModified, latest: rawLastModified };
                    // it's just old (or non existant)
                }
                else { }
            }
            // post-entries logic -- fill out folder information
            // make sure we process the farthest folders first (i.e. the longest paths)
            // so the shorter ones can reference their children
            let paths = Object.keys(index).filter(a => index[a] && (index[a].folders.length || index[a].files.length));
            paths = paths.sort((a, b) => a.length === b.length ? a.localeCompare(b) : b.length - a.length);
            // currentPath = 0;
            for (const path of paths) {
                /* currentPath++;
                this.workingOn = 'Filling folder information (' + currentPath + '/' + paths.length + ')...';
                this.progress = currentPath / paths.length;*/
                let totalSize = 0;
                let lastModified = 0;
                let itemCount = 0;
                for (const f of index[path].folders) {
                    totalSize += f.rawSize;
                    lastModified = Math.max(lastModified, f.rawLastModified);
                    itemCount += f.itemCount;
                }
                for (const f of index[path].files) {
                    totalSize += f.rawSize;
                    lastModified = Math.max(lastModified, f.rawLastModified);
                    itemCount++;
                }
                if (path.length > 1) {
                    const idx = path.lastIndexOf('/', path.length - 2);
                    const subPath = path.slice(0, idx + 1);
                    const fName = path.slice(idx + 1, -1);
                    const folder = index[subPath].folders.find(a => a.name === fName);
                    folder.rawSize = totalSize;
                    folder.size = filesize__WEBPACK_IMPORTED_MODULE_3___default()(totalSize);
                    folder.rawLastModified = lastModified;
                    folder.lastModified = this.formatDate(lastModified);
                    folder.itemCount = itemCount;
                }
                else {
                    this.rootInfo.rawSize = totalSize;
                    this.rootInfo.size = filesize__WEBPACK_IMPORTED_MODULE_3___default()(totalSize);
                    this.rootInfo.rawLastModified = lastModified;
                    this.rootInfo.lastModified = this.formatDate(lastModified);
                    this.rootInfo.itemCount = itemCount;
                }
            }
            this.index = index;
            this.$forceUpdate();
        },
        clickItem(event, item, folder = false) {
            const name = folder ? '/' + item.name : item.name;
            if (event.getModifierState('Shift') || event.shiftKey) {
                const allItems = this.index[this.dir].folders.map(a => '/' + a.name).concat(this.index[this.dir].files.map(a => a.name));
                const s1 = allItems.indexOf(this.lastActive);
                const s2 = allItems.indexOf(name);
                const items = allItems.slice(Math.min(s1, s2), Math.max(s1, s2) + 1);
                if (event.getModifierState('Control') || event.ctrlKey)
                    for (const i of items)
                        vue__WEBPACK_IMPORTED_MODULE_6__.default.set(this.active, i, true);
                else
                    this.active = items.reduce((acc, c) => { acc[c] = true; return acc; }, {});
                this.lastActiveTime = 0;
                return; // no 'lastActive' whatnot
            }
            else if (event.getModifierState('Control') || event.ctrlKey) {
                this.active[name] = !this.active[name];
                this.lastActiveTime = 0;
            }
            else {
                this.active = { [name]: true };
                if (Date.now() - this.lastActiveTime < 333) { // 1/3 of a sec
                    if (name.startsWith('/'))
                        this.openFolder(name.slice(1));
                    else
                        this.openFile(item.path);
                    this.lastActiveTime = 0;
                }
                this.lastActiveTime = Date.now();
            }
            this.lastActive = name;
        },
        openFolder(folder) {
            if (this.dir)
                this.dir = this.dir + folder + '/';
            else
                this.dir = '/' + folder + '/';
        },
        async openFile(path, open = true) {
            if (open)
                this.$emit('open', path);
            else
                return axios__WEBPACK_IMPORTED_MODULE_4___default().get(this.mapLink(path), { responseType: 'blob' });
        },
        async downloadSelected() {
            if (this.working)
                return;
            const items = [];
            for (const k in this.active)
                if (this.active[k] === true)
                    items.push(k.startsWith('/') ? k.slice(1) : k);
            let allItems = [];
            for (const i of items) {
                allItems = allItems.concat(this.bigList
                    .filter(a => a.startsWith(this.dir.slice(1) + i)));
            }
            let name = items.length === 1 ?
                items[0] :
                this.splitDir.length === 1 ?
                    'tiny-files-data' :
                    this.splitDir[this.splitDir.length - 1];
            return this.download(allItems, name);
        },
        async downloadDir(path) {
            if (this.working)
                return;
            if (!path.endsWith('/'))
                path += '/';
            if (path.startsWith('/'))
                path = path.slice(1);
            let name;
            if (path.length < 2)
                name = 'tiny-files-data';
            else {
                const idx = path.lastIndexOf('/', path.length - 2);
                const dirName = path.slice(idx + 1, -1);
                name = dirName;
            }
            return this.download(this.bigList.filter(a => a.startsWith(path)), name);
        },
        async download(items, name) {
            if (this.working)
                return;
            this.working = true;
            this.progress = 0;
            const zip = new (jszip__WEBPACK_IMPORTED_MODULE_1___default())();
            for (let n = 0, it = items[n]; n < items.length; n++, it = items[n]) {
                console.log('download:', it);
                this.progress = n / items.length;
                this.workingOn = 'Zipping ' + it;
                await new Promise(resolve => setTimeout(resolve, 500));
                zip.file(it, await this.openFile(it, false));
            }
            this.progress = 1;
            this.workingOn = 'Serving the Zip';
            const blob = await zip.generateAsync({ type: 'blob' });
            file_saver__WEBPACK_IMPORTED_MODULE_2___default().saveAs(blob, name.replace('*', ''));
            this.workingOn = '';
            this.working = false;
            this.progress = 0;
        },
        drawStart(event) {
            if (event.button !== 0)
                return;
            this.drawing = true;
            vue__WEBPACK_IMPORTED_MODULE_6__.default.set(this.drawBegin, 'x', event.x);
            vue__WEBPACK_IMPORTED_MODULE_6__.default.set(this.drawBegin, 'y', event.y);
            this.drawPoints = { x1: event.x, x2: event.x, y1: event.y, y2: event.y };
            this.drawPos = { top: event.y + 'px', left: event.x + 'px', height: 0 + 'px', width: 0 + 'px' };
        },
        boxInside(a, b) {
            return !(a.x1 > b.x2 ||
                a.x2 < b.x1 ||
                a.y1 > b.y2 ||
                a.y2 < b.y1);
        },
        drawContinue: lodash__WEBPACK_IMPORTED_MODULE_0___default().throttle(function (event) {
            if (!this.drawing)
                return;
            vue__WEBPACK_IMPORTED_MODULE_6__.default.set(this.drawPoints, 'y1', Math.min(event.y, this.drawBegin.y)); // top
            vue__WEBPACK_IMPORTED_MODULE_6__.default.set(this.drawPoints, 'x1', Math.min(event.x, this.drawBegin.x)); // left
            vue__WEBPACK_IMPORTED_MODULE_6__.default.set(this.drawPoints, 'y2', Math.max(event.y, this.drawBegin.y)); // bottom
            vue__WEBPACK_IMPORTED_MODULE_6__.default.set(this.drawPoints, 'x2', Math.max(event.x, this.drawBegin.x)); // right
            vue__WEBPACK_IMPORTED_MODULE_6__.default.set(this.drawPos, 'top', this.drawPoints.y1 + 'px');
            vue__WEBPACK_IMPORTED_MODULE_6__.default.set(this.drawPos, 'left', this.drawPoints.x1 + 'px');
            vue__WEBPACK_IMPORTED_MODULE_6__.default.set(this.drawPos, 'height', this.drawPoints.y2 - this.drawPoints.y1 + 'px');
            vue__WEBPACK_IMPORTED_MODULE_6__.default.set(this.drawPos, 'width', this.drawPoints.x2 - this.drawPoints.x1 + 'px');
            const children = this.$refs.explorer.children;
            for (let i = 0, child = children.item(i); i < children.length; i++, child = children.item(i)) {
                if (!(child.classList.contains('folder') || child.classList.contains('file')))
                    continue;
                const box = child.getBoundingClientRect();
                const b = {
                    x1: box.left,
                    y1: box.top,
                    x2: box.right,
                    y2: box.bottom
                };
                if (this.boxInside(b, this.drawPoints))
                    child.classList.add('hover');
                else if (child.classList.contains('hover'))
                    child.classList.remove('hover');
            }
        }, 15),
        drawEnd(event) {
            if (!this.drawing || event.button !== 0)
                return;
            this.drawing = false;
            const children = this.$refs.explorer.children;
            const newActive = [];
            for (let i = 0, child = children.item(i); i < children.length; i++, child = children.item(i)) {
                if (!(child.classList.contains('folder') || child.classList.contains('file')))
                    continue;
                if (child.classList.contains('hover')) {
                    const itemMatch = /m-(.+)/.exec(child.id);
                    if (itemMatch && itemMatch[1])
                        newActive.push(itemMatch[1]);
                    child.classList.remove('hover');
                }
            }
            if (!(event.getModifierState('State') || event.shiftKey))
                this.active = {};
            for (const i of newActive)
                vue__WEBPACK_IMPORTED_MODULE_6__.default.set(this.active, i, true);
        },
        getPath(folder) {
            return this.rootRoute + this.dir + folder;
        },
        getLink(file) {
            return this.mapLink(file);
        }
    }
}));


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./src/components/loading/loading.ts?vue&type=script&lang=js&":
/*!***********************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./src/components/loading/loading.ts?vue&type=script&lang=js& ***!
  \***********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (vue__WEBPACK_IMPORTED_MODULE_0__.default.component('tiny-loading', {}));


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm.js");
/* harmony import */ var buefy__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! buefy */ "./node_modules/buefy/dist/esm/button.js");
/* harmony import */ var buefy__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! buefy */ "./node_modules/buefy/dist/esm/input.js");
/* harmony import */ var buefy__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! buefy */ "./node_modules/buefy/dist/esm/field.js");
/* harmony import */ var buefy__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! buefy */ "./node_modules/buefy/dist/esm/icon.js");
/* harmony import */ var buefy__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! buefy */ "./node_modules/buefy/dist/esm/loading.js");
/* harmony import */ var buefy__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! buefy */ "./node_modules/buefy/dist/esm/dialog.js");
/* harmony import */ var buefy__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! buefy */ "./node_modules/buefy/dist/esm/modal.js");
/* harmony import */ var buefy__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! buefy */ "./node_modules/buefy/dist/esm/dropdown.js");
/* harmony import */ var buefy__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! buefy */ "./node_modules/buefy/dist/esm/upload.js");
/* harmony import */ var _buefy_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./buefy.scss */ "./src/buefy.scss");
/* harmony import */ var _styles_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./styles.scss */ "./src/styles.scss");
/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util */ "./src/util.ts");
/* harmony import */ var _app_app__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/app */ "./src/app/app.vue");
/* harmony import */ var _components_loading_loading__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/loading/loading */ "./src/components/loading/loading.vue");
/* harmony import */ var _components_explorer_explorer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/explorer/explorer */ "./src/components/explorer/explorer.vue");
/* harmony import */ var _router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./router */ "./src/router.ts");

// @ts-ignore
Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_mdi_font_css_materialdesignicons_css"), __webpack_require__.e("node_modules_mdi_font_css_materialdesignicons_css")]).then(__webpack_require__.bind(__webpack_require__, /*! @mdi/font/css/materialdesignicons.css */ "./node_modules/@mdi/font/css/materialdesignicons.css"));








console.log('Environment:', "development");
vue__WEBPACK_IMPORTED_MODULE_7__.default.use(buefy__WEBPACK_IMPORTED_MODULE_8__.default);
vue__WEBPACK_IMPORTED_MODULE_7__.default.use(buefy__WEBPACK_IMPORTED_MODULE_9__.default);
vue__WEBPACK_IMPORTED_MODULE_7__.default.use(buefy__WEBPACK_IMPORTED_MODULE_10__.default);
vue__WEBPACK_IMPORTED_MODULE_7__.default.use(buefy__WEBPACK_IMPORTED_MODULE_11__.default);
vue__WEBPACK_IMPORTED_MODULE_7__.default.use(buefy__WEBPACK_IMPORTED_MODULE_12__.default);
vue__WEBPACK_IMPORTED_MODULE_7__.default.use(buefy__WEBPACK_IMPORTED_MODULE_13__.default);
vue__WEBPACK_IMPORTED_MODULE_7__.default.use(buefy__WEBPACK_IMPORTED_MODULE_14__.default);
vue__WEBPACK_IMPORTED_MODULE_7__.default.use(buefy__WEBPACK_IMPORTED_MODULE_15__.default);
vue__WEBPACK_IMPORTED_MODULE_7__.default.use(buefy__WEBPACK_IMPORTED_MODULE_16__.default);
const v = new vue__WEBPACK_IMPORTED_MODULE_7__.default({
    router: _router__WEBPACK_IMPORTED_MODULE_6__.default,
    el: '#app',
    components: { AppComponent: _app_app__WEBPACK_IMPORTED_MODULE_3__.default, TinyExplorer: _components_explorer_explorer__WEBPACK_IMPORTED_MODULE_5__.default },
    data: { loaded: false },
    render(h) {
        if (this.loaded) {
            return h(_app_app__WEBPACK_IMPORTED_MODULE_3__.default, { key: 'app' });
        }
        else
            return (0,_util__WEBPACK_IMPORTED_MODULE_2__.makeInitializerComponent)(h, _components_loading_loading__WEBPACK_IMPORTED_MODULE_4__.default);
    }
});
(async () => {
    // hmmm
})().then(() => {
    console.log('Initialized Main!');
    v.loaded = true;
}, e => {
    console.error('Error initializing main: ', e.stack || e.message || e);
    buefy__WEBPACK_IMPORTED_MODULE_13__.DialogProgrammatic.alert({
        title: 'Error',
        message: 'Error initializing main: ' + String(e.message || e),
        type: 'is-danger'
    });
});


/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./src/pages/not-found/not-found.ts?vue&type=script&lang=js&":
/*!**********************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./src/pages/not-found/not-found.ts?vue&type=script&lang=js& ***!
  \**********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (vue__WEBPACK_IMPORTED_MODULE_0__.default.component('tiny-not-found', {}));


/***/ }),

/***/ "./src/router.ts":
/*!***********************!*\
  !*** ./src/router.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm.js");
/* harmony import */ var vue_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vue-router */ "./node_modules/vue-router/dist/vue-router.esm.js");
/* harmony import */ var _pages_not_found_not_found__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pages/not-found/not-found */ "./src/pages/not-found/not-found.vue");
/* harmony import */ var _services_data_bus__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./services/data-bus */ "./src/services/data-bus.ts");


const HomePage = () => __webpack_require__.e(/*! import() */ "src_pages_home_home_vue").then(__webpack_require__.bind(__webpack_require__, /*! ./pages/home/home */ "./src/pages/home/home.vue"));
const BrowsePage = () => __webpack_require__.e(/*! import() */ "src_pages_browse_browse_vue").then(__webpack_require__.bind(__webpack_require__, /*! ./pages/browse/browse */ "./src/pages/browse/browse.vue"));
const SettingsPage = () => __webpack_require__.e(/*! import() */ "src_pages_settings_settings_vue").then(__webpack_require__.bind(__webpack_require__, /*! ./pages/settings/settings */ "./src/pages/settings/settings.vue"));
const LoginPage = () => __webpack_require__.e(/*! import() */ "src_pages_login_login_vue").then(__webpack_require__.bind(__webpack_require__, /*! ./pages/login/login */ "./src/pages/login/login.vue"));


vue__WEBPACK_IMPORTED_MODULE_2__.default.use(vue_router__WEBPACK_IMPORTED_MODULE_3__.default);
const router = new vue_router__WEBPACK_IMPORTED_MODULE_3__.default({
    mode:  true ? 'hash' : 0,
    routes: [
        { path: '/', redirect: '/browse', name: 'home' },
        { path: '/browse**', component: BrowsePage, name: 'browse' },
        // { path: '/explore/:origin/:username/:share/**', component: ExplorePage, name: 'explore' }, // other's files
        { path: '/settings', component: SettingsPage, name: 'settings' },
        { path: '/login', component: LoginPage, name: 'login' },
        { path: '**', component: _pages_not_found_not_found__WEBPACK_IMPORTED_MODULE_0__.default, name: 'not-found' }
    ]
});
router.beforeEach((to, from, next) => {
    if (to.path !== from.path) {
        if (to.path.length > 1) {
            const sdir = [];
            let buff = '';
            to.path.slice(1).split('/').forEach(v => {
                if (!v)
                    buff += '/';
                else {
                    if (buff)
                        sdir.push(buff + v);
                    else
                        sdir.push(v);
                }
            });
            document.title = 'tiny files - ' + sdir.join(' - ');
        }
        else
            document.title = 'tiny files';
    }
    if (!_services_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.homeToken && !/^\/login/.test(to.path))
        next('/login?goto=' + to.fullPath);
    next();
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (router);


/***/ }),

/***/ "./src/services/data-bus.ts":
/*!**********************************!*\
  !*** ./src/services/data-bus.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
class DataBus {
    get privateScope() { return '/appdata/tiny-files'; }
    get publicScope() { return '/public/tiny-files'; }
    get homeUrl() { return localStorage.getItem('home_url'); }
    set homeUrl(url) { localStorage.setItem('home_url', url); }
    get homeToken() { return localStorage.getItem('home_token'); }
    set homeToken(sid) { localStorage.setItem('home_token', sid); }
    get storeUrl() { return localStorage.getItem('store_url'); }
    set storeUrl(url) { localStorage.setItem('store_url', url); }
    get storeToken() { return localStorage.getItem('store_token'); }
    set storeToken(sid) { localStorage.setItem('store_token', sid); }
    get storeScopes() { return JSON.parse(localStorage.getItem('store_scopes')); }
    set storeScopes(scopes) { localStorage.setItem('store_scopes', JSON.stringify(scopes)); }
    get dbUrl() { return localStorage.getItem('db_url'); }
    set dbUrl(url) { localStorage.setItem('db_url', url); }
    get dbToken() { return localStorage.getItem('db_token'); }
    set dbToken(sid) { localStorage.setItem('db_token', sid); }
    get infoArray() {
        return [
            { id: 'home', url: this.homeUrl, token: this.homeToken },
            { id: 'store', url: this.storeUrl, token: this.storeToken, scopes: this.storeScopes },
            { id: 'db', url: this.dbUrl, token: this.dbToken }
        ];
    }
    clear() {
        localStorage.clear();
    }
}
;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new DataBus());


/***/ }),

/***/ "./src/services/tiny-api.ts":
/*!**********************************!*\
  !*** ./src/services/tiny-api.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _data_bus__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./data-bus */ "./src/services/data-bus.ts");
/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util */ "./src/util.ts");



class TinyApi {
    constructor() {
        this._auth = Object.freeze({
            async login(origin, personal = true) {
                const spleet = origin.split('@');
                let username = '';
                if (spleet[1]) {
                    origin = spleet[1];
                    username = spleet[0];
                }
                _data_bus__WEBPACK_IMPORTED_MODULE_1__.default.homeUrl = location.protocol + '//' + origin;
                _data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeScopes = personal ? [_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.privateScope, _data_bus__WEBPACK_IMPORTED_MODULE_1__.default.publicScope] : ['/'];
                location.href = location.protocol + '//' + origin + '/auth/handshake/start'
                    + '?app=tiny-files'
                    + '&redirect=' + location.origin + '/login'
                    + '&scopes=home,store,db'
                    + (personal ? `&fileScopes=["${_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.privateScope}", "${_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.publicScope}"]` : '&fileScopes=["/"]')
                    + (username ? '&username=' + username : '');
            },
            async getTokens(origin, code) {
                const tokens = await axios__WEBPACK_IMPORTED_MODULE_0___default().post(origin + '/auth/token', {
                    app: 'tiny-files',
                    redirect: location.origin + '/login',
                    scopes: 'home,store,db',
                    code,
                    secret: 'keyboardcat'
                }).then(res => res.data, e => { (0,_util__WEBPACK_IMPORTED_MODULE_2__.handleError)(e); throw e; });
                for (const id of Object.keys(tokens)) {
                    _data_bus__WEBPACK_IMPORTED_MODULE_1__.default[id + 'Url'] = tokens[id].url;
                    _data_bus__WEBPACK_IMPORTED_MODULE_1__.default[id + 'Token'] = tokens[id].token;
                }
            },
            async refresh() {
                await Promise.all(_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.infoArray.map(({ id, url, token }) => axios__WEBPACK_IMPORTED_MODULE_0___default().get(`${url}/auth/refresh?sid=${token}`)
                    .then(res => _data_bus__WEBPACK_IMPORTED_MODULE_1__.default[id + 'Token'] = String(res.data), _util__WEBPACK_IMPORTED_MODULE_2__.handleError)));
            },
            async logout() {
                await Promise.all(_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.infoArray.map(({ url, token }) => axios__WEBPACK_IMPORTED_MODULE_0___default().post(`${url}/auth/logout?sid=${token}`)))
                    .catch(_util__WEBPACK_IMPORTED_MODULE_2__.handleError);
                _data_bus__WEBPACK_IMPORTED_MODULE_1__.default.clear();
            },
        });
        this._files = Object.freeze({
            /**
             * Read a file
             * @param {string} path the file path to read
             * @param {string} responseType (optional) the response type for axios to cast into
             */
            async read(path, responseType) {
                return axios__WEBPACK_IMPORTED_MODULE_0___default().get(_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeUrl + '/files' + path + '?sid=' + _data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeToken, { responseType })
                    .then(res => res.data)
                    .catch(e => { (0,_util__WEBPACK_IMPORTED_MODULE_2__.handleError)(e); throw e; });
            },
            /**
             * Get the href to read the file
             * @param {string} path the file path to read
             */
            getReadUrl(path) {
                return _data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeUrl + '/files' + path + '?sid=' + _data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeToken;
            },
            /**
             * Write a raw stream
             * @param {string} path the file path
             * @param {ArrayBuffer } data the data to write
             */
            async write(path, data, contentType, onUploadProgress = () => null) {
                await axios__WEBPACK_IMPORTED_MODULE_0___default().put(`${_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeUrl}/files${path}?sid=${_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeToken}${contentType ? '&contentType=' + contentType : ''}`, data, { headers: contentType ? { 'Content-Type': contentType } : undefined, onUploadProgress })
                    .catch(e => { (0,_util__WEBPACK_IMPORTED_MODULE_2__.handleError)(e); throw e; });
            },
            /**
             * Write a file
             * @param {string} path the file path
             * @param {File} file the file to write
             */
            async writeFile(path, file, onUploadProgress = () => null) {
                const formData = new FormData();
                formData.append('file', file);
                await axios__WEBPACK_IMPORTED_MODULE_0___default().put(_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeUrl + '/files' + path + '?sid=' + _data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeToken, formData, { headers: { 'Content-Type': 'multipart/form-data' }, onUploadProgress })
                    .catch(e => { (0,_util__WEBPACK_IMPORTED_MODULE_2__.handleError)(e); throw e; });
            },
            /**
             * Delete a file
             * @param {string} path the file path
             */
            async delete(path) {
                await axios__WEBPACK_IMPORTED_MODULE_0___default().delete(_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeUrl + '/files' + path + '?sid=' + _data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeToken)
                    .catch(e => { (0,_util__WEBPACK_IMPORTED_MODULE_2__.handleError)(e); throw e; });
            },
            async listFiles(path, advance) {
                return axios__WEBPACK_IMPORTED_MODULE_0___default().get(`${_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeUrl}/list-files${path.length > 0 && !path.startsWith('/') ? '/' : ''}${path}`
                    + `?sid=${_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeToken}${advance ? '&advance=true' : ''}`)
                    .then(res => res.data)
                    .catch(e => { (0,_util__WEBPACK_IMPORTED_MODULE_2__.handleError)(e); throw e; });
            },
            async getStorageStats() {
                return axios__WEBPACK_IMPORTED_MODULE_0___default().get(_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeUrl + '/storage-stats' + '?sid=' + _data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeToken)
                    .then(res => res.data)
                    .catch(e => { (0,_util__WEBPACK_IMPORTED_MODULE_2__.handleError)(e); throw e; });
            },
            async readPublic(user, path, responseType) {
                return axios__WEBPACK_IMPORTED_MODULE_0___default().get(_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeUrl + '/public/' + user + path, { responseType })
                    .then(res => res.data)
                    .catch(e => { (0,_util__WEBPACK_IMPORTED_MODULE_2__.handleError)(e); throw e; });
            },
            getPublicReadUrl(user, path) {
                return _data_bus__WEBPACK_IMPORTED_MODULE_1__.default.storeUrl + '/public/' + user + path;
            }
        });
    }
    get auth() { return this._auth; }
    async deleteSelf() {
        await Promise.all(_data_bus__WEBPACK_IMPORTED_MODULE_1__.default.infoArray.map(({ url, token }) => axios__WEBPACK_IMPORTED_MODULE_0___default().delete(`${url}/self?sid=${token}`)
            .catch(_util__WEBPACK_IMPORTED_MODULE_2__.handleError)));
        _data_bus__WEBPACK_IMPORTED_MODULE_1__.default.clear();
    }
    get files() { return this._files; }
}
;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new TinyApi());


/***/ }),

/***/ "./src/util.ts":
/*!*********************!*\
  !*** ./src/util.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "makeCenterStyle": () => (/* binding */ makeCenterStyle),
/* harmony export */   "makeInitializerComponent": () => (/* binding */ makeInitializerComponent),
/* harmony export */   "handleError": () => (/* binding */ handleError),
/* harmony export */   "getFileIcon": () => (/* binding */ getFileIcon)
/* harmony export */ });
/* harmony import */ var buefy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! buefy */ "./node_modules/buefy/dist/esm/dialog.js");

function makeCenterStyle() {
    return {
        display: 'flex',
        flexFlow: 'column',
        flexWrap: 'nowrap',
        alignItems: 'center',
        justifyContent: 'center',
        position: 'fixed',
        top: '0',
        left: '0',
        height: '100%',
        width: '100%',
        backgroundColor: 'transparent'
    };
}
function makeInitializerComponent(h, loadingComponent) {
    return h('div', { staticStyle: makeCenterStyle() }, [h(loadingComponent)]);
}
async function handleError(e, action) {
    var _a, _b;
    const message = ((_b = (_a = e.response) === null || _a === void 0 ? void 0 : _a.data) === null || _b === void 0 ? void 0 : _b.message) || e.message || String(e);
    return new Promise(res => buefy__WEBPACK_IMPORTED_MODULE_0__.DialogProgrammatic.alert({
        title: action ? 'Error ' + action : 'Error',
        message,
        type: 'is-danger',
        hasIcon: true,
        onConfirm: () => res(),
        onCancel: () => res()
    }));
}
function getFileIcon(contentType) {
    if (contentType.startsWith('application/json'))
        return { fileIcon: 'file-code', fileIconColor: '#f44336' };
    if (contentType.startsWith('application/octet-stream'))
        return { fileIcon: 'file-question', fileIconColor: '#BDBDBD' };
    if (contentType.startsWith('text'))
        return { fileIcon: 'file-document', fileIconColor: '#3F51B5' };
    if (contentType.startsWith('application/pdf'))
        return { fileIcon: 'file-pdf', fileIconColor: '#3F51B5' };
    if (contentType.startsWith('audio') || contentType.startsWith('video/ogg'))
        return { fileIcon: 'file-music', fileIconColor: '#E91E63' };
    if (contentType.startsWith('image'))
        return { fileIcon: 'file-image', fileIconColor: '#4CAF50' };
    if (contentType.startsWith('video'))
        return { fileIcon: 'file-video', fileIconColor: '#673AB7' };
    return { fileIcon: 'file', fileIconColor: '#78909C' };
}


/***/ }),

/***/ "./src/app/app.vue":
/*!*************************!*\
  !*** ./src/app/app.vue ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _app_vue_vue_type_template_id_5d87e7ea___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./app.vue?vue&type=template&id=5d87e7ea& */ "./src/app/app.vue?vue&type=template&id=5d87e7ea&");
/* harmony import */ var _app_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./app.ts?vue&type=script&lang=js& */ "./src/app/app.ts?vue&type=script&lang=js&");
/* harmony import */ var _app_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app.vue?vue&type=style&index=0&lang=scss& */ "./src/app/app.vue?vue&type=style&index=0&lang=scss&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__.default)(
  _app_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__.default,
  _app_vue_vue_type_template_id_5d87e7ea___WEBPACK_IMPORTED_MODULE_0__.render,
  _app_vue_vue_type_template_id_5d87e7ea___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/app/app.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/components/explorer/explorer.vue":
/*!**********************************************!*\
  !*** ./src/components/explorer/explorer.vue ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _explorer_vue_vue_type_template_id_499758af___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./explorer.vue?vue&type=template&id=499758af& */ "./src/components/explorer/explorer.vue?vue&type=template&id=499758af&");
/* harmony import */ var _explorer_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./explorer.ts?vue&type=script&lang=js& */ "./src/components/explorer/explorer.ts?vue&type=script&lang=js&");
/* harmony import */ var _explorer_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./explorer.vue?vue&type=style&index=0&lang=scss& */ "./src/components/explorer/explorer.vue?vue&type=style&index=0&lang=scss&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__.default)(
  _explorer_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__.default,
  _explorer_vue_vue_type_template_id_499758af___WEBPACK_IMPORTED_MODULE_0__.render,
  _explorer_vue_vue_type_template_id_499758af___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/components/explorer/explorer.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/components/loading/loading.vue":
/*!********************************************!*\
  !*** ./src/components/loading/loading.vue ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _loading_vue_vue_type_template_id_d960adee___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./loading.vue?vue&type=template&id=d960adee& */ "./src/components/loading/loading.vue?vue&type=template&id=d960adee&");
/* harmony import */ var _loading_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./loading.ts?vue&type=script&lang=js& */ "./src/components/loading/loading.ts?vue&type=script&lang=js&");
/* harmony import */ var _loading_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./loading.vue?vue&type=style&index=0&lang=scss& */ "./src/components/loading/loading.vue?vue&type=style&index=0&lang=scss&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__.default)(
  _loading_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__.default,
  _loading_vue_vue_type_template_id_d960adee___WEBPACK_IMPORTED_MODULE_0__.render,
  _loading_vue_vue_type_template_id_d960adee___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/components/loading/loading.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/pages/not-found/not-found.vue":
/*!*******************************************!*\
  !*** ./src/pages/not-found/not-found.vue ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _not_found_vue_vue_type_template_id_64f45f6d___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./not-found.vue?vue&type=template&id=64f45f6d& */ "./src/pages/not-found/not-found.vue?vue&type=template&id=64f45f6d&");
/* harmony import */ var _not_found_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./not-found.ts?vue&type=script&lang=js& */ "./src/pages/not-found/not-found.ts?vue&type=script&lang=js&");
/* harmony import */ var _not_found_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./not-found.vue?vue&type=style&index=0&lang=scss& */ "./src/pages/not-found/not-found.vue?vue&type=style&index=0&lang=scss&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");



;


/* normalize component */

var component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__.default)(
  _not_found_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__.default,
  _not_found_vue_vue_type_template_id_64f45f6d___WEBPACK_IMPORTED_MODULE_0__.render,
  _not_found_vue_vue_type_template_id_64f45f6d___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/pages/not-found/not-found.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "./src/app/app.vue?vue&type=style&index=0&lang=scss&":
/*!***********************************************************!*\
  !*** ./src/app/app.vue?vue&type=style&index=0&lang=scss& ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_clonedRuleSet_2_0_rules_0_use_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_app_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app.vue?vue&type=style&index=0&lang=scss& */ "./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/app.vue?vue&type=style&index=0&lang=scss&");


/***/ }),

/***/ "./src/components/explorer/explorer.vue?vue&type=style&index=0&lang=scss&":
/*!********************************************************************************!*\
  !*** ./src/components/explorer/explorer.vue?vue&type=style&index=0&lang=scss& ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_clonedRuleSet_2_0_rules_0_use_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_explorer_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./explorer.vue?vue&type=style&index=0&lang=scss& */ "./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/explorer/explorer.vue?vue&type=style&index=0&lang=scss&");


/***/ }),

/***/ "./src/components/loading/loading.vue?vue&type=style&index=0&lang=scss&":
/*!******************************************************************************!*\
  !*** ./src/components/loading/loading.vue?vue&type=style&index=0&lang=scss& ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_clonedRuleSet_2_0_rules_0_use_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loading.vue?vue&type=style&index=0&lang=scss& */ "./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/loading/loading.vue?vue&type=style&index=0&lang=scss&");


/***/ }),

/***/ "./src/pages/not-found/not-found.vue?vue&type=style&index=0&lang=scss&":
/*!*****************************************************************************!*\
  !*** ./src/pages/not-found/not-found.vue?vue&type=style&index=0&lang=scss& ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_clonedRuleSet_2_0_rules_0_use_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_vue_loader_lib_index_js_vue_loader_options_not_found_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./not-found.vue?vue&type=style&index=0&lang=scss& */ "./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[1]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/pages/not-found/not-found.vue?vue&type=style&index=0&lang=scss&");


/***/ }),

/***/ "./src/app/app.ts?vue&type=script&lang=js&":
/*!*************************************************!*\
  !*** ./src/app/app.ts?vue&type=script&lang=js& ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_app_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./app.ts?vue&type=script&lang=js& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./src/app/app.ts?vue&type=script&lang=js&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_app_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/components/explorer/explorer.ts?vue&type=script&lang=js&":
/*!**********************************************************************!*\
  !*** ./src/components/explorer/explorer.ts?vue&type=script&lang=js& ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_explorer_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./explorer.ts?vue&type=script&lang=js& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./src/components/explorer/explorer.ts?vue&type=script&lang=js&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_explorer_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/components/loading/loading.ts?vue&type=script&lang=js&":
/*!********************************************************************!*\
  !*** ./src/components/loading/loading.ts?vue&type=script&lang=js& ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_loading_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./loading.ts?vue&type=script&lang=js& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./src/components/loading/loading.ts?vue&type=script&lang=js&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_loading_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/pages/not-found/not-found.ts?vue&type=script&lang=js&":
/*!*******************************************************************!*\
  !*** ./src/pages/not-found/not-found.ts?vue&type=script&lang=js& ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_not_found_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./not-found.ts?vue&type=script&lang=js& */ "./node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!./src/pages/not-found/not-found.ts?vue&type=script&lang=js&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_ts_loader_index_js_clonedRuleSet_1_0_rules_0_not_found_ts_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__.default); 

/***/ }),

/***/ "./src/app/app.vue?vue&type=template&id=5d87e7ea&":
/*!********************************************************!*\
  !*** ./src/app/app.vue?vue&type=template&id=5d87e7ea& ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_app_vue_vue_type_template_id_5d87e7ea___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_app_vue_vue_type_template_id_5d87e7ea___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_app_vue_vue_type_template_id_5d87e7ea___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app.vue?vue&type=template&id=5d87e7ea& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/app.vue?vue&type=template&id=5d87e7ea&");


/***/ }),

/***/ "./src/components/explorer/explorer.vue?vue&type=template&id=499758af&":
/*!*****************************************************************************!*\
  !*** ./src/components/explorer/explorer.vue?vue&type=template&id=499758af& ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_explorer_vue_vue_type_template_id_499758af___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_explorer_vue_vue_type_template_id_499758af___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_explorer_vue_vue_type_template_id_499758af___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./explorer.vue?vue&type=template&id=499758af& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/explorer/explorer.vue?vue&type=template&id=499758af&");


/***/ }),

/***/ "./src/components/loading/loading.vue?vue&type=template&id=d960adee&":
/*!***************************************************************************!*\
  !*** ./src/components/loading/loading.vue?vue&type=template&id=d960adee& ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_template_id_d960adee___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_template_id_d960adee___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_loading_vue_vue_type_template_id_d960adee___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loading.vue?vue&type=template&id=d960adee& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/loading/loading.vue?vue&type=template&id=d960adee&");


/***/ }),

/***/ "./src/pages/not-found/not-found.vue?vue&type=template&id=64f45f6d&":
/*!**************************************************************************!*\
  !*** ./src/pages/not-found/not-found.vue?vue&type=template&id=64f45f6d& ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_not_found_vue_vue_type_template_id_64f45f6d___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_not_found_vue_vue_type_template_id_64f45f6d___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_not_found_vue_vue_type_template_id_64f45f6d___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./not-found.vue?vue&type=template&id=64f45f6d& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/pages/not-found/not-found.vue?vue&type=template&id=64f45f6d&");


/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/app.vue?vue&type=template&id=5d87e7ea&":
/*!***********************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/app/app.vue?vue&type=template&id=5d87e7ea& ***!
  \***********************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    { attrs: { id: "app" } },
    [
      _vm.loggedIn
        ? _c(
            "b-dropdown",
            { attrs: { id: "account-dropdown", position: "is-bottom-left" } },
            [
              _c(
                "button",
                {
                  staticClass: "has-background-primary",
                  attrs: { slot: "trigger", id: "menu-fab" },
                  slot: "trigger"
                },
                [_c("b-icon", { attrs: { icon: "account" } })],
                1
              ),
              _vm._v(" "),
              _c(
                "b-dropdown-item",
                {
                  staticClass: "hover-info",
                  on: {
                    click: function($event) {
                      return _vm.settings()
                    }
                  }
                },
                [_vm._v("settings")]
              ),
              _vm._v(" "),
              _c(
                "b-dropdown-item",
                {
                  on: {
                    click: function($event) {
                      return _vm.logout()
                    }
                  }
                },
                [_vm._v("logout")]
              ),
              _vm._v(" "),
              _c(
                "b-dropdown-item",
                {
                  staticClass: "hover-danger",
                  on: {
                    click: function($event) {
                      return _vm.deleteSelf()
                    }
                  }
                },
                [
                  _c("b-icon", {
                    attrs: { icon: "alert-circle-outline", size: "is-small" }
                  }),
                  _vm._v(" delete self")
                ],
                1
              )
            ],
            1
          )
        : _vm._e(),
      _vm._v(" "),
      _c("router-view")
    ],
    1
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/explorer/explorer.vue?vue&type=template&id=499758af&":
/*!********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/explorer/explorer.vue?vue&type=template&id=499758af& ***!
  \********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", { attrs: { id: "tiny-explorer" } }, [
    _c("div", { attrs: { id: "header" } }, [
      _c("div", {
        staticClass: "has-background-primary",
        style: { width: (_vm.progress * 100).toFixed(2) + "%" },
        attrs: { id: "progress" }
      }),
      _vm._v(" "),
      _c(
        "div",
        { attrs: { id: "path" } },
        [
          _c(
            "button",
            {
              staticClass: "button is-small is-dark",
              staticStyle: { "margin-right": "0.5rem" },
              attrs: { disabled: _vm.splitDir.length <= 1 },
              on: {
                click: function($event) {
                  return _vm.goto(_vm.splitDir.length - 2)
                }
              }
            },
            [
              _c("b-icon", {
                staticStyle: { color: "#FFD54F" },
                attrs: { icon: "folder-upload" }
              })
            ],
            1
          ),
          _vm._v(" "),
          _vm._l(_vm.splitDir, function(d, i) {
            return [
              _c(
                "a",
                {
                  key: "a-" + i,
                  staticClass: "tag",
                  attrs: { title: d },
                  on: {
                    click: function($event) {
                      return _vm.goto(i)
                    }
                  }
                },
                [_c("span", [_vm._v(_vm._s(d))])]
              ),
              _vm._v(" "),
              i + 1 < _vm.splitDir.length
                ? _c(
                    "span",
                    { key: "s-" + i },
                    [_c("b-icon", { attrs: { icon: "chevron-right" } })],
                    1
                  )
                : _vm._e()
            ]
          })
        ],
        2
      ),
      _vm._v(" "),
      _c("div", { attrs: { id: "buttons" } }, [
        _c("div", {
          directives: [
            {
              name: "show",
              rawName: "v-show",
              value: _vm.working,
              expression: "working"
            }
          ],
          attrs: { id: "tiny-loading-small" }
        }),
        _vm._v(" "),
        _c(
          "button",
          {
            staticClass: "button is-small is-dark",
            attrs: {
              disabled: !_vm.anyActive || _vm.working,
              title: "Download"
            },
            on: {
              click: function($event) {
                return _vm.downloadSelected()
              }
            }
          },
          [_c("b-icon", { attrs: { icon: "download" } })],
          1
        )
      ])
    ]),
    _vm._v(" "),
    _c(
      "div",
      { staticClass: "exp-grid", attrs: { id: "explorer-header" } },
      [
        !_vm.viewOnly
          ? _c(
              "button",
              {
                staticClass: "button is-small is-dark",
                on: {
                  click: function($event) {
                    return _vm.newFolder()
                  }
                }
              },
              [
                _c("b-icon", {
                  staticStyle: { color: "#FFD54F" },
                  attrs: { icon: "folder-plus" }
                })
              ],
              1
            )
          : _vm._e(),
        _vm._v(" "),
        _c(
          "button",
          {
            staticClass: "button is-dark",
            on: {
              click: function($event) {
                return _vm.sort("name")
              }
            }
          },
          [
            _c("span", [_vm._v("Name")]),
            _vm._v(" "),
            _c("b-icon", {
              directives: [
                {
                  name: "show",
                  rawName: "v-show",
                  value: _vm.sortByName === "name",
                  expression: 'sortByName === "name"'
                }
              ],
              attrs: { icon: _vm.sortByDir ? "chevron-up" : "chevron-down" }
            })
          ],
          1
        ),
        _vm._v(" "),
        _c(
          "button",
          {
            staticClass: "button is-dark",
            on: {
              click: function($event) {
                return _vm.sort("size")
              }
            }
          },
          [
            _c("span", [_vm._v("Size")]),
            _vm._v(" "),
            _c("b-icon", {
              directives: [
                {
                  name: "show",
                  rawName: "v-show",
                  value: _vm.sortByName === "size",
                  expression: 'sortByName === "size"'
                }
              ],
              attrs: { icon: _vm.sortByDir ? "chevron-up" : "chevron-down" }
            })
          ],
          1
        ),
        _vm._v(" "),
        _c(
          "button",
          {
            staticClass: "button is-dark",
            on: {
              click: function($event) {
                return _vm.sort("mod")
              }
            }
          },
          [
            _c("span", [_vm._v("Last Modified")]),
            _vm._v(" "),
            _c("b-icon", {
              directives: [
                {
                  name: "show",
                  rawName: "v-show",
                  value: _vm.sortByName === "mod",
                  expression: 'sortByName === "mod"'
                }
              ],
              attrs: { icon: _vm.sortByDir ? "chevron-up" : "chevron-down" }
            })
          ],
          1
        ),
        _vm._v(" "),
        _c(
          "b-dropdown",
          { attrs: { "aria-role": "list", position: "is-bottom-left" } },
          [
            _c(
              "button",
              {
                staticClass: "dot-button hover-primary",
                attrs: { slot: "trigger" },
                slot: "trigger"
              },
              [_c("b-icon", { attrs: { icon: "dots-horizontal" } })],
              1
            ),
            _vm._v(" "),
            _c(
              "b-dropdown-item",
              {
                attrs: { "aria-role": "list-item" },
                on: {
                  click: function($event) {
                    return _vm.downloadDir(_vm.dir)
                  }
                }
              },
              [_vm._v("Download")]
            )
          ],
          1
        )
      ],
      1
    ),
    _vm._v(" "),
    _c(
      "div",
      { ref: "explorer", attrs: { id: "explorer" } },
      [
        _c(
          "div",
          {
            attrs: { id: "background" },
            on: {
              mousedown: function($event) {
                return _vm.drawStart($event)
              }
            }
          },
          [
            !_vm.index ||
            !_vm.index[_vm.dir] ||
            (_vm.index[_vm.dir].folders.length === 0 &&
              _vm.index[_vm.dir].files.length === 0)
              ? _c("h5", { staticClass: "subtitle is-5" }, [
                  _vm._v("\r\n        Nothing here...\r\n      ")
                ])
              : _vm._e()
          ]
        ),
        _vm._v(" "),
        _vm.index && _vm.index[_vm.dir]
          ? [
              _vm._l(_vm.sortedFolders, function(folder) {
                return _c("router-link", {
                  key: "/" + folder.name,
                  attrs: { to: _vm.getPath(folder.name), custom: "" },
                  scopedSlots: _vm._u(
                    [
                      {
                        key: "default",
                        fn: function(ref) {
                          var href = ref.href
                          return [
                            _c(
                              "a",
                              {
                                staticClass: "folder exp-grid",
                                class: {
                                  active: _vm.active["/" + folder.name],
                                  "last-active":
                                    _vm.lastActive === "/" + folder.name
                                },
                                attrs: { id: "m-/" + folder.name, href: href },
                                on: {
                                  click: function($event) {
                                    $event.preventDefault()
                                    $event.stopPropagation()
                                    return _vm.clickItem($event, folder, true)
                                  }
                                }
                              },
                              [
                                _c("b-icon", {
                                  staticStyle: { color: "#FFD54F" },
                                  attrs: {
                                    icon: "folder",
                                    title: folder.itemCount + " items"
                                  }
                                }),
                                _vm._v(" "),
                                _c(
                                  "div",
                                  { staticStyle: { "padding-left": "1em" } },
                                  [_c("span", [_vm._v(_vm._s(folder.name))])]
                                ),
                                _vm._v(" "),
                                _c("span", [_vm._v(_vm._s(folder.size))]),
                                _vm._v(" "),
                                _c("span", [
                                  _vm._v(_vm._s(folder.lastModified))
                                ]),
                                _vm._v(" "),
                                _c(
                                  "b-dropdown",
                                  {
                                    attrs: {
                                      "aria-role": "list",
                                      position: "is-bottom-left"
                                    }
                                  },
                                  [
                                    _c(
                                      "button",
                                      {
                                        staticClass: "dot-button",
                                        attrs: { slot: "trigger" },
                                        slot: "trigger"
                                      },
                                      [
                                        _c("b-icon", {
                                          attrs: { icon: "dots-horizontal" }
                                        })
                                      ],
                                      1
                                    ),
                                    _vm._v(" "),
                                    _c(
                                      "b-dropdown-item",
                                      {
                                        attrs: { "aria-role": "list-item" },
                                        on: {
                                          click: function($event) {
                                            return _vm.downloadDir(
                                              _vm.dir + folder.name + "/"
                                            )
                                          }
                                        }
                                      },
                                      [_vm._v("Download")]
                                    ),
                                    _vm._v(" "),
                                    !_vm.viewOnly
                                      ? [
                                          _c(
                                            "b-dropdown-item",
                                            {
                                              attrs: {
                                                "aria-role": "list-item"
                                              },
                                              on: {
                                                click: function($event) {
                                                  return _vm.$emit("delete", {
                                                    type: "folder",
                                                    path: folder.path
                                                  })
                                                }
                                              }
                                            },
                                            [_vm._v("Delete")]
                                          )
                                        ]
                                      : _vm._e()
                                  ],
                                  2
                                )
                              ],
                              1
                            )
                          ]
                        }
                      }
                    ],
                    null,
                    true
                  )
                })
              }),
              _vm._v(" "),
              _vm._l(_vm.sortedFiles, function(file) {
                return _c(
                  "a",
                  {
                    key: file.name,
                    staticClass: "file exp-grid",
                    class: {
                      active: _vm.active[file.name],
                      "last-active": _vm.lastActive === file.name
                    },
                    attrs: {
                      id: "m-" + file.name,
                      href: _vm.getLink(file.path)
                    },
                    on: {
                      click: function($event) {
                        $event.preventDefault()
                        $event.stopPropagation()
                        return _vm.clickItem($event, file)
                      }
                    }
                  },
                  [
                    _c("b-icon", {
                      style: { color: file.fileIconColor },
                      attrs: { icon: file.fileIcon, title: file.contentType }
                    }),
                    _vm._v(" "),
                    _c("div", { staticStyle: { "padding-left": "1em" } }, [
                      _c("span", [_vm._v(_vm._s(file.name))])
                    ]),
                    _vm._v(" "),
                    _c("span", [_vm._v(_vm._s(file.size))]),
                    _vm._v(" "),
                    _c("span", [_vm._v(_vm._s(file.lastModified))]),
                    _vm._v(" "),
                    _c(
                      "b-dropdown",
                      {
                        attrs: {
                          "aria-role": "list",
                          position: "is-bottom-left"
                        }
                      },
                      [
                        _c(
                          "button",
                          {
                            staticClass: "dot-button",
                            attrs: { slot: "trigger" },
                            slot: "trigger"
                          },
                          [
                            _c("b-icon", { attrs: { icon: "dots-horizontal" } })
                          ],
                          1
                        ),
                        _vm._v(" "),
                        _c(
                          "b-dropdown-item",
                          {
                            attrs: { "aria-role": "list-item" },
                            on: {
                              click: function($event) {
                                return _vm.openFile(file.path)
                              }
                            }
                          },
                          [_vm._v("Open")]
                        ),
                        _vm._v(" "),
                        !_vm.viewOnly
                          ? [
                              _c(
                                "b-dropdown-item",
                                {
                                  attrs: { "aria-role": "list-item" },
                                  on: {
                                    click: function($event) {
                                      return _vm.$emit("delete", {
                                        type: "file",
                                        path: file.path
                                      })
                                    }
                                  }
                                },
                                [_vm._v("Delete")]
                              )
                            ]
                          : _vm._e()
                      ],
                      2
                    )
                  ],
                  1
                )
              })
            ]
          : _vm._e(),
        _vm._v(" "),
        _c("div", {
          directives: [
            {
              name: "show",
              rawName: "v-show",
              value: _vm.drawing,
              expression: "drawing"
            }
          ],
          style: _vm.drawPos,
          attrs: { id: "selectbox" }
        })
      ],
      2
    )
  ])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/loading/loading.vue?vue&type=template&id=d960adee&":
/*!******************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/loading/loading.vue?vue&type=template&id=d960adee& ***!
  \******************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", { attrs: { id: "tiny-loading" } })
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/pages/not-found/not-found.vue?vue&type=template&id=64f45f6d&":
/*!*****************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/pages/not-found/not-found.vue?vue&type=template&id=64f45f6d& ***!
  \*****************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    { staticClass: "content", attrs: { id: "tiny-not-found" } },
    [
      _c("h1", [_vm._v("404 Not Found")]),
      _vm._v(" "),
      _c(
        "p",
        [
          _vm._v("Couldn't find the page you were looking for. Try going "),
          _c("router-link", { attrs: { to: "/" } }, [_vm._v("Home")]),
          _vm._v("?")
        ],
        1
      )
    ]
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		if(__webpack_module_cache__[moduleId]) {
/******/ 			return __webpack_module_cache__[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			loaded: false,
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/******/ 	// the startup function
/******/ 	// It's empty as some runtime module handles the default behavior
/******/ 	__webpack_require__.x = x => {};
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/ensure chunk */
/******/ 	(() => {
/******/ 		__webpack_require__.f = {};
/******/ 		// This file contains only the entry chunk.
/******/ 		// The chunk loading function for additional chunks
/******/ 		__webpack_require__.e = (chunkId) => {
/******/ 			return Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {
/******/ 				__webpack_require__.f[key](chunkId, promises);
/******/ 				return promises;
/******/ 			}, []));
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/get javascript chunk filename */
/******/ 	(() => {
/******/ 		// This function allow to reference async chunks
/******/ 		__webpack_require__.u = (chunkId) => {
/******/ 			// return url for filenames based on template
/******/ 			return "" + chunkId + "." + {"vendors-node_modules_mdi_font_css_materialdesignicons_css":"f663ebf0a6673477e1a9","node_modules_mdi_font_css_materialdesignicons_css":"9af93860b0ad0bcc4f4e","src_pages_home_home_vue":"770e2ad506ae2f0e90e2","src_pages_browse_browse_vue":"3ae46d6ab90287fdfa24","src_pages_settings_settings_vue":"383e9abbd5801e418091","src_pages_login_login_vue":"74d0ac1291830db5cf89"}[chunkId] + ".js";
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/get mini-css chunk filename */
/******/ 	(() => {
/******/ 		// This function allow to reference all chunks
/******/ 		__webpack_require__.miniCssF = (chunkId) => {
/******/ 			// return url for filenames based on template
/******/ 			return "" + chunkId + ".css";
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/load script */
/******/ 	(() => {
/******/ 		var inProgress = {};
/******/ 		var dataWebpackPrefix = "tiny-files:";
/******/ 		// loadScript function to load a script via script tag
/******/ 		__webpack_require__.l = (url, done, key, chunkId) => {
/******/ 			if(inProgress[url]) { inProgress[url].push(done); return; }
/******/ 			var script, needAttach;
/******/ 			if(key !== undefined) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				for(var i = 0; i < scripts.length; i++) {
/******/ 					var s = scripts[i];
/******/ 					if(s.getAttribute("src") == url || s.getAttribute("data-webpack") == dataWebpackPrefix + key) { script = s; break; }
/******/ 				}
/******/ 			}
/******/ 			if(!script) {
/******/ 				needAttach = true;
/******/ 				script = document.createElement('script');
/******/ 		
/******/ 				script.charset = 'utf-8';
/******/ 				script.timeout = 120;
/******/ 				if (__webpack_require__.nc) {
/******/ 					script.setAttribute("nonce", __webpack_require__.nc);
/******/ 				}
/******/ 				script.setAttribute("data-webpack", dataWebpackPrefix + key);
/******/ 				script.src = url;
/******/ 			}
/******/ 			inProgress[url] = [done];
/******/ 			var onScriptComplete = (prev, event) => {
/******/ 				// avoid mem leaks in IE.
/******/ 				script.onerror = script.onload = null;
/******/ 				clearTimeout(timeout);
/******/ 				var doneFns = inProgress[url];
/******/ 				delete inProgress[url];
/******/ 				script.parentNode && script.parentNode.removeChild(script);
/******/ 				doneFns && doneFns.forEach((fn) => (fn(event)));
/******/ 				if(prev) return prev(event);
/******/ 			}
/******/ 			;
/******/ 			var timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);
/******/ 			script.onerror = onScriptComplete.bind(null, script.onerror);
/******/ 			script.onload = onScriptComplete.bind(null, script.onload);
/******/ 			needAttach && document.head.appendChild(script);
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/node module decorator */
/******/ 	(() => {
/******/ 		__webpack_require__.nmd = (module) => {
/******/ 			module.paths = [];
/******/ 			if (!module.children) module.children = [];
/******/ 			return module;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		__webpack_require__.p = "";
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/css loading */
/******/ 	(() => {
/******/ 		var createStylesheet = (chunkId, fullhref, resolve, reject) => {
/******/ 			var linkTag = document.createElement("link");
/******/ 		
/******/ 			linkTag.rel = "stylesheet";
/******/ 			linkTag.type = "text/css";
/******/ 			var onLinkComplete = (event) => {
/******/ 				// avoid mem leaks.
/******/ 				linkTag.onerror = linkTag.onload = null;
/******/ 				if (event.type === 'load') {
/******/ 					resolve();
/******/ 				} else {
/******/ 					var errorType = event && (event.type === 'load' ? 'missing' : event.type);
/******/ 					var realHref = event && event.target && event.target.href || fullhref;
/******/ 					var err = new Error("Loading CSS chunk " + chunkId + " failed.\n(" + realHref + ")");
/******/ 					err.code = "CSS_CHUNK_LOAD_FAILED";
/******/ 					err.type = errorType;
/******/ 					err.request = realHref;
/******/ 					linkTag.parentNode.removeChild(linkTag)
/******/ 					reject(err);
/******/ 				}
/******/ 			}
/******/ 			linkTag.onerror = linkTag.onload = onLinkComplete;
/******/ 			linkTag.href = fullhref;
/******/ 		
/******/ 			document.head.appendChild(linkTag);
/******/ 			return linkTag;
/******/ 		};
/******/ 		var findStylesheet = (href, fullhref) => {
/******/ 			var existingLinkTags = document.getElementsByTagName("link");
/******/ 			for(var i = 0; i < existingLinkTags.length; i++) {
/******/ 				var tag = existingLinkTags[i];
/******/ 				var dataHref = tag.getAttribute("data-href") || tag.getAttribute("href");
/******/ 				if(tag.rel === "stylesheet" && (dataHref === href || dataHref === fullhref)) return tag;
/******/ 			}
/******/ 			var existingStyleTags = document.getElementsByTagName("style");
/******/ 			for(var i = 0; i < existingStyleTags.length; i++) {
/******/ 				var tag = existingStyleTags[i];
/******/ 				var dataHref = tag.getAttribute("data-href");
/******/ 				if(dataHref === href || dataHref === fullhref) return tag;
/******/ 			}
/******/ 		};
/******/ 		var loadStylesheet = (chunkId) => {
/******/ 			return new Promise((resolve, reject) => {
/******/ 				var href = __webpack_require__.miniCssF(chunkId);
/******/ 				var fullhref = __webpack_require__.p + href;
/******/ 				if(findStylesheet(href, fullhref)) return resolve();
/******/ 				createStylesheet(chunkId, fullhref, resolve, reject);
/******/ 			});
/******/ 		}
/******/ 		// object to store loaded CSS chunks
/******/ 		var installedCssChunks = {
/******/ 			"tiny-files": 0
/******/ 		};
/******/ 		
/******/ 		__webpack_require__.f.miniCss = (chunkId, promises) => {
/******/ 			var cssChunks = {"vendors-node_modules_mdi_font_css_materialdesignicons_css":1,"src_pages_home_home_vue":1,"src_pages_browse_browse_vue":1,"src_pages_settings_settings_vue":1,"src_pages_login_login_vue":1};
/******/ 			if(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);
/******/ 			else if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {
/******/ 				promises.push(installedCssChunks[chunkId] = loadStylesheet(chunkId).then(() => {
/******/ 					installedCssChunks[chunkId] = 0;
/******/ 				}, (e) => {
/******/ 					delete installedCssChunks[chunkId];
/******/ 					throw e;
/******/ 				}));
/******/ 			}
/******/ 		};
/******/ 		
/******/ 		// no hmr
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		// no baseURI
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// Promise = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"tiny-files": 0
/******/ 		};
/******/ 		
/******/ 		var deferredModules = [
/******/ 			["./src/main.ts","vendors-node_modules_axios_index_js-node_modules_buefy_dist_esm_button_js-node_modules_buefy_-3e984b"]
/******/ 		];
/******/ 		__webpack_require__.f.j = (chunkId, promises) => {
/******/ 				// JSONP chunk loading for javascript
/******/ 				var installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;
/******/ 				if(installedChunkData !== 0) { // 0 means "already installed".
/******/ 		
/******/ 					// a Promise means "currently loading".
/******/ 					if(installedChunkData) {
/******/ 						promises.push(installedChunkData[2]);
/******/ 					} else {
/******/ 						if("vendors-node_modules_mdi_font_css_materialdesignicons_css" != chunkId) {
/******/ 							// setup Promise in chunk cache
/******/ 							var promise = new Promise((resolve, reject) => {
/******/ 								installedChunkData = installedChunks[chunkId] = [resolve, reject];
/******/ 							});
/******/ 							promises.push(installedChunkData[2] = promise);
/******/ 		
/******/ 							// start chunk loading
/******/ 							var url = __webpack_require__.p + __webpack_require__.u(chunkId);
/******/ 							// create error before stack unwound to get useful stacktrace later
/******/ 							var error = new Error();
/******/ 							var loadingEnded = (event) => {
/******/ 								if(__webpack_require__.o(installedChunks, chunkId)) {
/******/ 									installedChunkData = installedChunks[chunkId];
/******/ 									if(installedChunkData !== 0) installedChunks[chunkId] = undefined;
/******/ 									if(installedChunkData) {
/******/ 										var errorType = event && (event.type === 'load' ? 'missing' : event.type);
/******/ 										var realSrc = event && event.target && event.target.src;
/******/ 										error.message = 'Loading chunk ' + chunkId + ' failed.\n(' + errorType + ': ' + realSrc + ')';
/******/ 										error.name = 'ChunkLoadError';
/******/ 										error.type = errorType;
/******/ 										error.request = realSrc;
/******/ 										installedChunkData[1](error);
/******/ 									}
/******/ 								}
/******/ 							};
/******/ 							__webpack_require__.l(url, loadingEnded, "chunk-" + chunkId, chunkId);
/******/ 						} else installedChunks[chunkId] = 0;
/******/ 					}
/******/ 				}
/******/ 		};
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		var checkDeferredModules = x => {};
/******/ 		
/******/ 		// install a JSONP callback for chunk loading
/******/ 		var webpackJsonpCallback = (parentChunkLoadingFunction, data) => {
/******/ 			var [chunkIds, moreModules, runtime, executeModules] = data;
/******/ 			// add "moreModules" to the modules object,
/******/ 			// then flag all "chunkIds" as loaded and fire callback
/******/ 			var moduleId, chunkId, i = 0, resolves = [];
/******/ 			for(;i < chunkIds.length; i++) {
/******/ 				chunkId = chunkIds[i];
/******/ 				if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 					resolves.push(installedChunks[chunkId][0]);
/******/ 				}
/******/ 				installedChunks[chunkId] = 0;
/******/ 			}
/******/ 			for(moduleId in moreModules) {
/******/ 				if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 					__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 				}
/******/ 			}
/******/ 			if(runtime) runtime(__webpack_require__);
/******/ 			if(parentChunkLoadingFunction) parentChunkLoadingFunction(data);
/******/ 			while(resolves.length) {
/******/ 				resolves.shift()();
/******/ 			}
/******/ 		
/******/ 			// add entry modules from loaded chunk to deferred list
/******/ 			if(executeModules) deferredModules.push.apply(deferredModules, executeModules);
/******/ 		
/******/ 			// run deferred modules when all chunks ready
/******/ 			return checkDeferredModules();
/******/ 		}
/******/ 		
/******/ 		var chunkLoadingGlobal = self["webpackChunktiny_files"] = self["webpackChunktiny_files"] || [];
/******/ 		chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));
/******/ 		chunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));
/******/ 		
/******/ 		function checkDeferredModulesImpl() {
/******/ 			var result;
/******/ 			for(var i = 0; i < deferredModules.length; i++) {
/******/ 				var deferredModule = deferredModules[i];
/******/ 				var fulfilled = true;
/******/ 				for(var j = 1; j < deferredModule.length; j++) {
/******/ 					var depId = deferredModule[j];
/******/ 					if(installedChunks[depId] !== 0) fulfilled = false;
/******/ 				}
/******/ 				if(fulfilled) {
/******/ 					deferredModules.splice(i--, 1);
/******/ 					result = __webpack_require__(__webpack_require__.s = deferredModule[0]);
/******/ 				}
/******/ 			}
/******/ 			if(deferredModules.length === 0) {
/******/ 				__webpack_require__.x();
/******/ 				__webpack_require__.x = x => {};
/******/ 			}
/******/ 			return result;
/******/ 		}
/******/ 		var startup = __webpack_require__.x;
/******/ 		__webpack_require__.x = () => {
/******/ 			// reset startup function so it can be called again when more startup code is added
/******/ 			__webpack_require__.x = startup || (x => {});
/******/ 			return (checkDeferredModules = checkDeferredModulesImpl)();
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	// run startup
/******/ 	__webpack_require__.x();
/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90aW55LWZpbGVzLy4vc3JjL2J1ZWZ5LnNjc3M/YTk4NiIsIndlYnBhY2s6Ly90aW55LWZpbGVzLy4vc3JjL3N0eWxlcy5zY3NzP2UxNDciLCJ3ZWJwYWNrOi8vdGlueS1maWxlcy8uL3NyYy9hcHAvYXBwLnZ1ZT9mODkxIiwid2VicGFjazovL3RpbnktZmlsZXMvLi9zcmMvY29tcG9uZW50cy9leHBsb3Jlci9leHBsb3Jlci52dWU/NDAyZCIsIndlYnBhY2s6Ly90aW55LWZpbGVzLy4vc3JjL2NvbXBvbmVudHMvbG9hZGluZy9sb2FkaW5nLnZ1ZT9iNjdjIiwid2VicGFjazovL3RpbnktZmlsZXMvLi9zcmMvcGFnZXMvbm90LWZvdW5kL25vdC1mb3VuZC52dWU/NDI2YSIsIndlYnBhY2s6Ly90aW55LWZpbGVzLy4vc3JjL2FwcC9hcHAudHMiLCJ3ZWJwYWNrOi8vdGlueS1maWxlcy8uL3NyYy9jb21wb25lbnRzL2V4cGxvcmVyL2V4cGxvcmVyLnRzIiwid2VicGFjazovL3RpbnktZmlsZXMvLi9zcmMvY29tcG9uZW50cy9sb2FkaW5nL2xvYWRpbmcudHMiLCJ3ZWJwYWNrOi8vdGlueS1maWxlcy8uL3NyYy9tYWluLnRzIiwid2VicGFjazovL3RpbnktZmlsZXMvLi9zcmMvcGFnZXMvbm90LWZvdW5kL25vdC1mb3VuZC50cyIsIndlYnBhY2s6Ly90aW55LWZpbGVzLy4vc3JjL3JvdXRlci50cyIsIndlYnBhY2s6Ly90aW55LWZpbGVzLy4vc3JjL3NlcnZpY2VzL2RhdGEtYnVzLnRzIiwid2VicGFjazovL3RpbnktZmlsZXMvLi9zcmMvc2VydmljZXMvdGlueS1hcGkudHMiLCJ3ZWJwYWNrOi8vdGlueS1maWxlcy8uL3NyYy91dGlsLnRzIiwid2VicGFjazovL3RpbnktZmlsZXMvLi9zcmMvYXBwL2FwcC52dWU/MjdhYSIsIndlYnBhY2s6Ly90aW55LWZpbGVzLy4vc3JjL2NvbXBvbmVudHMvZXhwbG9yZXIvZXhwbG9yZXIudnVlPzVhZTgiLCJ3ZWJwYWNrOi8vdGlueS1maWxlcy8uL3NyYy9jb21wb25lbnRzL2xvYWRpbmcvbG9hZGluZy52dWU/YzU1MyIsIndlYnBhY2s6Ly90aW55LWZpbGVzLy4vc3JjL3BhZ2VzL25vdC1mb3VuZC9ub3QtZm91bmQudnVlP2Q5MDgiLCJ3ZWJwYWNrOi8vdGlueS1maWxlcy8uL3NyYy9hcHAvYXBwLnRzPzQxNDYiLCJ3ZWJwYWNrOi8vdGlueS1maWxlcy8uL3NyYy9jb21wb25lbnRzL2V4cGxvcmVyL2V4cGxvcmVyLnRzPzlkNjAiLCJ3ZWJwYWNrOi8vdGlueS1maWxlcy8uL3NyYy9jb21wb25lbnRzL2xvYWRpbmcvbG9hZGluZy50cz9jMzcyIiwid2VicGFjazovL3RpbnktZmlsZXMvLi9zcmMvcGFnZXMvbm90LWZvdW5kL25vdC1mb3VuZC50cz8xN2IzIiwid2VicGFjazovL3RpbnktZmlsZXMvLi9zcmMvYXBwL2FwcC52dWU/NjllNSIsIndlYnBhY2s6Ly90aW55LWZpbGVzLy4vc3JjL2NvbXBvbmVudHMvZXhwbG9yZXIvZXhwbG9yZXIudnVlP2YxNjMiLCJ3ZWJwYWNrOi8vdGlueS1maWxlcy8uL3NyYy9jb21wb25lbnRzL2xvYWRpbmcvbG9hZGluZy52dWU/MmI4MiIsIndlYnBhY2s6Ly90aW55LWZpbGVzLy4vc3JjL3BhZ2VzL25vdC1mb3VuZC9ub3QtZm91bmQudnVlP2Y1NDgiLCJ3ZWJwYWNrOi8vdGlueS1maWxlcy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly90aW55LWZpbGVzL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL3RpbnktZmlsZXMvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3RpbnktZmlsZXMvd2VicGFjay9ydW50aW1lL2Vuc3VyZSBjaHVuayIsIndlYnBhY2s6Ly90aW55LWZpbGVzL3dlYnBhY2svcnVudGltZS9nZXQgamF2YXNjcmlwdCBjaHVuayBmaWxlbmFtZSIsIndlYnBhY2s6Ly90aW55LWZpbGVzL3dlYnBhY2svcnVudGltZS9nZXQgbWluaS1jc3MgY2h1bmsgZmlsZW5hbWUiLCJ3ZWJwYWNrOi8vdGlueS1maWxlcy93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL3RpbnktZmlsZXMvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly90aW55LWZpbGVzL3dlYnBhY2svcnVudGltZS9sb2FkIHNjcmlwdCIsIndlYnBhY2s6Ly90aW55LWZpbGVzL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vdGlueS1maWxlcy93ZWJwYWNrL3J1bnRpbWUvbm9kZSBtb2R1bGUgZGVjb3JhdG9yIiwid2VicGFjazovL3RpbnktZmlsZXMvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vdGlueS1maWxlcy93ZWJwYWNrL3J1bnRpbWUvY3NzIGxvYWRpbmciLCJ3ZWJwYWNrOi8vdGlueS1maWxlcy93ZWJwYWNrL3J1bnRpbWUvanNvbnAgY2h1bmsgbG9hZGluZyIsIndlYnBhY2s6Ly90aW55LWZpbGVzL3dlYnBhY2svc3RhcnR1cCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNBc0I7QUFDa0I7QUFDRztBQUNIO0FBQ3hDLGlFQUFlLGtEQUFhO0FBQzVCO0FBQ0E7QUFDQSw4QkFBOEIsZ0VBQWlCO0FBQy9DO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxnRUFBaUI7QUFDekQ7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVksMkRBQXdCO0FBQ3BDO0FBQ0EsNkNBQTZDO0FBQzdDLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQSxr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O1dBQ0E7V0FDQSxNQUFNLG9CQUFvQjtXQUMxQjtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTs7V0FFQTtXQUNBOztXQUVBO1dBQ0E7V0FDQTs7V0FFQTtXQUNBO1dBQ0E7O1dBRUE7V0FDQTtXQUNBLGVBQWUsNEJBQTRCO1dBQzNDO1dBQ0E7V0FDQSxnQkFBZ0IsMkJBQTJCO1dBQzNDO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQSw0Q0FBNEM7V0FDNUM7V0FDQSxFOzs7O1VDM0hBO1VBQ0EiLCJmaWxlIjoidGlueS1maWxlcy5jMzhkMjgwNTU0NDJmNzk1NTViYS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsImltcG9ydCBWdWUgZnJvbSAndnVlJztcclxuaW1wb3J0IHRpbnlBcGkgZnJvbSAnc2VydmljZXMvdGlueS1hcGknO1xyXG5pbXBvcnQgeyBEaWFsb2dQcm9ncmFtbWF0aWMgfSBmcm9tICdidWVmeSc7XHJcbmltcG9ydCBkYXRhQnVzIGZyb20gJ3NlcnZpY2VzL2RhdGEtYnVzJztcclxuZXhwb3J0IGRlZmF1bHQgVnVlLmNvbXBvbmVudCgnYXBwJywge1xyXG4gICAgZGF0YSgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBsb2dnZWRJbjogQm9vbGVhbihkYXRhQnVzLmhvbWVUb2tlbilcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIHdhdGNoOiB7XHJcbiAgICAgICAgJHJvdXRlKG4sIG8pIHtcclxuICAgICAgICAgICAgaWYgKG4ucGF0aCAhPT0gby5wYXRoICYmICF0aGlzLmxvZ2dlZEluICYmICEvXlxcL2xvZ2luLy50ZXN0KG4ucGF0aCkpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlZEluID0gQm9vbGVhbihkYXRhQnVzLmhvbWVUb2tlbik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIG1ldGhvZHM6IHtcclxuICAgICAgICBhc3luYyBzZXR0aW5ncygpIHtcclxuICAgICAgICAgICAgRGlhbG9nUHJvZ3JhbW1hdGljLmFsZXJ0KHtcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdpcy1pbmZvJyxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICd0byBiZSBpbXBsZW1lbnRlZCA7MydcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhc3luYyBsb2dvdXQoKSB7XHJcbiAgICAgICAgICAgIGF3YWl0IHRpbnlBcGkuYXV0aC5sb2dvdXQoKTtcclxuICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9sb2dpbicpO1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlZEluID0gZmFsc2U7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhc3luYyBkZWxldGVTZWxmKCkge1xyXG4gICAgICAgICAgICBjb25zdCBjaG9pY2UgPSBhd2FpdCBuZXcgUHJvbWlzZShyZXMgPT4gRGlhbG9nUHJvZ3JhbW1hdGljLmNvbmZpcm0oe1xyXG4gICAgICAgICAgICAgICAgdGl0bGU6ICdEZWxldGUgQWNjb3VudCcsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnaXMtZGFuZ2VyJyxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHlvdXIgYWNjb3VudD8gVGhpcyBjYW5ub3QgYmUgdW5kb25lLicsXHJcbiAgICAgICAgICAgICAgICBvbkNhbmNlbDogKCkgPT4gcmVzKGZhbHNlKSxcclxuICAgICAgICAgICAgICAgIG9uQ29uZmlybTogKCkgPT4gcmVzKHRydWUpXHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgaWYgKGNob2ljZSkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGlueUFwaS5kZWxldGVTZWxmKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2xvZ2luJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlZEluID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pO1xyXG4iLCJpbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7XHJcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XHJcbmltcG9ydCBKU1ppcCBmcm9tICdqc3ppcCc7XHJcbmltcG9ydCBGaWxlU2F2ZXIgZnJvbSAnZmlsZS1zYXZlcic7XHJcbmltcG9ydCBmaWxlc2l6ZSBmcm9tICdmaWxlc2l6ZSc7XHJcbmltcG9ydCB7IERhdGVUaW1lIH0gZnJvbSAnbHV4b24nO1xyXG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xyXG5pbXBvcnQgeyBnZXRGaWxlSWNvbiB9IGZyb20gJy4uLy4uL3V0aWwnO1xyXG5leHBvcnQgZGVmYXVsdCBWdWUuY29tcG9uZW50KCd0aW55LWV4cGxvcmVyJywge1xyXG4gICAgcHJvcHM6IHtcclxuICAgICAgICByb290TmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiBmYWxzZSwgZGVmYXVsdDogJ3Jvb3QnIH0sXHJcbiAgICAgICAgcm9vdFJvdXRlOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICAgICAgICBwYXRoczogeyB0eXBlOiBBcnJheSwgcmVxdWlyZWQ6IHRydWUgfSxcclxuICAgICAgICBtYXBMaW5rOiB7IHR5cGU6IEZ1bmN0aW9uLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgICAgIHZpZXdPbmx5OiBCb29sZWFuXHJcbiAgICB9LFxyXG4gICAgZGF0YSgpIHtcclxuICAgICAgICBjb25zdCByb290SW5mbyA9IHtcclxuICAgICAgICAgICAgcGF0aDogJy8nLFxyXG4gICAgICAgICAgICBuYW1lOiAncm9vdCcsXHJcbiAgICAgICAgICAgIHNpemU6IGZpbGVzaXplKDApLFxyXG4gICAgICAgICAgICByYXdTaXplOiAwLFxyXG4gICAgICAgICAgICBsYXN0TW9kaWZpZWQ6ICdudWxsJyxcclxuICAgICAgICAgICAgcmF3TGFzdE1vZGlmaWVkOiAwXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAvLyBcImV4cGxvcmluZ1wiXHJcbiAgICAgICAgICAgIGRpcjogJy8nLFxyXG4gICAgICAgICAgICBkaXJJbmZvOiByb290SW5mbyxcclxuICAgICAgICAgICAgYmlnTGlzdDogW10sXHJcbiAgICAgICAgICAgIGluZGV4OiB7fSxcclxuICAgICAgICAgICAgcm9vdEluZm8sXHJcbiAgICAgICAgICAgIC8vIGRvd25sb2FkaW5nL3VwbG9hZGluZ1xyXG4gICAgICAgICAgICB3b3JraW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgcHJvZ3Jlc3M6IDAsXHJcbiAgICAgICAgICAgIHdvcmtpbmdPbjogJycsXHJcbiAgICAgICAgICAgIC8vIHNvcnRpbmdcclxuICAgICAgICAgICAgc29ydEJ5TmFtZTogJ25hbWUnLFxyXG4gICAgICAgICAgICBzb3J0QnlEaXI6IGZhbHNlLFxyXG4gICAgICAgICAgICAvLyBzZWxlY3Rpb25cclxuICAgICAgICAgICAgbGFzdEFjdGl2ZTogJycsXHJcbiAgICAgICAgICAgIGxhc3RBY3RpdmVUaW1lOiAwLFxyXG4gICAgICAgICAgICBhY3RpdmU6IHt9LFxyXG4gICAgICAgICAgICBhbnlBY3RpdmU6IGZhbHNlLFxyXG4gICAgICAgICAgICAvLyBzZWxlY3Rpb24gYm94XHJcbiAgICAgICAgICAgIGRyYXdpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICBkcmF3QmVnaW46IHsgeDogMCwgeTogMCB9LFxyXG4gICAgICAgICAgICBkcmF3UG9pbnRzOiB7IHgxOiAwLCB5MTogMCwgeDI6IDAsIHkyOiAwIH0sXHJcbiAgICAgICAgICAgIGRyYXdQb3M6IHtcclxuICAgICAgICAgICAgICAgIHRvcDogJzBweCcsXHJcbiAgICAgICAgICAgICAgICBsZWZ0OiAnMHB4JyxcclxuICAgICAgICAgICAgICAgIGhlaWdodDogJzBweCcsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogJzBweCdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgY29tcHV0ZWQ6IHtcclxuICAgICAgICBzcGxpdERpcigpIHtcclxuICAgICAgICAgICAgY29uc3Qgc2RpciA9IFtdO1xyXG4gICAgICAgICAgICBsZXQgYnVmZiA9ICcnO1xyXG4gICAgICAgICAgICB0aGlzLmRpci5yZXBsYWNlKC9eXFwvfFxcLyQvZywgJycpLnNwbGl0KCcvJykuZm9yRWFjaCh2ID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghdilcclxuICAgICAgICAgICAgICAgICAgICBidWZmICs9ICcvJztcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGJ1ZmYpXHJcbiAgICAgICAgICAgICAgICAgICAgc2Rpci5wdXNoKGJ1ZmYgKyB2KTtcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICBzZGlyLnB1c2godik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yb290TmFtZSxcclxuICAgICAgICAgICAgICAgIC4uLnNkaXJcclxuICAgICAgICAgICAgXTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNvcnRlZEZvbGRlcnMoKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5pbmRleCB8fCAhdGhpcy5pbmRleFt0aGlzLmRpcl0pXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNvcnRFbnRyaWVzKHRoaXMuaW5kZXhbdGhpcy5kaXJdLmZvbGRlcnMpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc29ydGVkRmlsZXMoKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5pbmRleCB8fCAhdGhpcy5pbmRleFt0aGlzLmRpcl0pXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNvcnRFbnRyaWVzKHRoaXMuaW5kZXhbdGhpcy5kaXJdLmZpbGVzKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgd2F0Y2g6IHtcclxuICAgICAgICBkaXIoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlID0ge307XHJcbiAgICAgICAgICAgIHRoaXMubGFzdEFjdGl2ZSA9ICcnO1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RBY3RpdmVUaW1lID0gMDtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc2xpY2VSb3V0ZUZvclBhdGgoKSAhPT0gdGhpcy5kaXIpXHJcbiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSh7IHBhdGg6IHRoaXMucm9vdFJvdXRlICsgdGhpcy5kaXIgfSk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmRpci5sZW5ndGggPiAxICYmIHRoaXMuaW5kZXggJiYgdGhpcy5pbmRleFt0aGlzLmRpcl0pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGlkeCA9IHRoaXMuZGlyLmxhc3RJbmRleE9mKCcvJywgdGhpcy5kaXIubGVuZ3RoIC0gMik7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkaXJQYXJlbnQgPSB0aGlzLmRpci5zbGljZSgwLCBpZHggKyAxKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRpck5hbWUgPSB0aGlzLmRpci5zbGljZShpZHggKyAxLCAtMSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpbmZvID0gdGhpcy5pbmRleFtkaXJQYXJlbnRdID8gdGhpcy5pbmRleFtkaXJQYXJlbnRdLmZvbGRlcnMuZmluZChhID0+IGEubmFtZSA9PT0gZGlyTmFtZSkgOiBudWxsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXJJbmZvID0gaW5mbyB8fCB0aGlzLnJvb3RJbmZvO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlySW5mbyA9IHRoaXMucm9vdEluZm87XHJcbiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTpkaXInLCB0aGlzLmRpcik7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBwYXRocygpIHtcclxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAkcm91dGUoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNsaWNlUm91dGVGb3JQYXRoKCkgIT09IHRoaXMuZGlyICYmIHRoaXMuaW5kZXhbdGhpcy5zbGljZVJvdXRlRm9yUGF0aCgpXSlcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlyID0gdGhpcy5zbGljZVJvdXRlRm9yUGF0aCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYWN0aXZlKCkge1xyXG4gICAgICAgICAgICB0aGlzLmFueUFjdGl2ZSA9IHRoaXMuYWN0aXZlICYmIE9iamVjdC52YWx1ZXModGhpcy5hY3RpdmUpLnJlZHVjZSgoYSwgYikgPT4gYSB8fCBiLCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGFzeW5jIG1vdW50ZWQoKSB7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLmRyYXdFbmQpO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLmRyYXdDb250aW51ZSk7XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuaW5kZXhbdGhpcy5zbGljZVJvdXRlRm9yUGF0aCgpXSlcclxuICAgICAgICAgICAgdGhpcy5kaXIgPSB0aGlzLnNsaWNlUm91dGVGb3JQYXRoKCk7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSh0aGlzLnJvb3RSb3V0ZSk7XHJcbiAgICB9LFxyXG4gICAgZGVzdHJveWVkKCkge1xyXG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5kcmF3RW5kKTtcclxuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5kcmF3Q29udGludWUpO1xyXG4gICAgfSxcclxuICAgIG1ldGhvZHM6IHtcclxuICAgICAgICBzbGljZVJvdXRlRm9yUGF0aCgpIHtcclxuICAgICAgICAgICAgbGV0IHBhdGggPSB0aGlzLiRyb3V0ZS5wYXRoLnNsaWNlKHRoaXMucm9vdFJvdXRlLmxlbmd0aCk7XHJcbiAgICAgICAgICAgIGlmICghcGF0aC5lbmRzV2l0aCgnLycpKVxyXG4gICAgICAgICAgICAgICAgcGF0aCArPSAnLyc7XHJcbiAgICAgICAgICAgIHJldHVybiBwYXRoO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZm9ybWF0RGF0ZSh0aW1lKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBEYXRlVGltZS5mcm9tTWlsbGlzKHRpbWUsIHsgem9uZTogJ3V0YycgfSkudG9Mb2NhbCgpLnRvTG9jYWxlU3RyaW5nKERhdGVUaW1lLkRBVEVUSU1FX1NIT1JUKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNvcnRFbnRyaWVzKGVudHJpZXMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGVudHJpZXMuc29ydCgoX2EsIF9iKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgYSwgYjtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5zb3J0QnlEaXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBhID0gX2E7XHJcbiAgICAgICAgICAgICAgICAgICAgYiA9IF9iO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYiA9IF9hO1xyXG4gICAgICAgICAgICAgICAgICAgIGEgPSBfYjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy5zb3J0QnlOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnc2l6ZSc6IHJldHVybiBiLnJhd1NpemUgLSBhLnJhd1NpemU7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbW9kJzogcmV0dXJuIGIucmF3TGFzdE1vZGlmaWVkIC0gYS5yYXdMYXN0TW9kaWZpZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbmFtZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEubmFtZS5sb2NhbGVDb21wYXJlKGIubmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc29ydChjb2wpIHtcclxuICAgICAgICAgICAgaWYgKGNvbCA9PT0gdGhpcy5zb3J0QnlOYW1lKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3J0QnlEaXIgPSAhdGhpcy5zb3J0QnlEaXI7XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3J0QnlOYW1lID0gY29sO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3J0QnlEaXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ290byhkaXIpIHtcclxuICAgICAgICAgICAgaWYgKGRpciA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpciA9ICcvJztcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChkaXIgPj0gdGhpcy5zcGxpdERpci5sZW5ndGgpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIGNvbnN0IGQgPSAnLycgKyB0aGlzLnNwbGl0RGlyLnNsaWNlKDEsIGRpciArIDEpLmpvaW4oJy8nKTtcclxuICAgICAgICAgICAgdGhpcy5kaXIgPSBkLmVuZHNXaXRoKCcvJykgPyBkIDogZCArICcvJztcclxuICAgICAgICB9LFxyXG4gICAgICAgIG5ld0ZvbGRlcigpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2NyZWF0ZSBmb2xkZXInKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHJlZnJlc2goKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0ge307XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5pbmRleCB8fCBPYmplY3Qua2V5cyh0aGlzLmluZGV4KS5sZW5ndGggPT09IDApXHJcbiAgICAgICAgICAgICAgICB0aGlzLmluZGV4ID0gaW5kZXg7XHJcbiAgICAgICAgICAgIGNvbnN0IG9sZGVzdExhdGVzdE1vZGlmaWVkRGF0ZXMgPSB7fTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiB0aGlzLnBhdGhzKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjcmVhdGUgZm9sZGVyIG9iamVjdHNcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZvbGRlcnMgPSBlbnRyeS5wYXRoLnNwbGl0KCcvJykubWFwKChwLCBpLCBhcnIpID0+IGFyci5zbGljZSgwLCBpKS5qb2luKCcvJykgKyAnLycpLnNsaWNlKDEpO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGZwYXRoID0gZm9sZGVyc1tpXTsgaSA8IGZvbGRlcnMubGVuZ3RoOyBpKyssIGZwYXRoID0gZm9sZGVyc1tpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaW5kZXhbZnBhdGhdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4W2ZwYXRoXSA9IHsgZmlsZXM6IFtdLCBmb2xkZXJzOiBbXSB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaSArIDEgPCBmb2xkZXJzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdWJGTmFtZSA9IGZvbGRlcnNbaSArIDFdLnNsaWNlKGZvbGRlcnNbaSArIDFdLmxhc3RJbmRleE9mKCcvJywgZm9sZGVyc1tpICsgMV0ubGVuZ3RoIC0gMikpLnJlcGxhY2UoL1xcLy9nLCAnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaW5kZXhbZnBhdGhdLmZvbGRlcnMuZmluZChhID0+IGEubmFtZSA9PT0gc3ViRk5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleFtmcGF0aF0uZm9sZGVycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBmcGF0aCArICcvJyArIHN1YkZOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHN1YkZOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICctLScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF3U2l6ZTogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0TW9kaWZpZWQ6ICctLScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF3TGFzdE1vZGlmaWVkOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1Db3VudDogMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZW50cnkuc2l6ZSA9PT0gMCAmJiBlbnRyeS5tb2RpZmllZCA9PT0gMCAmJiBlbnRyeS5wYXRoLmVuZHNXaXRoKCdudWxsJykpXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAvLyBmaWxlIGxvZ2ljXHJcbiAgICAgICAgICAgICAgICBjb25zdCBmb2xkZXIgPSBpbmRleFtmb2xkZXJzW2ZvbGRlcnMubGVuZ3RoIC0gMV1dO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZmlsZU5hbWUgPSBlbnRyeS5uYW1lIHx8IGVudHJ5LnBhdGguc2xpY2UoZW50cnkucGF0aC5sYXN0SW5kZXhPZignLycsIGVudHJ5LnBhdGgubGVuZ3RoIC0gMikgKyAxKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZpbGUgPSBmb2xkZXIuZmlsZXMuZmluZChhID0+IGEubmFtZSA9PT0gZmlsZU5hbWUpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmF3TGFzdE1vZGlmaWVkID0gZW50cnkubW9kaWZpZWQ7XHJcbiAgICAgICAgICAgICAgICAvLyBuZXdcclxuICAgICAgICAgICAgICAgIGlmICghZmlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0ZpbGUgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGZpbGVOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBlbnRyeS5wYXRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByYXdTaXplOiBlbnRyeS5zaXplLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiBmaWxlc2l6ZShlbnRyeS5zaXplKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmF3TGFzdE1vZGlmaWVkOiByYXdMYXN0TW9kaWZpZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RNb2RpZmllZDogdGhpcy5mb3JtYXREYXRlKHJhd0xhc3RNb2RpZmllZCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBlbnRyeS50eXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5nZXRGaWxlSWNvbihlbnRyeS50eXBlKVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgZm9sZGVyLmZpbGVzLnB1c2gobmV3RmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgb2xkZXN0TGF0ZXN0TW9kaWZpZWREYXRlc1tlbnRyeS5wYXRoXSA9IHsgb2xkZXN0OiByYXdMYXN0TW9kaWZpZWQsIGxhdGVzdDogcmF3TGFzdE1vZGlmaWVkIH07XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbmV3IGZpbGUgJiBuZXdlciBtb2RpZmllZCAmIGhhcyBzaXplXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAob2xkZXN0TGF0ZXN0TW9kaWZpZWREYXRlc1tlbnRyeS5wYXRoXS5sYXRlc3QgPCByYXdMYXN0TW9kaWZpZWQgJiYgZW50cnkuc2l6ZSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBmaWxlLnJhd1NpemUgPSBlbnRyeS5zaXplO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbGUuc2l6ZSA9IGZpbGVzaXplKGVudHJ5LnNpemUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbGUucmF3TGFzdE1vZGlmaWVkID0gcmF3TGFzdE1vZGlmaWVkO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbGUubGFzdE1vZGlmaWVkID0gdGhpcy5mb3JtYXREYXRlKHJhd0xhc3RNb2RpZmllZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsZS5jb250ZW50VHlwZSA9IGVudHJ5LnR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaWNvbiA9IGdldEZpbGVJY29uKGVudHJ5LnR5cGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbGUuZmlsZUljb24gPSBpY29uLmZpbGVJY29uO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbGUuZmlsZUljb25Db2xvciA9IGljb24uZmlsZUljb25Db2xvcjtcclxuICAgICAgICAgICAgICAgICAgICBvbGRlc3RMYXRlc3RNb2RpZmllZERhdGVzW2VudHJ5LnBhdGhdID0geyBvbGRlc3Q6IHJhd0xhc3RNb2RpZmllZCwgbGF0ZXN0OiByYXdMYXN0TW9kaWZpZWQgfTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpdCdzIGp1c3Qgb2xkIChvciBub24gZXhpc3RhbnQpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHsgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHBvc3QtZW50cmllcyBsb2dpYyAtLSBmaWxsIG91dCBmb2xkZXIgaW5mb3JtYXRpb25cclxuICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHdlIHByb2Nlc3MgdGhlIGZhcnRoZXN0IGZvbGRlcnMgZmlyc3QgKGkuZS4gdGhlIGxvbmdlc3QgcGF0aHMpXHJcbiAgICAgICAgICAgIC8vIHNvIHRoZSBzaG9ydGVyIG9uZXMgY2FuIHJlZmVyZW5jZSB0aGVpciBjaGlsZHJlblxyXG4gICAgICAgICAgICBsZXQgcGF0aHMgPSBPYmplY3Qua2V5cyhpbmRleCkuZmlsdGVyKGEgPT4gaW5kZXhbYV0gJiYgKGluZGV4W2FdLmZvbGRlcnMubGVuZ3RoIHx8IGluZGV4W2FdLmZpbGVzLmxlbmd0aCkpO1xyXG4gICAgICAgICAgICBwYXRocyA9IHBhdGhzLnNvcnQoKGEsIGIpID0+IGEubGVuZ3RoID09PSBiLmxlbmd0aCA/IGEubG9jYWxlQ29tcGFyZShiKSA6IGIubGVuZ3RoIC0gYS5sZW5ndGgpO1xyXG4gICAgICAgICAgICAvLyBjdXJyZW50UGF0aCA9IDA7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgcGF0aCBvZiBwYXRocykge1xyXG4gICAgICAgICAgICAgICAgLyogY3VycmVudFBhdGgrKztcclxuICAgICAgICAgICAgICAgIHRoaXMud29ya2luZ09uID0gJ0ZpbGxpbmcgZm9sZGVyIGluZm9ybWF0aW9uICgnICsgY3VycmVudFBhdGggKyAnLycgKyBwYXRocy5sZW5ndGggKyAnKS4uLic7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb2dyZXNzID0gY3VycmVudFBhdGggLyBwYXRocy5sZW5ndGg7Ki9cclxuICAgICAgICAgICAgICAgIGxldCB0b3RhbFNpemUgPSAwO1xyXG4gICAgICAgICAgICAgICAgbGV0IGxhc3RNb2RpZmllZCA9IDA7XHJcbiAgICAgICAgICAgICAgICBsZXQgaXRlbUNvdW50ID0gMDtcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZiBvZiBpbmRleFtwYXRoXS5mb2xkZXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG90YWxTaXplICs9IGYucmF3U2l6ZTtcclxuICAgICAgICAgICAgICAgICAgICBsYXN0TW9kaWZpZWQgPSBNYXRoLm1heChsYXN0TW9kaWZpZWQsIGYucmF3TGFzdE1vZGlmaWVkKTtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtQ291bnQgKz0gZi5pdGVtQ291bnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGYgb2YgaW5kZXhbcGF0aF0uZmlsZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICB0b3RhbFNpemUgKz0gZi5yYXdTaXplO1xyXG4gICAgICAgICAgICAgICAgICAgIGxhc3RNb2RpZmllZCA9IE1hdGgubWF4KGxhc3RNb2RpZmllZCwgZi5yYXdMYXN0TW9kaWZpZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1Db3VudCsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHBhdGgubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeCA9IHBhdGgubGFzdEluZGV4T2YoJy8nLCBwYXRoLmxlbmd0aCAtIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN1YlBhdGggPSBwYXRoLnNsaWNlKDAsIGlkeCArIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZOYW1lID0gcGF0aC5zbGljZShpZHggKyAxLCAtMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9sZGVyID0gaW5kZXhbc3ViUGF0aF0uZm9sZGVycy5maW5kKGEgPT4gYS5uYW1lID09PSBmTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9sZGVyLnJhd1NpemUgPSB0b3RhbFNpemU7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9sZGVyLnNpemUgPSBmaWxlc2l6ZSh0b3RhbFNpemUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbGRlci5yYXdMYXN0TW9kaWZpZWQgPSBsYXN0TW9kaWZpZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9sZGVyLmxhc3RNb2RpZmllZCA9IHRoaXMuZm9ybWF0RGF0ZShsYXN0TW9kaWZpZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbGRlci5pdGVtQ291bnQgPSBpdGVtQ291bnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvb3RJbmZvLnJhd1NpemUgPSB0b3RhbFNpemU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb290SW5mby5zaXplID0gZmlsZXNpemUodG90YWxTaXplKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvb3RJbmZvLnJhd0xhc3RNb2RpZmllZCA9IGxhc3RNb2RpZmllZDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvb3RJbmZvLmxhc3RNb2RpZmllZCA9IHRoaXMuZm9ybWF0RGF0ZShsYXN0TW9kaWZpZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm9vdEluZm8uaXRlbUNvdW50ID0gaXRlbUNvdW50O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuaW5kZXggPSBpbmRleDtcclxuICAgICAgICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNsaWNrSXRlbShldmVudCwgaXRlbSwgZm9sZGVyID0gZmFsc2UpIHtcclxuICAgICAgICAgICAgY29uc3QgbmFtZSA9IGZvbGRlciA/ICcvJyArIGl0ZW0ubmFtZSA6IGl0ZW0ubmFtZTtcclxuICAgICAgICAgICAgaWYgKGV2ZW50LmdldE1vZGlmaWVyU3RhdGUoJ1NoaWZ0JykgfHwgZXZlbnQuc2hpZnRLZXkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFsbEl0ZW1zID0gdGhpcy5pbmRleFt0aGlzLmRpcl0uZm9sZGVycy5tYXAoYSA9PiAnLycgKyBhLm5hbWUpLmNvbmNhdCh0aGlzLmluZGV4W3RoaXMuZGlyXS5maWxlcy5tYXAoYSA9PiBhLm5hbWUpKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHMxID0gYWxsSXRlbXMuaW5kZXhPZih0aGlzLmxhc3RBY3RpdmUpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgczIgPSBhbGxJdGVtcy5pbmRleE9mKG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBhbGxJdGVtcy5zbGljZShNYXRoLm1pbihzMSwgczIpLCBNYXRoLm1heChzMSwgczIpICsgMSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQuZ2V0TW9kaWZpZXJTdGF0ZSgnQ29udHJvbCcpIHx8IGV2ZW50LmN0cmxLZXkpXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBpIG9mIGl0ZW1zKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBWdWUuc2V0KHRoaXMuYWN0aXZlLCBpLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IGl0ZW1zLnJlZHVjZSgoYWNjLCBjKSA9PiB7IGFjY1tjXSA9IHRydWU7IHJldHVybiBhY2M7IH0sIHt9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMubGFzdEFjdGl2ZVRpbWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBubyAnbGFzdEFjdGl2ZScgd2hhdG5vdFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LmdldE1vZGlmaWVyU3RhdGUoJ0NvbnRyb2wnKSB8fCBldmVudC5jdHJsS2V5KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZVtuYW1lXSA9ICF0aGlzLmFjdGl2ZVtuYW1lXTtcclxuICAgICAgICAgICAgICAgIHRoaXMubGFzdEFjdGl2ZVRpbWUgPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSB7IFtuYW1lXTogdHJ1ZSB9O1xyXG4gICAgICAgICAgICAgICAgaWYgKERhdGUubm93KCkgLSB0aGlzLmxhc3RBY3RpdmVUaW1lIDwgMzMzKSB7IC8vIDEvMyBvZiBhIHNlY1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuYW1lLnN0YXJ0c1dpdGgoJy8nKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGVuRm9sZGVyKG5hbWUuc2xpY2UoMSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGVuRmlsZShpdGVtLnBhdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdEFjdGl2ZVRpbWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0QWN0aXZlVGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5sYXN0QWN0aXZlID0gbmFtZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIG9wZW5Gb2xkZXIoZm9sZGVyKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmRpcilcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlyID0gdGhpcy5kaXIgKyBmb2xkZXIgKyAnLyc7XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlyID0gJy8nICsgZm9sZGVyICsgJy8nO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYXN5bmMgb3BlbkZpbGUocGF0aCwgb3BlbiA9IHRydWUpIHtcclxuICAgICAgICAgICAgaWYgKG9wZW4pXHJcbiAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdvcGVuJywgcGF0aCk7XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQodGhpcy5tYXBMaW5rKHBhdGgpLCB7IHJlc3BvbnNlVHlwZTogJ2Jsb2InIH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYXN5bmMgZG93bmxvYWRTZWxlY3RlZCgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMud29ya2luZylcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBbXTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrIGluIHRoaXMuYWN0aXZlKVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZlW2tdID09PSB0cnVlKVxyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2goay5zdGFydHNXaXRoKCcvJykgPyBrLnNsaWNlKDEpIDogayk7XHJcbiAgICAgICAgICAgIGxldCBhbGxJdGVtcyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGkgb2YgaXRlbXMpIHtcclxuICAgICAgICAgICAgICAgIGFsbEl0ZW1zID0gYWxsSXRlbXMuY29uY2F0KHRoaXMuYmlnTGlzdFxyXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoYSA9PiBhLnN0YXJ0c1dpdGgodGhpcy5kaXIuc2xpY2UoMSkgKyBpKSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBuYW1lID0gaXRlbXMubGVuZ3RoID09PSAxID9cclxuICAgICAgICAgICAgICAgIGl0ZW1zWzBdIDpcclxuICAgICAgICAgICAgICAgIHRoaXMuc3BsaXREaXIubGVuZ3RoID09PSAxID9cclxuICAgICAgICAgICAgICAgICAgICAndGlueS1maWxlcy1kYXRhJyA6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zcGxpdERpclt0aGlzLnNwbGl0RGlyLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kb3dubG9hZChhbGxJdGVtcywgbmFtZSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhc3luYyBkb3dubG9hZERpcihwYXRoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLndvcmtpbmcpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIGlmICghcGF0aC5lbmRzV2l0aCgnLycpKVxyXG4gICAgICAgICAgICAgICAgcGF0aCArPSAnLyc7XHJcbiAgICAgICAgICAgIGlmIChwYXRoLnN0YXJ0c1dpdGgoJy8nKSlcclxuICAgICAgICAgICAgICAgIHBhdGggPSBwYXRoLnNsaWNlKDEpO1xyXG4gICAgICAgICAgICBsZXQgbmFtZTtcclxuICAgICAgICAgICAgaWYgKHBhdGgubGVuZ3RoIDwgMilcclxuICAgICAgICAgICAgICAgIG5hbWUgPSAndGlueS1maWxlcy1kYXRhJztcclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpZHggPSBwYXRoLmxhc3RJbmRleE9mKCcvJywgcGF0aC5sZW5ndGggLSAyKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRpck5hbWUgPSBwYXRoLnNsaWNlKGlkeCArIDEsIC0xKTtcclxuICAgICAgICAgICAgICAgIG5hbWUgPSBkaXJOYW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRvd25sb2FkKHRoaXMuYmlnTGlzdC5maWx0ZXIoYSA9PiBhLnN0YXJ0c1dpdGgocGF0aCkpLCBuYW1lKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGFzeW5jIGRvd25sb2FkKGl0ZW1zLCBuYW1lKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLndvcmtpbmcpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIHRoaXMud29ya2luZyA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3MgPSAwO1xyXG4gICAgICAgICAgICBjb25zdCB6aXAgPSBuZXcgSlNaaXAoKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgbiA9IDAsIGl0ID0gaXRlbXNbbl07IG4gPCBpdGVtcy5sZW5ndGg7IG4rKywgaXQgPSBpdGVtc1tuXSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2Rvd25sb2FkOicsIGl0KTtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3MgPSBuIC8gaXRlbXMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgdGhpcy53b3JraW5nT24gPSAnWmlwcGluZyAnICsgaXQ7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgNTAwKSk7XHJcbiAgICAgICAgICAgICAgICB6aXAuZmlsZShpdCwgYXdhaXQgdGhpcy5vcGVuRmlsZShpdCwgZmFsc2UpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnByb2dyZXNzID0gMTtcclxuICAgICAgICAgICAgdGhpcy53b3JraW5nT24gPSAnU2VydmluZyB0aGUgWmlwJztcclxuICAgICAgICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IHppcC5nZW5lcmF0ZUFzeW5jKHsgdHlwZTogJ2Jsb2InIH0pO1xyXG4gICAgICAgICAgICBGaWxlU2F2ZXIuc2F2ZUFzKGJsb2IsIG5hbWUucmVwbGFjZSgnKicsICcnKSk7XHJcbiAgICAgICAgICAgIHRoaXMud29ya2luZ09uID0gJyc7XHJcbiAgICAgICAgICAgIHRoaXMud29ya2luZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLnByb2dyZXNzID0gMDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGRyYXdTdGFydChldmVudCkge1xyXG4gICAgICAgICAgICBpZiAoZXZlbnQuYnV0dG9uICE9PSAwKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB0aGlzLmRyYXdpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICBWdWUuc2V0KHRoaXMuZHJhd0JlZ2luLCAneCcsIGV2ZW50LngpO1xyXG4gICAgICAgICAgICBWdWUuc2V0KHRoaXMuZHJhd0JlZ2luLCAneScsIGV2ZW50LnkpO1xyXG4gICAgICAgICAgICB0aGlzLmRyYXdQb2ludHMgPSB7IHgxOiBldmVudC54LCB4MjogZXZlbnQueCwgeTE6IGV2ZW50LnksIHkyOiBldmVudC55IH07XHJcbiAgICAgICAgICAgIHRoaXMuZHJhd1BvcyA9IHsgdG9wOiBldmVudC55ICsgJ3B4JywgbGVmdDogZXZlbnQueCArICdweCcsIGhlaWdodDogMCArICdweCcsIHdpZHRoOiAwICsgJ3B4JyB9O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYm94SW5zaWRlKGEsIGIpIHtcclxuICAgICAgICAgICAgcmV0dXJuICEoYS54MSA+IGIueDIgfHxcclxuICAgICAgICAgICAgICAgIGEueDIgPCBiLngxIHx8XHJcbiAgICAgICAgICAgICAgICBhLnkxID4gYi55MiB8fFxyXG4gICAgICAgICAgICAgICAgYS55MiA8IGIueTEpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZHJhd0NvbnRpbnVlOiBfLnRocm90dGxlKGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuZHJhd2luZylcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgVnVlLnNldCh0aGlzLmRyYXdQb2ludHMsICd5MScsIE1hdGgubWluKGV2ZW50LnksIHRoaXMuZHJhd0JlZ2luLnkpKTsgLy8gdG9wXHJcbiAgICAgICAgICAgIFZ1ZS5zZXQodGhpcy5kcmF3UG9pbnRzLCAneDEnLCBNYXRoLm1pbihldmVudC54LCB0aGlzLmRyYXdCZWdpbi54KSk7IC8vIGxlZnRcclxuICAgICAgICAgICAgVnVlLnNldCh0aGlzLmRyYXdQb2ludHMsICd5MicsIE1hdGgubWF4KGV2ZW50LnksIHRoaXMuZHJhd0JlZ2luLnkpKTsgLy8gYm90dG9tXHJcbiAgICAgICAgICAgIFZ1ZS5zZXQodGhpcy5kcmF3UG9pbnRzLCAneDInLCBNYXRoLm1heChldmVudC54LCB0aGlzLmRyYXdCZWdpbi54KSk7IC8vIHJpZ2h0XHJcbiAgICAgICAgICAgIFZ1ZS5zZXQodGhpcy5kcmF3UG9zLCAndG9wJywgdGhpcy5kcmF3UG9pbnRzLnkxICsgJ3B4Jyk7XHJcbiAgICAgICAgICAgIFZ1ZS5zZXQodGhpcy5kcmF3UG9zLCAnbGVmdCcsIHRoaXMuZHJhd1BvaW50cy54MSArICdweCcpO1xyXG4gICAgICAgICAgICBWdWUuc2V0KHRoaXMuZHJhd1BvcywgJ2hlaWdodCcsIHRoaXMuZHJhd1BvaW50cy55MiAtIHRoaXMuZHJhd1BvaW50cy55MSArICdweCcpO1xyXG4gICAgICAgICAgICBWdWUuc2V0KHRoaXMuZHJhd1BvcywgJ3dpZHRoJywgdGhpcy5kcmF3UG9pbnRzLngyIC0gdGhpcy5kcmF3UG9pbnRzLngxICsgJ3B4Jyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy4kcmVmcy5leHBsb3Jlci5jaGlsZHJlbjtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGNoaWxkID0gY2hpbGRyZW4uaXRlbShpKTsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrLCBjaGlsZCA9IGNoaWxkcmVuLml0ZW0oaSkpIHtcclxuICAgICAgICAgICAgICAgIGlmICghKGNoaWxkLmNsYXNzTGlzdC5jb250YWlucygnZm9sZGVyJykgfHwgY2hpbGQuY2xhc3NMaXN0LmNvbnRhaW5zKCdmaWxlJykpKVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYm94ID0gY2hpbGQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBiID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHgxOiBib3gubGVmdCxcclxuICAgICAgICAgICAgICAgICAgICB5MTogYm94LnRvcCxcclxuICAgICAgICAgICAgICAgICAgICB4MjogYm94LnJpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgIHkyOiBib3guYm90dG9tXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYm94SW5zaWRlKGIsIHRoaXMuZHJhd1BvaW50cykpXHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQuY2xhc3NMaXN0LmFkZCgnaG92ZXInKTtcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNoaWxkLmNsYXNzTGlzdC5jb250YWlucygnaG92ZXInKSlcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZC5jbGFzc0xpc3QucmVtb3ZlKCdob3ZlcicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgMTUpLFxyXG4gICAgICAgIGRyYXdFbmQoZXZlbnQpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmRyYXdpbmcgfHwgZXZlbnQuYnV0dG9uICE9PSAwKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB0aGlzLmRyYXdpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLiRyZWZzLmV4cGxvcmVyLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdBY3RpdmUgPSBbXTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGNoaWxkID0gY2hpbGRyZW4uaXRlbShpKTsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrLCBjaGlsZCA9IGNoaWxkcmVuLml0ZW0oaSkpIHtcclxuICAgICAgICAgICAgICAgIGlmICghKGNoaWxkLmNsYXNzTGlzdC5jb250YWlucygnZm9sZGVyJykgfHwgY2hpbGQuY2xhc3NMaXN0LmNvbnRhaW5zKCdmaWxlJykpKVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLmNsYXNzTGlzdC5jb250YWlucygnaG92ZXInKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1NYXRjaCA9IC9tLSguKykvLmV4ZWMoY2hpbGQuaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtTWF0Y2ggJiYgaXRlbU1hdGNoWzFdKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdBY3RpdmUucHVzaChpdGVtTWF0Y2hbMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLmNsYXNzTGlzdC5yZW1vdmUoJ2hvdmVyJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCEoZXZlbnQuZ2V0TW9kaWZpZXJTdGF0ZSgnU3RhdGUnKSB8fCBldmVudC5zaGlmdEtleSkpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IHt9O1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGkgb2YgbmV3QWN0aXZlKVxyXG4gICAgICAgICAgICAgICAgVnVlLnNldCh0aGlzLmFjdGl2ZSwgaSwgdHJ1ZSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBnZXRQYXRoKGZvbGRlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yb290Um91dGUgKyB0aGlzLmRpciArIGZvbGRlcjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdldExpbmsoZmlsZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tYXBMaW5rKGZpbGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSk7XHJcbiIsImltcG9ydCBWdWUgZnJvbSAndnVlJztcclxuZXhwb3J0IGRlZmF1bHQgVnVlLmNvbXBvbmVudCgndGlueS1sb2FkaW5nJywge30pO1xyXG4iLCJpbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7XHJcbi8vIEB0cy1pZ25vcmVcclxuaW1wb3J0KCdAbWRpL2ZvbnQvY3NzL21hdGVyaWFsZGVzaWduaWNvbnMuY3NzJyk7XHJcbmltcG9ydCB7IC8vIEB0cy1pZ25vcmVcclxuQnV0dG9uLCBJbnB1dCwgRmllbGQsIEljb24sIExvYWRpbmcsIERpYWxvZywgTW9kYWwsIERyb3Bkb3duLCBEaWFsb2dQcm9ncmFtbWF0aWMsIFVwbG9hZCB9IGZyb20gJ2J1ZWZ5JztcclxuaW1wb3J0ICcuL2J1ZWZ5LnNjc3MnO1xyXG5pbXBvcnQgJy4vc3R5bGVzLnNjc3MnO1xyXG5pbXBvcnQgeyBtYWtlSW5pdGlhbGl6ZXJDb21wb25lbnQgfSBmcm9tICcuL3V0aWwnO1xyXG5pbXBvcnQgQXBwQ29tcG9uZW50IGZyb20gJy4vYXBwL2FwcCc7XHJcbmltcG9ydCBMb2FkaW5nQ29tcG9uZW50IGZyb20gJy4vY29tcG9uZW50cy9sb2FkaW5nL2xvYWRpbmcnO1xyXG5pbXBvcnQgVGlueUV4cGxvcmVyIGZyb20gJy4vY29tcG9uZW50cy9leHBsb3Jlci9leHBsb3Jlcic7XHJcbmltcG9ydCByb3V0ZXIgZnJvbSAnLi9yb3V0ZXInO1xyXG5jb25zb2xlLmxvZygnRW52aXJvbm1lbnQ6JywgcHJvY2Vzcy5lbnYuTk9ERV9FTlYpO1xyXG5WdWUudXNlKEJ1dHRvbik7XHJcblZ1ZS51c2UoSW5wdXQpO1xyXG5WdWUudXNlKEZpZWxkKTtcclxuVnVlLnVzZShJY29uKTtcclxuVnVlLnVzZShMb2FkaW5nKTtcclxuVnVlLnVzZShEaWFsb2cpO1xyXG5WdWUudXNlKE1vZGFsKTtcclxuVnVlLnVzZShEcm9wZG93bik7XHJcblZ1ZS51c2UoVXBsb2FkKTtcclxuY29uc3QgdiA9IG5ldyBWdWUoe1xyXG4gICAgcm91dGVyLFxyXG4gICAgZWw6ICcjYXBwJyxcclxuICAgIGNvbXBvbmVudHM6IHsgQXBwQ29tcG9uZW50LCBUaW55RXhwbG9yZXIgfSxcclxuICAgIGRhdGE6IHsgbG9hZGVkOiBmYWxzZSB9LFxyXG4gICAgcmVuZGVyKGgpIHtcclxuICAgICAgICBpZiAodGhpcy5sb2FkZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGgoQXBwQ29tcG9uZW50LCB7IGtleTogJ2FwcCcgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgcmV0dXJuIG1ha2VJbml0aWFsaXplckNvbXBvbmVudChoLCBMb2FkaW5nQ29tcG9uZW50KTtcclxuICAgIH1cclxufSk7XHJcbihhc3luYyAoKSA9PiB7XHJcbiAgICAvLyBobW1tXHJcbn0pKCkudGhlbigoKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZygnSW5pdGlhbGl6ZWQgTWFpbiEnKTtcclxuICAgIHYubG9hZGVkID0gdHJ1ZTtcclxufSwgZSA9PiB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbml0aWFsaXppbmcgbWFpbjogJywgZS5zdGFjayB8fCBlLm1lc3NhZ2UgfHwgZSk7XHJcbiAgICBEaWFsb2dQcm9ncmFtbWF0aWMuYWxlcnQoe1xyXG4gICAgICAgIHRpdGxlOiAnRXJyb3InLFxyXG4gICAgICAgIG1lc3NhZ2U6ICdFcnJvciBpbml0aWFsaXppbmcgbWFpbjogJyArIFN0cmluZyhlLm1lc3NhZ2UgfHwgZSksXHJcbiAgICAgICAgdHlwZTogJ2lzLWRhbmdlcidcclxuICAgIH0pO1xyXG59KTtcclxuIiwiaW1wb3J0IFZ1ZSBmcm9tICd2dWUnO1xyXG5leHBvcnQgZGVmYXVsdCBWdWUuY29tcG9uZW50KCd0aW55LW5vdC1mb3VuZCcsIHt9KTtcclxuIiwiaW1wb3J0IFZ1ZSBmcm9tICd2dWUnO1xyXG5pbXBvcnQgVnVlUm91dGVyIGZyb20gJ3Z1ZS1yb3V0ZXInO1xyXG5jb25zdCBIb21lUGFnZSA9ICgpID0+IGltcG9ydCgnLi9wYWdlcy9ob21lL2hvbWUnKTtcclxuY29uc3QgQnJvd3NlUGFnZSA9ICgpID0+IGltcG9ydCgnLi9wYWdlcy9icm93c2UvYnJvd3NlJyk7XHJcbmNvbnN0IFNldHRpbmdzUGFnZSA9ICgpID0+IGltcG9ydCgnLi9wYWdlcy9zZXR0aW5ncy9zZXR0aW5ncycpO1xyXG5jb25zdCBMb2dpblBhZ2UgPSAoKSA9PiBpbXBvcnQoJy4vcGFnZXMvbG9naW4vbG9naW4nKTtcclxuaW1wb3J0IE5vdEZvdW5kUGFnZSBmcm9tICcuL3BhZ2VzL25vdC1mb3VuZC9ub3QtZm91bmQnO1xyXG5pbXBvcnQgZGF0YUJ1cyBmcm9tICcuL3NlcnZpY2VzL2RhdGEtYnVzJztcclxuVnVlLnVzZShWdWVSb3V0ZXIpO1xyXG5jb25zdCByb3V0ZXIgPSBuZXcgVnVlUm91dGVyKHtcclxuICAgIG1vZGU6IGRvY3MgPyAnaGFzaCcgOiAnaGlzdG9yeScsXHJcbiAgICByb3V0ZXM6IFtcclxuICAgICAgICB7IHBhdGg6ICcvJywgcmVkaXJlY3Q6ICcvYnJvd3NlJywgbmFtZTogJ2hvbWUnIH0sXHJcbiAgICAgICAgeyBwYXRoOiAnL2Jyb3dzZSoqJywgY29tcG9uZW50OiBCcm93c2VQYWdlLCBuYW1lOiAnYnJvd3NlJyB9LFxyXG4gICAgICAgIC8vIHsgcGF0aDogJy9leHBsb3JlLzpvcmlnaW4vOnVzZXJuYW1lLzpzaGFyZS8qKicsIGNvbXBvbmVudDogRXhwbG9yZVBhZ2UsIG5hbWU6ICdleHBsb3JlJyB9LCAvLyBvdGhlcidzIGZpbGVzXHJcbiAgICAgICAgeyBwYXRoOiAnL3NldHRpbmdzJywgY29tcG9uZW50OiBTZXR0aW5nc1BhZ2UsIG5hbWU6ICdzZXR0aW5ncycgfSxcclxuICAgICAgICB7IHBhdGg6ICcvbG9naW4nLCBjb21wb25lbnQ6IExvZ2luUGFnZSwgbmFtZTogJ2xvZ2luJyB9LFxyXG4gICAgICAgIHsgcGF0aDogJyoqJywgY29tcG9uZW50OiBOb3RGb3VuZFBhZ2UsIG5hbWU6ICdub3QtZm91bmQnIH1cclxuICAgIF1cclxufSk7XHJcbnJvdXRlci5iZWZvcmVFYWNoKCh0bywgZnJvbSwgbmV4dCkgPT4ge1xyXG4gICAgaWYgKHRvLnBhdGggIT09IGZyb20ucGF0aCkge1xyXG4gICAgICAgIGlmICh0by5wYXRoLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgY29uc3Qgc2RpciA9IFtdO1xyXG4gICAgICAgICAgICBsZXQgYnVmZiA9ICcnO1xyXG4gICAgICAgICAgICB0by5wYXRoLnNsaWNlKDEpLnNwbGl0KCcvJykuZm9yRWFjaCh2ID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghdilcclxuICAgICAgICAgICAgICAgICAgICBidWZmICs9ICcvJztcclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChidWZmKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZGlyLnB1c2goYnVmZiArIHYpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2Rpci5wdXNoKHYpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZG9jdW1lbnQudGl0bGUgPSAndGlueSBmaWxlcyAtICcgKyBzZGlyLmpvaW4oJyAtICcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIGRvY3VtZW50LnRpdGxlID0gJ3RpbnkgZmlsZXMnO1xyXG4gICAgfVxyXG4gICAgaWYgKCFkYXRhQnVzLmhvbWVUb2tlbiAmJiAhL15cXC9sb2dpbi8udGVzdCh0by5wYXRoKSlcclxuICAgICAgICBuZXh0KCcvbG9naW4/Z290bz0nICsgdG8uZnVsbFBhdGgpO1xyXG4gICAgbmV4dCgpO1xyXG59KTtcclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xyXG4iLCJjbGFzcyBEYXRhQnVzIHtcclxuICAgIGdldCBwcml2YXRlU2NvcGUoKSB7IHJldHVybiAnL2FwcGRhdGEvdGlueS1maWxlcyc7IH1cclxuICAgIGdldCBwdWJsaWNTY29wZSgpIHsgcmV0dXJuICcvcHVibGljL3RpbnktZmlsZXMnOyB9XHJcbiAgICBnZXQgaG9tZVVybCgpIHsgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdob21lX3VybCcpOyB9XHJcbiAgICBzZXQgaG9tZVVybCh1cmwpIHsgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2hvbWVfdXJsJywgdXJsKTsgfVxyXG4gICAgZ2V0IGhvbWVUb2tlbigpIHsgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdob21lX3Rva2VuJyk7IH1cclxuICAgIHNldCBob21lVG9rZW4oc2lkKSB7IGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdob21lX3Rva2VuJywgc2lkKTsgfVxyXG4gICAgZ2V0IHN0b3JlVXJsKCkgeyByZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3N0b3JlX3VybCcpOyB9XHJcbiAgICBzZXQgc3RvcmVVcmwodXJsKSB7IGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdzdG9yZV91cmwnLCB1cmwpOyB9XHJcbiAgICBnZXQgc3RvcmVUb2tlbigpIHsgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzdG9yZV90b2tlbicpOyB9XHJcbiAgICBzZXQgc3RvcmVUb2tlbihzaWQpIHsgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3N0b3JlX3Rva2VuJywgc2lkKTsgfVxyXG4gICAgZ2V0IHN0b3JlU2NvcGVzKCkgeyByZXR1cm4gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc3RvcmVfc2NvcGVzJykpOyB9XHJcbiAgICBzZXQgc3RvcmVTY29wZXMoc2NvcGVzKSB7IGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdzdG9yZV9zY29wZXMnLCBKU09OLnN0cmluZ2lmeShzY29wZXMpKTsgfVxyXG4gICAgZ2V0IGRiVXJsKCkgeyByZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2RiX3VybCcpOyB9XHJcbiAgICBzZXQgZGJVcmwodXJsKSB7IGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdkYl91cmwnLCB1cmwpOyB9XHJcbiAgICBnZXQgZGJUb2tlbigpIHsgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdkYl90b2tlbicpOyB9XHJcbiAgICBzZXQgZGJUb2tlbihzaWQpIHsgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2RiX3Rva2VuJywgc2lkKTsgfVxyXG4gICAgZ2V0IGluZm9BcnJheSgpIHtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICB7IGlkOiAnaG9tZScsIHVybDogdGhpcy5ob21lVXJsLCB0b2tlbjogdGhpcy5ob21lVG9rZW4gfSxcclxuICAgICAgICAgICAgeyBpZDogJ3N0b3JlJywgdXJsOiB0aGlzLnN0b3JlVXJsLCB0b2tlbjogdGhpcy5zdG9yZVRva2VuLCBzY29wZXM6IHRoaXMuc3RvcmVTY29wZXMgfSxcclxuICAgICAgICAgICAgeyBpZDogJ2RiJywgdXJsOiB0aGlzLmRiVXJsLCB0b2tlbjogdGhpcy5kYlRva2VuIH1cclxuICAgICAgICBdO1xyXG4gICAgfVxyXG4gICAgY2xlYXIoKSB7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7XHJcbiAgICB9XHJcbn1cclxuO1xyXG5leHBvcnQgZGVmYXVsdCBuZXcgRGF0YUJ1cygpO1xyXG4iLCJpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xyXG5pbXBvcnQgZGF0YUJ1cyBmcm9tICcuL2RhdGEtYnVzJztcclxuaW1wb3J0IHsgaGFuZGxlRXJyb3IgfSBmcm9tICcuLi91dGlsJztcclxuY2xhc3MgVGlueUFwaSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLl9hdXRoID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICAgICAgICAgIGFzeW5jIGxvZ2luKG9yaWdpbiwgcGVyc29uYWwgPSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzcGxlZXQgPSBvcmlnaW4uc3BsaXQoJ0AnKTtcclxuICAgICAgICAgICAgICAgIGxldCB1c2VybmFtZSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNwbGVldFsxXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbiA9IHNwbGVldFsxXTtcclxuICAgICAgICAgICAgICAgICAgICB1c2VybmFtZSA9IHNwbGVldFswXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGRhdGFCdXMuaG9tZVVybCA9IGxvY2F0aW9uLnByb3RvY29sICsgJy8vJyArIG9yaWdpbjtcclxuICAgICAgICAgICAgICAgIGRhdGFCdXMuc3RvcmVTY29wZXMgPSBwZXJzb25hbCA/IFtkYXRhQnVzLnByaXZhdGVTY29wZSwgZGF0YUJ1cy5wdWJsaWNTY29wZV0gOiBbJy8nXTtcclxuICAgICAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSBsb2NhdGlvbi5wcm90b2NvbCArICcvLycgKyBvcmlnaW4gKyAnL2F1dGgvaGFuZHNoYWtlL3N0YXJ0J1xyXG4gICAgICAgICAgICAgICAgICAgICsgJz9hcHA9dGlueS1maWxlcydcclxuICAgICAgICAgICAgICAgICAgICArICcmcmVkaXJlY3Q9JyArIGxvY2F0aW9uLm9yaWdpbiArICcvbG9naW4nXHJcbiAgICAgICAgICAgICAgICAgICAgKyAnJnNjb3Blcz1ob21lLHN0b3JlLGRiJ1xyXG4gICAgICAgICAgICAgICAgICAgICsgKHBlcnNvbmFsID8gYCZmaWxlU2NvcGVzPVtcIiR7ZGF0YUJ1cy5wcml2YXRlU2NvcGV9XCIsIFwiJHtkYXRhQnVzLnB1YmxpY1Njb3BlfVwiXWAgOiAnJmZpbGVTY29wZXM9W1wiL1wiXScpXHJcbiAgICAgICAgICAgICAgICAgICAgKyAodXNlcm5hbWUgPyAnJnVzZXJuYW1lPScgKyB1c2VybmFtZSA6ICcnKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYXN5bmMgZ2V0VG9rZW5zKG9yaWdpbiwgY29kZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdG9rZW5zID0gYXdhaXQgYXhpb3MucG9zdChvcmlnaW4gKyAnL2F1dGgvdG9rZW4nLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwOiAndGlueS1maWxlcycsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVkaXJlY3Q6IGxvY2F0aW9uLm9yaWdpbiArICcvbG9naW4nLFxyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlczogJ2hvbWUsc3RvcmUsZGInLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgc2VjcmV0OiAna2V5Ym9hcmRjYXQnXHJcbiAgICAgICAgICAgICAgICB9KS50aGVuKHJlcyA9PiByZXMuZGF0YSwgZSA9PiB7IGhhbmRsZUVycm9yKGUpOyB0aHJvdyBlOyB9KTtcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaWQgb2YgT2JqZWN0LmtleXModG9rZW5zKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFCdXNbaWQgKyAnVXJsJ10gPSB0b2tlbnNbaWRdLnVybDtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhQnVzW2lkICsgJ1Rva2VuJ10gPSB0b2tlbnNbaWRdLnRva2VuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBhc3luYyByZWZyZXNoKCkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoZGF0YUJ1cy5pbmZvQXJyYXkubWFwKCh7IGlkLCB1cmwsIHRva2VuIH0pID0+IGF4aW9zLmdldChgJHt1cmx9L2F1dGgvcmVmcmVzaD9zaWQ9JHt0b2tlbn1gKVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKHJlcyA9PiBkYXRhQnVzW2lkICsgJ1Rva2VuJ10gPSBTdHJpbmcocmVzLmRhdGEpLCBoYW5kbGVFcnJvcikpKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYXN5bmMgbG9nb3V0KCkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoZGF0YUJ1cy5pbmZvQXJyYXkubWFwKCh7IHVybCwgdG9rZW4gfSkgPT4gYXhpb3MucG9zdChgJHt1cmx9L2F1dGgvbG9nb3V0P3NpZD0ke3Rva2VufWApKSlcclxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgZGF0YUJ1cy5jbGVhcigpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX2ZpbGVzID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBSZWFkIGEgZmlsZVxyXG4gICAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCB0aGUgZmlsZSBwYXRoIHRvIHJlYWRcclxuICAgICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHJlc3BvbnNlVHlwZSAob3B0aW9uYWwpIHRoZSByZXNwb25zZSB0eXBlIGZvciBheGlvcyB0byBjYXN0IGludG9cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGFzeW5jIHJlYWQocGF0aCwgcmVzcG9uc2VUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KGRhdGFCdXMuc3RvcmVVcmwgKyAnL2ZpbGVzJyArIHBhdGggKyAnP3NpZD0nICsgZGF0YUJ1cy5zdG9yZVRva2VuLCB7IHJlc3BvbnNlVHlwZSB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKHJlcyA9PiByZXMuZGF0YSlcclxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7IGhhbmRsZUVycm9yKGUpOyB0aHJvdyBlOyB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIEdldCB0aGUgaHJlZiB0byByZWFkIHRoZSBmaWxlXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIHRoZSBmaWxlIHBhdGggdG8gcmVhZFxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgZ2V0UmVhZFVybChwYXRoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YUJ1cy5zdG9yZVVybCArICcvZmlsZXMnICsgcGF0aCArICc/c2lkPScgKyBkYXRhQnVzLnN0b3JlVG9rZW47XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBXcml0ZSBhIHJhdyBzdHJlYW1cclxuICAgICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggdGhlIGZpbGUgcGF0aFxyXG4gICAgICAgICAgICAgKiBAcGFyYW0ge0FycmF5QnVmZmVyIH0gZGF0YSB0aGUgZGF0YSB0byB3cml0ZVxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgYXN5bmMgd3JpdGUocGF0aCwgZGF0YSwgY29udGVudFR5cGUsIG9uVXBsb2FkUHJvZ3Jlc3MgPSAoKSA9PiBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBheGlvcy5wdXQoYCR7ZGF0YUJ1cy5zdG9yZVVybH0vZmlsZXMke3BhdGh9P3NpZD0ke2RhdGFCdXMuc3RvcmVUb2tlbn0ke2NvbnRlbnRUeXBlID8gJyZjb250ZW50VHlwZT0nICsgY29udGVudFR5cGUgOiAnJ31gLCBkYXRhLCB7IGhlYWRlcnM6IGNvbnRlbnRUeXBlID8geyAnQ29udGVudC1UeXBlJzogY29udGVudFR5cGUgfSA6IHVuZGVmaW5lZCwgb25VcGxvYWRQcm9ncmVzcyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHsgaGFuZGxlRXJyb3IoZSk7IHRocm93IGU7IH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogV3JpdGUgYSBmaWxlXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIHRoZSBmaWxlIHBhdGhcclxuICAgICAgICAgICAgICogQHBhcmFtIHtGaWxlfSBmaWxlIHRoZSBmaWxlIHRvIHdyaXRlXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBhc3luYyB3cml0ZUZpbGUocGF0aCwgZmlsZSwgb25VcGxvYWRQcm9ncmVzcyA9ICgpID0+IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBmaWxlKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF4aW9zLnB1dChkYXRhQnVzLnN0b3JlVXJsICsgJy9maWxlcycgKyBwYXRoICsgJz9zaWQ9JyArIGRhdGFCdXMuc3RvcmVUb2tlbiwgZm9ybURhdGEsIHsgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnIH0sIG9uVXBsb2FkUHJvZ3Jlc3MgfSlcclxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7IGhhbmRsZUVycm9yKGUpOyB0aHJvdyBlOyB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIERlbGV0ZSBhIGZpbGVcclxuICAgICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggdGhlIGZpbGUgcGF0aFxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgYXN5bmMgZGVsZXRlKHBhdGgpIHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGF4aW9zLmRlbGV0ZShkYXRhQnVzLnN0b3JlVXJsICsgJy9maWxlcycgKyBwYXRoICsgJz9zaWQ9JyArIGRhdGFCdXMuc3RvcmVUb2tlbilcclxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7IGhhbmRsZUVycm9yKGUpOyB0aHJvdyBlOyB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYXN5bmMgbGlzdEZpbGVzKHBhdGgsIGFkdmFuY2UpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoYCR7ZGF0YUJ1cy5zdG9yZVVybH0vbGlzdC1maWxlcyR7cGF0aC5sZW5ndGggPiAwICYmICFwYXRoLnN0YXJ0c1dpdGgoJy8nKSA/ICcvJyA6ICcnfSR7cGF0aH1gXHJcbiAgICAgICAgICAgICAgICAgICAgKyBgP3NpZD0ke2RhdGFCdXMuc3RvcmVUb2tlbn0ke2FkdmFuY2UgPyAnJmFkdmFuY2U9dHJ1ZScgOiAnJ31gKVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKHJlcyA9PiByZXMuZGF0YSlcclxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7IGhhbmRsZUVycm9yKGUpOyB0aHJvdyBlOyB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYXN5bmMgZ2V0U3RvcmFnZVN0YXRzKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldChkYXRhQnVzLnN0b3JlVXJsICsgJy9zdG9yYWdlLXN0YXRzJyArICc/c2lkPScgKyBkYXRhQnVzLnN0b3JlVG9rZW4pXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzID0+IHJlcy5kYXRhKVxyXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHsgaGFuZGxlRXJyb3IoZSk7IHRocm93IGU7IH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBhc3luYyByZWFkUHVibGljKHVzZXIsIHBhdGgsIHJlc3BvbnNlVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldChkYXRhQnVzLnN0b3JlVXJsICsgJy9wdWJsaWMvJyArIHVzZXIgKyBwYXRoLCB7IHJlc3BvbnNlVHlwZSB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKHJlcyA9PiByZXMuZGF0YSlcclxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7IGhhbmRsZUVycm9yKGUpOyB0aHJvdyBlOyB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ2V0UHVibGljUmVhZFVybCh1c2VyLCBwYXRoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YUJ1cy5zdG9yZVVybCArICcvcHVibGljLycgKyB1c2VyICsgcGF0aDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZ2V0IGF1dGgoKSB7IHJldHVybiB0aGlzLl9hdXRoOyB9XHJcbiAgICBhc3luYyBkZWxldGVTZWxmKCkge1xyXG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKGRhdGFCdXMuaW5mb0FycmF5Lm1hcCgoeyB1cmwsIHRva2VuIH0pID0+IGF4aW9zLmRlbGV0ZShgJHt1cmx9L3NlbGY/c2lkPSR7dG9rZW59YClcclxuICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9yKSkpO1xyXG4gICAgICAgIGRhdGFCdXMuY2xlYXIoKTtcclxuICAgIH1cclxuICAgIGdldCBmaWxlcygpIHsgcmV0dXJuIHRoaXMuX2ZpbGVzOyB9XHJcbn1cclxuO1xyXG5leHBvcnQgZGVmYXVsdCBuZXcgVGlueUFwaSgpO1xyXG4iLCJpbXBvcnQgeyBEaWFsb2dQcm9ncmFtbWF0aWMgfSBmcm9tICdidWVmeSc7XHJcbmV4cG9ydCBmdW5jdGlvbiBtYWtlQ2VudGVyU3R5bGUoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcclxuICAgICAgICBmbGV4RmxvdzogJ2NvbHVtbicsXHJcbiAgICAgICAgZmxleFdyYXA6ICdub3dyYXAnLFxyXG4gICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxyXG4gICAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcclxuICAgICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcclxuICAgICAgICB0b3A6ICcwJyxcclxuICAgICAgICBsZWZ0OiAnMCcsXHJcbiAgICAgICAgaGVpZ2h0OiAnMTAwJScsXHJcbiAgICAgICAgd2lkdGg6ICcxMDAlJyxcclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd0cmFuc3BhcmVudCdcclxuICAgIH07XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VJbml0aWFsaXplckNvbXBvbmVudChoLCBsb2FkaW5nQ29tcG9uZW50KSB7XHJcbiAgICByZXR1cm4gaCgnZGl2JywgeyBzdGF0aWNTdHlsZTogbWFrZUNlbnRlclN0eWxlKCkgfSwgW2gobG9hZGluZ0NvbXBvbmVudCldKTtcclxufVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlRXJyb3IoZSwgYWN0aW9uKSB7XHJcbiAgICB2YXIgX2EsIF9iO1xyXG4gICAgY29uc3QgbWVzc2FnZSA9ICgoX2IgPSAoX2EgPSBlLnJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZGF0YSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLm1lc3NhZ2UpIHx8IGUubWVzc2FnZSB8fCBTdHJpbmcoZSk7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzID0+IERpYWxvZ1Byb2dyYW1tYXRpYy5hbGVydCh7XHJcbiAgICAgICAgdGl0bGU6IGFjdGlvbiA/ICdFcnJvciAnICsgYWN0aW9uIDogJ0Vycm9yJyxcclxuICAgICAgICBtZXNzYWdlLFxyXG4gICAgICAgIHR5cGU6ICdpcy1kYW5nZXInLFxyXG4gICAgICAgIGhhc0ljb246IHRydWUsXHJcbiAgICAgICAgb25Db25maXJtOiAoKSA9PiByZXMoKSxcclxuICAgICAgICBvbkNhbmNlbDogKCkgPT4gcmVzKClcclxuICAgIH0pKTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmlsZUljb24oY29udGVudFR5cGUpIHtcclxuICAgIGlmIChjb250ZW50VHlwZS5zdGFydHNXaXRoKCdhcHBsaWNhdGlvbi9qc29uJykpXHJcbiAgICAgICAgcmV0dXJuIHsgZmlsZUljb246ICdmaWxlLWNvZGUnLCBmaWxlSWNvbkNvbG9yOiAnI2Y0NDMzNicgfTtcclxuICAgIGlmIChjb250ZW50VHlwZS5zdGFydHNXaXRoKCdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nKSlcclxuICAgICAgICByZXR1cm4geyBmaWxlSWNvbjogJ2ZpbGUtcXVlc3Rpb24nLCBmaWxlSWNvbkNvbG9yOiAnI0JEQkRCRCcgfTtcclxuICAgIGlmIChjb250ZW50VHlwZS5zdGFydHNXaXRoKCd0ZXh0JykpXHJcbiAgICAgICAgcmV0dXJuIHsgZmlsZUljb246ICdmaWxlLWRvY3VtZW50JywgZmlsZUljb25Db2xvcjogJyMzRjUxQjUnIH07XHJcbiAgICBpZiAoY29udGVudFR5cGUuc3RhcnRzV2l0aCgnYXBwbGljYXRpb24vcGRmJykpXHJcbiAgICAgICAgcmV0dXJuIHsgZmlsZUljb246ICdmaWxlLXBkZicsIGZpbGVJY29uQ29sb3I6ICcjM0Y1MUI1JyB9O1xyXG4gICAgaWYgKGNvbnRlbnRUeXBlLnN0YXJ0c1dpdGgoJ2F1ZGlvJykgfHwgY29udGVudFR5cGUuc3RhcnRzV2l0aCgndmlkZW8vb2dnJykpXHJcbiAgICAgICAgcmV0dXJuIHsgZmlsZUljb246ICdmaWxlLW11c2ljJywgZmlsZUljb25Db2xvcjogJyNFOTFFNjMnIH07XHJcbiAgICBpZiAoY29udGVudFR5cGUuc3RhcnRzV2l0aCgnaW1hZ2UnKSlcclxuICAgICAgICByZXR1cm4geyBmaWxlSWNvbjogJ2ZpbGUtaW1hZ2UnLCBmaWxlSWNvbkNvbG9yOiAnIzRDQUY1MCcgfTtcclxuICAgIGlmIChjb250ZW50VHlwZS5zdGFydHNXaXRoKCd2aWRlbycpKVxyXG4gICAgICAgIHJldHVybiB7IGZpbGVJY29uOiAnZmlsZS12aWRlbycsIGZpbGVJY29uQ29sb3I6ICcjNjczQUI3JyB9O1xyXG4gICAgcmV0dXJuIHsgZmlsZUljb246ICdmaWxlJywgZmlsZUljb25Db2xvcjogJyM3ODkwOUMnIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9hcHAudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTVkODdlN2VhJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2FwcC50cz92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vYXBwLnRzP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5pbXBvcnQgc3R5bGUwIGZyb20gXCIuL2FwcC52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPXNjc3MmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkge1xuICB2YXIgYXBpID0gcmVxdWlyZShcIkM6XFxcXFVzZXJzXFxcXG10YzEyXFxcXERvY3VtZW50c1xcXFxXb3JrXFxcXE1lXFxcXHRpbnktZmlsZXNcXFxcbm9kZV9tb2R1bGVzXFxcXHZ1ZS1ob3QtcmVsb2FkLWFwaVxcXFxkaXN0XFxcXGluZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnNWQ4N2U3ZWEnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnNWQ4N2U3ZWEnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnNWQ4N2U3ZWEnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL2FwcC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NWQ4N2U3ZWEmXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignNWQ4N2U3ZWEnLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNyYy9hcHAvYXBwLnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vZXhwbG9yZXIudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTQ5OTc1OGFmJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2V4cGxvcmVyLnRzP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9leHBsb3Jlci50cz92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuaW1wb3J0IHN0eWxlMCBmcm9tIFwiLi9leHBsb3Jlci52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPXNjc3MmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkge1xuICB2YXIgYXBpID0gcmVxdWlyZShcIkM6XFxcXFVzZXJzXFxcXG10YzEyXFxcXERvY3VtZW50c1xcXFxXb3JrXFxcXE1lXFxcXHRpbnktZmlsZXNcXFxcbm9kZV9tb2R1bGVzXFxcXHZ1ZS1ob3QtcmVsb2FkLWFwaVxcXFxkaXN0XFxcXGluZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnNDk5NzU4YWYnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnNDk5NzU4YWYnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnNDk5NzU4YWYnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL2V4cGxvcmVyLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD00OTk3NThhZiZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCc0OTk3NThhZicsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2NvbXBvbmVudHMvZXhwbG9yZXIvZXhwbG9yZXIudnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9sb2FkaW5nLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1kOTYwYWRlZSZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9sb2FkaW5nLnRzP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9sb2FkaW5nLnRzP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5pbXBvcnQgc3R5bGUwIGZyb20gXCIuL2xvYWRpbmcudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1zY3NzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCJDOlxcXFxVc2Vyc1xcXFxtdGMxMlxcXFxEb2N1bWVudHNcXFxcV29ya1xcXFxNZVxcXFx0aW55LWZpbGVzXFxcXG5vZGVfbW9kdWxlc1xcXFx2dWUtaG90LXJlbG9hZC1hcGlcXFxcZGlzdFxcXFxpbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJ2Q5NjBhZGVlJykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJ2Q5NjBhZGVlJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJ2Q5NjBhZGVlJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9sb2FkaW5nLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1kOTYwYWRlZSZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCdkOTYwYWRlZScsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2NvbXBvbmVudHMvbG9hZGluZy9sb2FkaW5nLnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vbm90LWZvdW5kLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD02NGY0NWY2ZCZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9ub3QtZm91bmQudHM/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL25vdC1mb3VuZC50cz92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuaW1wb3J0IHN0eWxlMCBmcm9tIFwiLi9ub3QtZm91bmQudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1zY3NzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCJDOlxcXFxVc2Vyc1xcXFxtdGMxMlxcXFxEb2N1bWVudHNcXFxcV29ya1xcXFxNZVxcXFx0aW55LWZpbGVzXFxcXG5vZGVfbW9kdWxlc1xcXFx2dWUtaG90LXJlbG9hZC1hcGlcXFxcZGlzdFxcXFxpbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJzY0ZjQ1ZjZkJykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJzY0ZjQ1ZjZkJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJzY0ZjQ1ZjZkJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9ub3QtZm91bmQudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTY0ZjQ1ZjZkJlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJzY0ZjQ1ZjZkJywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvcGFnZXMvbm90LWZvdW5kL25vdC1mb3VuZC52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuL2FwcC50cz92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi9hcHAudHM/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCIiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuL2V4cGxvcmVyLnRzP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuL2V4cGxvcmVyLnRzP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi9sb2FkaW5nLnRzP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuL2xvYWRpbmcudHM/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCIiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXSEuL25vdC1mb3VuZC50cz92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTFbMF0ucnVsZXNbMF0hLi9ub3QtZm91bmQudHM/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCIiLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF9jKFxuICAgIFwiZGl2XCIsXG4gICAgeyBhdHRyczogeyBpZDogXCJhcHBcIiB9IH0sXG4gICAgW1xuICAgICAgX3ZtLmxvZ2dlZEluXG4gICAgICAgID8gX2MoXG4gICAgICAgICAgICBcImItZHJvcGRvd25cIixcbiAgICAgICAgICAgIHsgYXR0cnM6IHsgaWQ6IFwiYWNjb3VudC1kcm9wZG93blwiLCBwb3NpdGlvbjogXCJpcy1ib3R0b20tbGVmdFwiIH0gfSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgXCJidXR0b25cIixcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJoYXMtYmFja2dyb3VuZC1wcmltYXJ5XCIsXG4gICAgICAgICAgICAgICAgICBhdHRyczogeyBzbG90OiBcInRyaWdnZXJcIiwgaWQ6IFwibWVudS1mYWJcIiB9LFxuICAgICAgICAgICAgICAgICAgc2xvdDogXCJ0cmlnZ2VyXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFtfYyhcImItaWNvblwiLCB7IGF0dHJzOiB7IGljb246IFwiYWNjb3VudFwiIH0gfSldLFxuICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgXCJiLWRyb3Bkb3duLWl0ZW1cIixcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJob3Zlci1pbmZvXCIsXG4gICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5zZXR0aW5ncygpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFtfdm0uX3YoXCJzZXR0aW5nc1wiKV1cbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgXCJiLWRyb3Bkb3duLWl0ZW1cIixcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5sb2dvdXQoKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBbX3ZtLl92KFwibG9nb3V0XCIpXVxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICBcImItZHJvcGRvd24taXRlbVwiLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImhvdmVyLWRhbmdlclwiLFxuICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0uZGVsZXRlU2VsZigpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgIF9jKFwiYi1pY29uXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgaWNvbjogXCJhbGVydC1jaXJjbGUtb3V0bGluZVwiLCBzaXplOiBcImlzLXNtYWxsXCIgfVxuICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICBfdm0uX3YoXCLCoGRlbGV0ZSBzZWxmXCIpXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAxXG4gICAgICAgICAgKVxuICAgICAgICA6IF92bS5fZSgpLFxuICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgIF9jKFwicm91dGVyLXZpZXdcIilcbiAgICBdLFxuICAgIDFcbiAgKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsInZhciByZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXCJkaXZcIiwgeyBhdHRyczogeyBpZDogXCJ0aW55LWV4cGxvcmVyXCIgfSB9LCBbXG4gICAgX2MoXCJkaXZcIiwgeyBhdHRyczogeyBpZDogXCJoZWFkZXJcIiB9IH0sIFtcbiAgICAgIF9jKFwiZGl2XCIsIHtcbiAgICAgICAgc3RhdGljQ2xhc3M6IFwiaGFzLWJhY2tncm91bmQtcHJpbWFyeVwiLFxuICAgICAgICBzdHlsZTogeyB3aWR0aDogKF92bS5wcm9ncmVzcyAqIDEwMCkudG9GaXhlZCgyKSArIFwiJVwiIH0sXG4gICAgICAgIGF0dHJzOiB7IGlkOiBcInByb2dyZXNzXCIgfVxuICAgICAgfSksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXG4gICAgICAgIFwiZGl2XCIsXG4gICAgICAgIHsgYXR0cnM6IHsgaWQ6IFwicGF0aFwiIH0gfSxcbiAgICAgICAgW1xuICAgICAgICAgIF9jKFxuICAgICAgICAgICAgXCJidXR0b25cIixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiYnV0dG9uIGlzLXNtYWxsIGlzLWRhcmtcIixcbiAgICAgICAgICAgICAgc3RhdGljU3R5bGU6IHsgXCJtYXJnaW4tcmlnaHRcIjogXCIwLjVyZW1cIiB9LFxuICAgICAgICAgICAgICBhdHRyczogeyBkaXNhYmxlZDogX3ZtLnNwbGl0RGlyLmxlbmd0aCA8PSAxIH0sXG4gICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5nb3RvKF92bS5zcGxpdERpci5sZW5ndGggLSAyKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgX2MoXCJiLWljb25cIiwge1xuICAgICAgICAgICAgICAgIHN0YXRpY1N0eWxlOiB7IGNvbG9yOiBcIiNGRkQ1NEZcIiB9LFxuICAgICAgICAgICAgICAgIGF0dHJzOiB7IGljb246IFwiZm9sZGVyLXVwbG9hZFwiIH1cbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAxXG4gICAgICAgICAgKSxcbiAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgIF92bS5fbChfdm0uc3BsaXREaXIsIGZ1bmN0aW9uKGQsIGkpIHtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgIFwiYVwiLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGtleTogXCJhLVwiICsgaSxcbiAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcInRhZ1wiLFxuICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgdGl0bGU6IGQgfSxcbiAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLmdvdG8oaSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgW19jKFwic3BhblwiLCBbX3ZtLl92KF92bS5fcyhkKSldKV1cbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgaSArIDEgPCBfdm0uc3BsaXREaXIubGVuZ3RoXG4gICAgICAgICAgICAgICAgPyBfYyhcbiAgICAgICAgICAgICAgICAgICAgXCJzcGFuXCIsXG4gICAgICAgICAgICAgICAgICAgIHsga2V5OiBcInMtXCIgKyBpIH0sXG4gICAgICAgICAgICAgICAgICAgIFtfYyhcImItaWNvblwiLCB7IGF0dHJzOiB7IGljb246IFwiY2hldnJvbi1yaWdodFwiIH0gfSldLFxuICAgICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgOiBfdm0uX2UoKVxuICAgICAgICAgICAgXVxuICAgICAgICAgIH0pXG4gICAgICAgIF0sXG4gICAgICAgIDJcbiAgICAgICksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXCJkaXZcIiwgeyBhdHRyczogeyBpZDogXCJidXR0b25zXCIgfSB9LCBbXG4gICAgICAgIF9jKFwiZGl2XCIsIHtcbiAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG5hbWU6IFwic2hvd1wiLFxuICAgICAgICAgICAgICByYXdOYW1lOiBcInYtc2hvd1wiLFxuICAgICAgICAgICAgICB2YWx1ZTogX3ZtLndvcmtpbmcsXG4gICAgICAgICAgICAgIGV4cHJlc3Npb246IFwid29ya2luZ1wiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXSxcbiAgICAgICAgICBhdHRyczogeyBpZDogXCJ0aW55LWxvYWRpbmctc21hbGxcIiB9XG4gICAgICAgIH0pLFxuICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICBfYyhcbiAgICAgICAgICBcImJ1dHRvblwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImJ1dHRvbiBpcy1zbWFsbCBpcy1kYXJrXCIsXG4gICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICBkaXNhYmxlZDogIV92bS5hbnlBY3RpdmUgfHwgX3ZtLndvcmtpbmcsXG4gICAgICAgICAgICAgIHRpdGxlOiBcIkRvd25sb2FkXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF92bS5kb3dubG9hZFNlbGVjdGVkKClcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgW19jKFwiYi1pY29uXCIsIHsgYXR0cnM6IHsgaWNvbjogXCJkb3dubG9hZFwiIH0gfSldLFxuICAgICAgICAgIDFcbiAgICAgICAgKVxuICAgICAgXSlcbiAgICBdKSxcbiAgICBfdm0uX3YoXCIgXCIpLFxuICAgIF9jKFxuICAgICAgXCJkaXZcIixcbiAgICAgIHsgc3RhdGljQ2xhc3M6IFwiZXhwLWdyaWRcIiwgYXR0cnM6IHsgaWQ6IFwiZXhwbG9yZXItaGVhZGVyXCIgfSB9LFxuICAgICAgW1xuICAgICAgICAhX3ZtLnZpZXdPbmx5XG4gICAgICAgICAgPyBfYyhcbiAgICAgICAgICAgICAgXCJidXR0b25cIixcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImJ1dHRvbiBpcy1zbWFsbCBpcy1kYXJrXCIsXG4gICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5uZXdGb2xkZXIoKVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIF9jKFwiYi1pY29uXCIsIHtcbiAgICAgICAgICAgICAgICAgIHN0YXRpY1N0eWxlOiB7IGNvbG9yOiBcIiNGRkQ1NEZcIiB9LFxuICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgaWNvbjogXCJmb2xkZXItcGx1c1wiIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAxXG4gICAgICAgICAgICApXG4gICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgX2MoXG4gICAgICAgICAgXCJidXR0b25cIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBzdGF0aWNDbGFzczogXCJidXR0b24gaXMtZGFya1wiLFxuICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdm0uc29ydChcIm5hbWVcIilcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgW1xuICAgICAgICAgICAgX2MoXCJzcGFuXCIsIFtfdm0uX3YoXCJOYW1lXCIpXSksXG4gICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgX2MoXCJiLWljb25cIiwge1xuICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgbmFtZTogXCJzaG93XCIsXG4gICAgICAgICAgICAgICAgICByYXdOYW1lOiBcInYtc2hvd1wiLFxuICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5zb3J0QnlOYW1lID09PSBcIm5hbWVcIixcbiAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246ICdzb3J0QnlOYW1lID09PSBcIm5hbWVcIidcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgIGF0dHJzOiB7IGljb246IF92bS5zb3J0QnlEaXIgPyBcImNoZXZyb24tdXBcIiA6IFwiY2hldnJvbi1kb3duXCIgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICBdLFxuICAgICAgICAgIDFcbiAgICAgICAgKSxcbiAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgX2MoXG4gICAgICAgICAgXCJidXR0b25cIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBzdGF0aWNDbGFzczogXCJidXR0b24gaXMtZGFya1wiLFxuICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdm0uc29ydChcInNpemVcIilcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgW1xuICAgICAgICAgICAgX2MoXCJzcGFuXCIsIFtfdm0uX3YoXCJTaXplXCIpXSksXG4gICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgX2MoXCJiLWljb25cIiwge1xuICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgbmFtZTogXCJzaG93XCIsXG4gICAgICAgICAgICAgICAgICByYXdOYW1lOiBcInYtc2hvd1wiLFxuICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5zb3J0QnlOYW1lID09PSBcInNpemVcIixcbiAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246ICdzb3J0QnlOYW1lID09PSBcInNpemVcIidcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgIGF0dHJzOiB7IGljb246IF92bS5zb3J0QnlEaXIgPyBcImNoZXZyb24tdXBcIiA6IFwiY2hldnJvbi1kb3duXCIgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICBdLFxuICAgICAgICAgIDFcbiAgICAgICAgKSxcbiAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgX2MoXG4gICAgICAgICAgXCJidXR0b25cIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBzdGF0aWNDbGFzczogXCJidXR0b24gaXMtZGFya1wiLFxuICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdm0uc29ydChcIm1vZFwiKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBbXG4gICAgICAgICAgICBfYyhcInNwYW5cIiwgW192bS5fdihcIkxhc3QgTW9kaWZpZWRcIildKSxcbiAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICBfYyhcImItaWNvblwiLCB7XG4gICAgICAgICAgICAgIGRpcmVjdGl2ZXM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBuYW1lOiBcInNob3dcIixcbiAgICAgICAgICAgICAgICAgIHJhd05hbWU6IFwidi1zaG93XCIsXG4gICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLnNvcnRCeU5hbWUgPT09IFwibW9kXCIsXG4gICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiAnc29ydEJ5TmFtZSA9PT0gXCJtb2RcIidcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgIGF0dHJzOiB7IGljb246IF92bS5zb3J0QnlEaXIgPyBcImNoZXZyb24tdXBcIiA6IFwiY2hldnJvbi1kb3duXCIgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICBdLFxuICAgICAgICAgIDFcbiAgICAgICAgKSxcbiAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgX2MoXG4gICAgICAgICAgXCJiLWRyb3Bkb3duXCIsXG4gICAgICAgICAgeyBhdHRyczogeyBcImFyaWEtcm9sZVwiOiBcImxpc3RcIiwgcG9zaXRpb246IFwiaXMtYm90dG9tLWxlZnRcIiB9IH0sXG4gICAgICAgICAgW1xuICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgIFwiYnV0dG9uXCIsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJkb3QtYnV0dG9uIGhvdmVyLXByaW1hcnlcIixcbiAgICAgICAgICAgICAgICBhdHRyczogeyBzbG90OiBcInRyaWdnZXJcIiB9LFxuICAgICAgICAgICAgICAgIHNsb3Q6IFwidHJpZ2dlclwiXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIFtfYyhcImItaWNvblwiLCB7IGF0dHJzOiB7IGljb246IFwiZG90cy1ob3Jpem9udGFsXCIgfSB9KV0sXG4gICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgIFwiYi1kcm9wZG93bi1pdGVtXCIsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhdHRyczogeyBcImFyaWEtcm9sZVwiOiBcImxpc3QtaXRlbVwiIH0sXG4gICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5kb3dubG9hZERpcihfdm0uZGlyKVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgW192bS5fdihcIkRvd25sb2FkXCIpXVxuICAgICAgICAgICAgKVxuICAgICAgICAgIF0sXG4gICAgICAgICAgMVxuICAgICAgICApXG4gICAgICBdLFxuICAgICAgMVxuICAgICksXG4gICAgX3ZtLl92KFwiIFwiKSxcbiAgICBfYyhcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7IHJlZjogXCJleHBsb3JlclwiLCBhdHRyczogeyBpZDogXCJleHBsb3JlclwiIH0gfSxcbiAgICAgIFtcbiAgICAgICAgX2MoXG4gICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBhdHRyczogeyBpZDogXCJiYWNrZ3JvdW5kXCIgfSxcbiAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgIG1vdXNlZG93bjogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF92bS5kcmF3U3RhcnQoJGV2ZW50KVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBbXG4gICAgICAgICAgICAhX3ZtLmluZGV4IHx8XG4gICAgICAgICAgICAhX3ZtLmluZGV4W192bS5kaXJdIHx8XG4gICAgICAgICAgICAoX3ZtLmluZGV4W192bS5kaXJdLmZvbGRlcnMubGVuZ3RoID09PSAwICYmXG4gICAgICAgICAgICAgIF92bS5pbmRleFtfdm0uZGlyXS5maWxlcy5sZW5ndGggPT09IDApXG4gICAgICAgICAgICAgID8gX2MoXCJoNVwiLCB7IHN0YXRpY0NsYXNzOiBcInN1YnRpdGxlIGlzLTVcIiB9LCBbXG4gICAgICAgICAgICAgICAgICBfdm0uX3YoXCJcXHJcXG4gICAgICAgIE5vdGhpbmcgaGVyZS4uLlxcclxcbiAgICAgIFwiKVxuICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgIDogX3ZtLl9lKClcbiAgICAgICAgICBdXG4gICAgICAgICksXG4gICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgIF92bS5pbmRleCAmJiBfdm0uaW5kZXhbX3ZtLmRpcl1cbiAgICAgICAgICA/IFtcbiAgICAgICAgICAgICAgX3ZtLl9sKF92bS5zb3J0ZWRGb2xkZXJzLCBmdW5jdGlvbihmb2xkZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2MoXCJyb3V0ZXItbGlua1wiLCB7XG4gICAgICAgICAgICAgICAgICBrZXk6IFwiL1wiICsgZm9sZGVyLm5hbWUsXG4gICAgICAgICAgICAgICAgICBhdHRyczogeyB0bzogX3ZtLmdldFBhdGgoZm9sZGVyLm5hbWUpLCBjdXN0b206IFwiXCIgfSxcbiAgICAgICAgICAgICAgICAgIHNjb3BlZFNsb3RzOiBfdm0uX3UoXG4gICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk6IFwiZGVmYXVsdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm46IGZ1bmN0aW9uKHJlZikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaHJlZiA9IHJlZi5ocmVmXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiZm9sZGVyIGV4cC1ncmlkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlOiBfdm0uYWN0aXZlW1wiL1wiICsgZm9sZGVyLm5hbWVdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibGFzdC1hY3RpdmVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5sYXN0QWN0aXZlID09PSBcIi9cIiArIGZvbGRlci5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IGlkOiBcIm0tL1wiICsgZm9sZGVyLm5hbWUsIGhyZWY6IGhyZWYgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLmNsaWNrSXRlbSgkZXZlbnQsIGZvbGRlciwgdHJ1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwiYi1pY29uXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNTdHlsZTogeyBjb2xvcjogXCIjRkZENTRGXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogXCJmb2xkZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBmb2xkZXIuaXRlbUNvdW50ICsgXCIgaXRlbXNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdGF0aWNTdHlsZTogeyBcInBhZGRpbmctbGVmdFwiOiBcIjFlbVwiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbX2MoXCJzcGFuXCIsIFtfdm0uX3YoX3ZtLl9zKGZvbGRlci5uYW1lKSldKV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoXCJzcGFuXCIsIFtfdm0uX3YoX3ZtLl9zKGZvbGRlci5zaXplKSldKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoXCJzcGFuXCIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoX3ZtLl9zKGZvbGRlci5sYXN0TW9kaWZpZWQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJiLWRyb3Bkb3duXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhcmlhLXJvbGVcIjogXCJsaXN0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcImlzLWJvdHRvbS1sZWZ0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImJ1dHRvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiZG90LWJ1dHRvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IHNsb3Q6IFwidHJpZ2dlclwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xvdDogXCJ0cmlnZ2VyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwiYi1pY29uXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IGljb246IFwiZG90cy1ob3Jpem9udGFsXCIgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYi1kcm9wZG93bi1pdGVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczogeyBcImFyaWEtcm9sZVwiOiBcImxpc3QtaXRlbVwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5kb3dubG9hZERpcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uZGlyICsgZm9sZGVyLm5hbWUgKyBcIi9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbX3ZtLl92KFwiRG93bmxvYWRcIildXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICFfdm0udmlld09ubHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJiLWRyb3Bkb3duLWl0ZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImFyaWEtcm9sZVwiOiBcImxpc3QtaXRlbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLiRlbWl0KFwiZGVsZXRlXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImZvbGRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IGZvbGRlci5wYXRoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbX3ZtLl92KFwiRGVsZXRlXCIpXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBfdm0uX2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICBfdm0uX2woX3ZtLnNvcnRlZEZpbGVzLCBmdW5jdGlvbihmaWxlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jKFxuICAgICAgICAgICAgICAgICAgXCJhXCIsXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogZmlsZS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJmaWxlIGV4cC1ncmlkXCIsXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgYWN0aXZlOiBfdm0uYWN0aXZlW2ZpbGUubmFtZV0sXG4gICAgICAgICAgICAgICAgICAgICAgXCJsYXN0LWFjdGl2ZVwiOiBfdm0ubGFzdEFjdGl2ZSA9PT0gZmlsZS5uYW1lXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgaWQ6IFwibS1cIiArIGZpbGUubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICBocmVmOiBfdm0uZ2V0TGluayhmaWxlLnBhdGgpXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICAgICAgICAgICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5jbGlja0l0ZW0oJGV2ZW50LCBmaWxlKVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgX2MoXCJiLWljb25cIiwge1xuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7IGNvbG9yOiBmaWxlLmZpbGVJY29uQ29sb3IgfSxcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyczogeyBpY29uOiBmaWxlLmZpbGVJY29uLCB0aXRsZTogZmlsZS5jb250ZW50VHlwZSB9XG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY1N0eWxlOiB7IFwicGFkZGluZy1sZWZ0XCI6IFwiMWVtXCIgfSB9LCBbXG4gICAgICAgICAgICAgICAgICAgICAgX2MoXCJzcGFuXCIsIFtfdm0uX3YoX3ZtLl9zKGZpbGUubmFtZSkpXSlcbiAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgIF9jKFwic3BhblwiLCBbX3ZtLl92KF92bS5fcyhmaWxlLnNpemUpKV0pLFxuICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICBfYyhcInNwYW5cIiwgW192bS5fdihfdm0uX3MoZmlsZS5sYXN0TW9kaWZpZWQpKV0pLFxuICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgICBcImItZHJvcGRvd25cIixcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBcImFyaWEtcm9sZVwiOiBcImxpc3RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwiaXMtYm90dG9tLWxlZnRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwiYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJkb3QtYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgc2xvdDogXCJ0cmlnZ2VyXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbG90OiBcInRyaWdnZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoXCJiLWljb25cIiwgeyBhdHRyczogeyBpY29uOiBcImRvdHMtaG9yaXpvbnRhbFwiIH0gfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJiLWRyb3Bkb3duLWl0ZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IFwiYXJpYS1yb2xlXCI6IFwibGlzdC1pdGVtXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLm9wZW5GaWxlKGZpbGUucGF0aClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFtfdm0uX3YoXCJPcGVuXCIpXVxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAhX3ZtLnZpZXdPbmx5XG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYi1kcm9wZG93bi1pdGVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczogeyBcImFyaWEtcm9sZVwiOiBcImxpc3QtaXRlbVwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS4kZW1pdChcImRlbGV0ZVwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJmaWxlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogZmlsZS5wYXRoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbX3ZtLl92KFwiRGVsZXRlXCIpXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBfdm0uX2UoKVxuICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgMlxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIF1cbiAgICAgICAgICA6IF92bS5fZSgpLFxuICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICBfYyhcImRpdlwiLCB7XG4gICAgICAgICAgZGlyZWN0aXZlczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBuYW1lOiBcInNob3dcIixcbiAgICAgICAgICAgICAgcmF3TmFtZTogXCJ2LXNob3dcIixcbiAgICAgICAgICAgICAgdmFsdWU6IF92bS5kcmF3aW5nLFxuICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImRyYXdpbmdcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIF0sXG4gICAgICAgICAgc3R5bGU6IF92bS5kcmF3UG9zLFxuICAgICAgICAgIGF0dHJzOiB7IGlkOiBcInNlbGVjdGJveFwiIH1cbiAgICAgICAgfSlcbiAgICAgIF0sXG4gICAgICAyXG4gICAgKVxuICBdKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsInZhciByZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXCJkaXZcIiwgeyBhdHRyczogeyBpZDogXCJ0aW55LWxvYWRpbmdcIiB9IH0pXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcbiAgICBcImRpdlwiLFxuICAgIHsgc3RhdGljQ2xhc3M6IFwiY29udGVudFwiLCBhdHRyczogeyBpZDogXCJ0aW55LW5vdC1mb3VuZFwiIH0gfSxcbiAgICBbXG4gICAgICBfYyhcImgxXCIsIFtfdm0uX3YoXCI0MDQgTm90IEZvdW5kXCIpXSksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXG4gICAgICAgIFwicFwiLFxuICAgICAgICBbXG4gICAgICAgICAgX3ZtLl92KFwiQ291bGRuJ3QgZmluZCB0aGUgcGFnZSB5b3Ugd2VyZSBsb29raW5nIGZvci4gVHJ5IGdvaW5nIFwiKSxcbiAgICAgICAgICBfYyhcInJvdXRlci1saW5rXCIsIHsgYXR0cnM6IHsgdG86IFwiL1wiIH0gfSwgW192bS5fdihcIkhvbWVcIildKSxcbiAgICAgICAgICBfdm0uX3YoXCI/XCIpXG4gICAgICAgIF0sXG4gICAgICAgIDFcbiAgICAgIClcbiAgICBdXG4gIClcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHRpZihfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdKSB7XG5cdFx0cmV0dXJuIF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0uZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0bG9hZGVkOiBmYWxzZSxcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG5cdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbl9fd2VicGFja19yZXF1aXJlX18ubSA9IF9fd2VicGFja19tb2R1bGVzX187XG5cbi8vIHRoZSBzdGFydHVwIGZ1bmN0aW9uXG4vLyBJdCdzIGVtcHR5IGFzIHNvbWUgcnVudGltZSBtb2R1bGUgaGFuZGxlcyB0aGUgZGVmYXVsdCBiZWhhdmlvclxuX193ZWJwYWNrX3JlcXVpcmVfXy54ID0geCA9PiB7fTtcbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5mID0ge307XG4vLyBUaGlzIGZpbGUgY29udGFpbnMgb25seSB0aGUgZW50cnkgY2h1bmsuXG4vLyBUaGUgY2h1bmsgbG9hZGluZyBmdW5jdGlvbiBmb3IgYWRkaXRpb25hbCBjaHVua3Ncbl9fd2VicGFja19yZXF1aXJlX18uZSA9IChjaHVua0lkKSA9PiB7XG5cdHJldHVybiBQcm9taXNlLmFsbChPYmplY3Qua2V5cyhfX3dlYnBhY2tfcmVxdWlyZV9fLmYpLnJlZHVjZSgocHJvbWlzZXMsIGtleSkgPT4ge1xuXHRcdF9fd2VicGFja19yZXF1aXJlX18uZltrZXldKGNodW5rSWQsIHByb21pc2VzKTtcblx0XHRyZXR1cm4gcHJvbWlzZXM7XG5cdH0sIFtdKSk7XG59OyIsIi8vIFRoaXMgZnVuY3Rpb24gYWxsb3cgdG8gcmVmZXJlbmNlIGFzeW5jIGNodW5rc1xuX193ZWJwYWNrX3JlcXVpcmVfXy51ID0gKGNodW5rSWQpID0+IHtcblx0Ly8gcmV0dXJuIHVybCBmb3IgZmlsZW5hbWVzIGJhc2VkIG9uIHRlbXBsYXRlXG5cdHJldHVybiBcIlwiICsgY2h1bmtJZCArIFwiLlwiICsge1widmVuZG9ycy1ub2RlX21vZHVsZXNfbWRpX2ZvbnRfY3NzX21hdGVyaWFsZGVzaWduaWNvbnNfY3NzXCI6XCJmNjYzZWJmMGE2NjczNDc3ZTFhOVwiLFwibm9kZV9tb2R1bGVzX21kaV9mb250X2Nzc19tYXRlcmlhbGRlc2lnbmljb25zX2Nzc1wiOlwiOWFmOTM4NjBiMGFkMGJjYzRmNGVcIixcInNyY19wYWdlc19ob21lX2hvbWVfdnVlXCI6XCI3NzBlMmFkNTA2YWUyZjBlOTBlMlwiLFwic3JjX3BhZ2VzX2Jyb3dzZV9icm93c2VfdnVlXCI6XCIzYWU0NmQ2YWI5MDI4N2ZkZmEyNFwiLFwic3JjX3BhZ2VzX3NldHRpbmdzX3NldHRpbmdzX3Z1ZVwiOlwiMzgzZTlhYmJkNTgwMWU0MTgwOTFcIixcInNyY19wYWdlc19sb2dpbl9sb2dpbl92dWVcIjpcIjc0ZDBhYzEyOTE4MzBkYjVjZjg5XCJ9W2NodW5rSWRdICsgXCIuanNcIjtcbn07IiwiLy8gVGhpcyBmdW5jdGlvbiBhbGxvdyB0byByZWZlcmVuY2UgYWxsIGNodW5rc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5taW5pQ3NzRiA9IChjaHVua0lkKSA9PiB7XG5cdC8vIHJldHVybiB1cmwgZm9yIGZpbGVuYW1lcyBiYXNlZCBvbiB0ZW1wbGF0ZVxuXHRyZXR1cm4gXCJcIiArIGNodW5rSWQgKyBcIi5jc3NcIjtcbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwidmFyIGluUHJvZ3Jlc3MgPSB7fTtcbnZhciBkYXRhV2VicGFja1ByZWZpeCA9IFwidGlueS1maWxlczpcIjtcbi8vIGxvYWRTY3JpcHQgZnVuY3Rpb24gdG8gbG9hZCBhIHNjcmlwdCB2aWEgc2NyaXB0IHRhZ1xuX193ZWJwYWNrX3JlcXVpcmVfXy5sID0gKHVybCwgZG9uZSwga2V5LCBjaHVua0lkKSA9PiB7XG5cdGlmKGluUHJvZ3Jlc3NbdXJsXSkgeyBpblByb2dyZXNzW3VybF0ucHVzaChkb25lKTsgcmV0dXJuOyB9XG5cdHZhciBzY3JpcHQsIG5lZWRBdHRhY2g7XG5cdGlmKGtleSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgc2NyaXB0cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIHMgPSBzY3JpcHRzW2ldO1xuXHRcdFx0aWYocy5nZXRBdHRyaWJ1dGUoXCJzcmNcIikgPT0gdXJsIHx8IHMuZ2V0QXR0cmlidXRlKFwiZGF0YS13ZWJwYWNrXCIpID09IGRhdGFXZWJwYWNrUHJlZml4ICsga2V5KSB7IHNjcmlwdCA9IHM7IGJyZWFrOyB9XG5cdFx0fVxuXHR9XG5cdGlmKCFzY3JpcHQpIHtcblx0XHRuZWVkQXR0YWNoID0gdHJ1ZTtcblx0XHRzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcblxuXHRcdHNjcmlwdC5jaGFyc2V0ID0gJ3V0Zi04Jztcblx0XHRzY3JpcHQudGltZW91dCA9IDEyMDtcblx0XHRpZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5uYykge1xuXHRcdFx0c2NyaXB0LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIF9fd2VicGFja19yZXF1aXJlX18ubmMpO1xuXHRcdH1cblx0XHRzY3JpcHQuc2V0QXR0cmlidXRlKFwiZGF0YS13ZWJwYWNrXCIsIGRhdGFXZWJwYWNrUHJlZml4ICsga2V5KTtcblx0XHRzY3JpcHQuc3JjID0gdXJsO1xuXHR9XG5cdGluUHJvZ3Jlc3NbdXJsXSA9IFtkb25lXTtcblx0dmFyIG9uU2NyaXB0Q29tcGxldGUgPSAocHJldiwgZXZlbnQpID0+IHtcblx0XHQvLyBhdm9pZCBtZW0gbGVha3MgaW4gSUUuXG5cdFx0c2NyaXB0Lm9uZXJyb3IgPSBzY3JpcHQub25sb2FkID0gbnVsbDtcblx0XHRjbGVhclRpbWVvdXQodGltZW91dCk7XG5cdFx0dmFyIGRvbmVGbnMgPSBpblByb2dyZXNzW3VybF07XG5cdFx0ZGVsZXRlIGluUHJvZ3Jlc3NbdXJsXTtcblx0XHRzY3JpcHQucGFyZW50Tm9kZSAmJiBzY3JpcHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzY3JpcHQpO1xuXHRcdGRvbmVGbnMgJiYgZG9uZUZucy5mb3JFYWNoKChmbikgPT4gKGZuKGV2ZW50KSkpO1xuXHRcdGlmKHByZXYpIHJldHVybiBwcmV2KGV2ZW50KTtcblx0fVxuXHQ7XG5cdHZhciB0aW1lb3V0ID0gc2V0VGltZW91dChvblNjcmlwdENvbXBsZXRlLmJpbmQobnVsbCwgdW5kZWZpbmVkLCB7IHR5cGU6ICd0aW1lb3V0JywgdGFyZ2V0OiBzY3JpcHQgfSksIDEyMDAwMCk7XG5cdHNjcmlwdC5vbmVycm9yID0gb25TY3JpcHRDb21wbGV0ZS5iaW5kKG51bGwsIHNjcmlwdC5vbmVycm9yKTtcblx0c2NyaXB0Lm9ubG9hZCA9IG9uU2NyaXB0Q29tcGxldGUuYmluZChudWxsLCBzY3JpcHQub25sb2FkKTtcblx0bmVlZEF0dGFjaCAmJiBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7XG59OyIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubm1kID0gKG1vZHVsZSkgPT4ge1xuXHRtb2R1bGUucGF0aHMgPSBbXTtcblx0aWYgKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xuXHRyZXR1cm4gbW9kdWxlO1xufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiOyIsInZhciBjcmVhdGVTdHlsZXNoZWV0ID0gKGNodW5rSWQsIGZ1bGxocmVmLCByZXNvbHZlLCByZWplY3QpID0+IHtcblx0dmFyIGxpbmtUYWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcblxuXHRsaW5rVGFnLnJlbCA9IFwic3R5bGVzaGVldFwiO1xuXHRsaW5rVGFnLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cdHZhciBvbkxpbmtDb21wbGV0ZSA9IChldmVudCkgPT4ge1xuXHRcdC8vIGF2b2lkIG1lbSBsZWFrcy5cblx0XHRsaW5rVGFnLm9uZXJyb3IgPSBsaW5rVGFnLm9ubG9hZCA9IG51bGw7XG5cdFx0aWYgKGV2ZW50LnR5cGUgPT09ICdsb2FkJykge1xuXHRcdFx0cmVzb2x2ZSgpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgZXJyb3JUeXBlID0gZXZlbnQgJiYgKGV2ZW50LnR5cGUgPT09ICdsb2FkJyA/ICdtaXNzaW5nJyA6IGV2ZW50LnR5cGUpO1xuXHRcdFx0dmFyIHJlYWxIcmVmID0gZXZlbnQgJiYgZXZlbnQudGFyZ2V0ICYmIGV2ZW50LnRhcmdldC5ocmVmIHx8IGZ1bGxocmVmO1xuXHRcdFx0dmFyIGVyciA9IG5ldyBFcnJvcihcIkxvYWRpbmcgQ1NTIGNodW5rIFwiICsgY2h1bmtJZCArIFwiIGZhaWxlZC5cXG4oXCIgKyByZWFsSHJlZiArIFwiKVwiKTtcblx0XHRcdGVyci5jb2RlID0gXCJDU1NfQ0hVTktfTE9BRF9GQUlMRURcIjtcblx0XHRcdGVyci50eXBlID0gZXJyb3JUeXBlO1xuXHRcdFx0ZXJyLnJlcXVlc3QgPSByZWFsSHJlZjtcblx0XHRcdGxpbmtUYWcucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChsaW5rVGFnKVxuXHRcdFx0cmVqZWN0KGVycik7XG5cdFx0fVxuXHR9XG5cdGxpbmtUYWcub25lcnJvciA9IGxpbmtUYWcub25sb2FkID0gb25MaW5rQ29tcGxldGU7XG5cdGxpbmtUYWcuaHJlZiA9IGZ1bGxocmVmO1xuXG5cdGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQobGlua1RhZyk7XG5cdHJldHVybiBsaW5rVGFnO1xufTtcbnZhciBmaW5kU3R5bGVzaGVldCA9IChocmVmLCBmdWxsaHJlZikgPT4ge1xuXHR2YXIgZXhpc3RpbmdMaW5rVGFncyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwibGlua1wiKTtcblx0Zm9yKHZhciBpID0gMDsgaSA8IGV4aXN0aW5nTGlua1RhZ3MubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgdGFnID0gZXhpc3RpbmdMaW5rVGFnc1tpXTtcblx0XHR2YXIgZGF0YUhyZWYgPSB0YWcuZ2V0QXR0cmlidXRlKFwiZGF0YS1ocmVmXCIpIHx8IHRhZy5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpO1xuXHRcdGlmKHRhZy5yZWwgPT09IFwic3R5bGVzaGVldFwiICYmIChkYXRhSHJlZiA9PT0gaHJlZiB8fCBkYXRhSHJlZiA9PT0gZnVsbGhyZWYpKSByZXR1cm4gdGFnO1xuXHR9XG5cdHZhciBleGlzdGluZ1N0eWxlVGFncyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic3R5bGVcIik7XG5cdGZvcih2YXIgaSA9IDA7IGkgPCBleGlzdGluZ1N0eWxlVGFncy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciB0YWcgPSBleGlzdGluZ1N0eWxlVGFnc1tpXTtcblx0XHR2YXIgZGF0YUhyZWYgPSB0YWcuZ2V0QXR0cmlidXRlKFwiZGF0YS1ocmVmXCIpO1xuXHRcdGlmKGRhdGFIcmVmID09PSBocmVmIHx8IGRhdGFIcmVmID09PSBmdWxsaHJlZikgcmV0dXJuIHRhZztcblx0fVxufTtcbnZhciBsb2FkU3R5bGVzaGVldCA9IChjaHVua0lkKSA9PiB7XG5cdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0dmFyIGhyZWYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm1pbmlDc3NGKGNodW5rSWQpO1xuXHRcdHZhciBmdWxsaHJlZiA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIGhyZWY7XG5cdFx0aWYoZmluZFN0eWxlc2hlZXQoaHJlZiwgZnVsbGhyZWYpKSByZXR1cm4gcmVzb2x2ZSgpO1xuXHRcdGNyZWF0ZVN0eWxlc2hlZXQoY2h1bmtJZCwgZnVsbGhyZWYsIHJlc29sdmUsIHJlamVjdCk7XG5cdH0pO1xufVxuLy8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBDU1MgY2h1bmtzXG52YXIgaW5zdGFsbGVkQ3NzQ2h1bmtzID0ge1xuXHRcInRpbnktZmlsZXNcIjogMFxufTtcblxuX193ZWJwYWNrX3JlcXVpcmVfXy5mLm1pbmlDc3MgPSAoY2h1bmtJZCwgcHJvbWlzZXMpID0+IHtcblx0dmFyIGNzc0NodW5rcyA9IHtcInZlbmRvcnMtbm9kZV9tb2R1bGVzX21kaV9mb250X2Nzc19tYXRlcmlhbGRlc2lnbmljb25zX2Nzc1wiOjEsXCJzcmNfcGFnZXNfaG9tZV9ob21lX3Z1ZVwiOjEsXCJzcmNfcGFnZXNfYnJvd3NlX2Jyb3dzZV92dWVcIjoxLFwic3JjX3BhZ2VzX3NldHRpbmdzX3NldHRpbmdzX3Z1ZVwiOjEsXCJzcmNfcGFnZXNfbG9naW5fbG9naW5fdnVlXCI6MX07XG5cdGlmKGluc3RhbGxlZENzc0NodW5rc1tjaHVua0lkXSkgcHJvbWlzZXMucHVzaChpbnN0YWxsZWRDc3NDaHVua3NbY2h1bmtJZF0pO1xuXHRlbHNlIGlmKGluc3RhbGxlZENzc0NodW5rc1tjaHVua0lkXSAhPT0gMCAmJiBjc3NDaHVua3NbY2h1bmtJZF0pIHtcblx0XHRwcm9taXNlcy5wdXNoKGluc3RhbGxlZENzc0NodW5rc1tjaHVua0lkXSA9IGxvYWRTdHlsZXNoZWV0KGNodW5rSWQpLnRoZW4oKCkgPT4ge1xuXHRcdFx0aW5zdGFsbGVkQ3NzQ2h1bmtzW2NodW5rSWRdID0gMDtcblx0XHR9LCAoZSkgPT4ge1xuXHRcdFx0ZGVsZXRlIGluc3RhbGxlZENzc0NodW5rc1tjaHVua0lkXTtcblx0XHRcdHRocm93IGU7XG5cdFx0fSkpO1xuXHR9XG59O1xuXG4vLyBubyBobXIiLCIvLyBubyBiYXNlVVJJXG5cbi8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4vLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbi8vIFByb21pc2UgPSBjaHVuayBsb2FkaW5nLCAwID0gY2h1bmsgbG9hZGVkXG52YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuXHRcInRpbnktZmlsZXNcIjogMFxufTtcblxudmFyIGRlZmVycmVkTW9kdWxlcyA9IFtcblx0W1wiLi9zcmMvbWFpbi50c1wiLFwidmVuZG9ycy1ub2RlX21vZHVsZXNfYXhpb3NfaW5kZXhfanMtbm9kZV9tb2R1bGVzX2J1ZWZ5X2Rpc3RfZXNtX2J1dHRvbl9qcy1ub2RlX21vZHVsZXNfYnVlZnlfLTNlOTg0YlwiXVxuXTtcbl9fd2VicGFja19yZXF1aXJlX18uZi5qID0gKGNodW5rSWQsIHByb21pc2VzKSA9PiB7XG5cdFx0Ly8gSlNPTlAgY2h1bmsgbG9hZGluZyBmb3IgamF2YXNjcmlwdFxuXHRcdHZhciBpbnN0YWxsZWRDaHVua0RhdGEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm8oaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSA/IGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA6IHVuZGVmaW5lZDtcblx0XHRpZihpbnN0YWxsZWRDaHVua0RhdGEgIT09IDApIHsgLy8gMCBtZWFucyBcImFscmVhZHkgaW5zdGFsbGVkXCIuXG5cblx0XHRcdC8vIGEgUHJvbWlzZSBtZWFucyBcImN1cnJlbnRseSBsb2FkaW5nXCIuXG5cdFx0XHRpZihpbnN0YWxsZWRDaHVua0RhdGEpIHtcblx0XHRcdFx0cHJvbWlzZXMucHVzaChpbnN0YWxsZWRDaHVua0RhdGFbMl0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYoXCJ2ZW5kb3JzLW5vZGVfbW9kdWxlc19tZGlfZm9udF9jc3NfbWF0ZXJpYWxkZXNpZ25pY29uc19jc3NcIiAhPSBjaHVua0lkKSB7XG5cdFx0XHRcdFx0Ly8gc2V0dXAgUHJvbWlzZSBpbiBjaHVuayBjYWNoZVxuXHRcdFx0XHRcdHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRcdFx0aW5zdGFsbGVkQ2h1bmtEYXRhID0gaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gW3Jlc29sdmUsIHJlamVjdF07XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0cHJvbWlzZXMucHVzaChpbnN0YWxsZWRDaHVua0RhdGFbMl0gPSBwcm9taXNlKTtcblxuXHRcdFx0XHRcdC8vIHN0YXJ0IGNodW5rIGxvYWRpbmdcblx0XHRcdFx0XHR2YXIgdXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgX193ZWJwYWNrX3JlcXVpcmVfXy51KGNodW5rSWQpO1xuXHRcdFx0XHRcdC8vIGNyZWF0ZSBlcnJvciBiZWZvcmUgc3RhY2sgdW53b3VuZCB0byBnZXQgdXNlZnVsIHN0YWNrdHJhY2UgbGF0ZXJcblx0XHRcdFx0XHR2YXIgZXJyb3IgPSBuZXcgRXJyb3IoKTtcblx0XHRcdFx0XHR2YXIgbG9hZGluZ0VuZGVkID0gKGV2ZW50KSA9PiB7XG5cdFx0XHRcdFx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSkge1xuXHRcdFx0XHRcdFx0XHRpbnN0YWxsZWRDaHVua0RhdGEgPSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF07XG5cdFx0XHRcdFx0XHRcdGlmKGluc3RhbGxlZENodW5rRGF0YSAhPT0gMCkgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdFx0XHRpZihpbnN0YWxsZWRDaHVua0RhdGEpIHtcblx0XHRcdFx0XHRcdFx0XHR2YXIgZXJyb3JUeXBlID0gZXZlbnQgJiYgKGV2ZW50LnR5cGUgPT09ICdsb2FkJyA/ICdtaXNzaW5nJyA6IGV2ZW50LnR5cGUpO1xuXHRcdFx0XHRcdFx0XHRcdHZhciByZWFsU3JjID0gZXZlbnQgJiYgZXZlbnQudGFyZ2V0ICYmIGV2ZW50LnRhcmdldC5zcmM7XG5cdFx0XHRcdFx0XHRcdFx0ZXJyb3IubWVzc2FnZSA9ICdMb2FkaW5nIGNodW5rICcgKyBjaHVua0lkICsgJyBmYWlsZWQuXFxuKCcgKyBlcnJvclR5cGUgKyAnOiAnICsgcmVhbFNyYyArICcpJztcblx0XHRcdFx0XHRcdFx0XHRlcnJvci5uYW1lID0gJ0NodW5rTG9hZEVycm9yJztcblx0XHRcdFx0XHRcdFx0XHRlcnJvci50eXBlID0gZXJyb3JUeXBlO1xuXHRcdFx0XHRcdFx0XHRcdGVycm9yLnJlcXVlc3QgPSByZWFsU3JjO1xuXHRcdFx0XHRcdFx0XHRcdGluc3RhbGxlZENodW5rRGF0YVsxXShlcnJvcik7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18ubCh1cmwsIGxvYWRpbmdFbmRlZCwgXCJjaHVuay1cIiArIGNodW5rSWQsIGNodW5rSWQpO1xuXHRcdFx0XHR9IGVsc2UgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gMDtcblx0XHRcdH1cblx0XHR9XG59O1xuXG4vLyBubyBwcmVmZXRjaGluZ1xuXG4vLyBubyBwcmVsb2FkZWRcblxuLy8gbm8gSE1SXG5cbi8vIG5vIEhNUiBtYW5pZmVzdFxuXG52YXIgY2hlY2tEZWZlcnJlZE1vZHVsZXMgPSB4ID0+IHt9O1xuXG4vLyBpbnN0YWxsIGEgSlNPTlAgY2FsbGJhY2sgZm9yIGNodW5rIGxvYWRpbmdcbnZhciB3ZWJwYWNrSnNvbnBDYWxsYmFjayA9IChwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbiwgZGF0YSkgPT4ge1xuXHR2YXIgW2NodW5rSWRzLCBtb3JlTW9kdWxlcywgcnVudGltZSwgZXhlY3V0ZU1vZHVsZXNdID0gZGF0YTtcblx0Ly8gYWRkIFwibW9yZU1vZHVsZXNcIiB0byB0aGUgbW9kdWxlcyBvYmplY3QsXG5cdC8vIHRoZW4gZmxhZyBhbGwgXCJjaHVua0lkc1wiIGFzIGxvYWRlZCBhbmQgZmlyZSBjYWxsYmFja1xuXHR2YXIgbW9kdWxlSWQsIGNodW5rSWQsIGkgPSAwLCByZXNvbHZlcyA9IFtdO1xuXHRmb3IoO2kgPCBjaHVua0lkcy5sZW5ndGg7IGkrKykge1xuXHRcdGNodW5rSWQgPSBjaHVua0lkc1tpXTtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSAmJiBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0pIHtcblx0XHRcdHJlc29sdmVzLnB1c2goaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdWzBdKTtcblx0XHR9XG5cdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gMDtcblx0fVxuXHRmb3IobW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8obW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xuXHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcblx0XHR9XG5cdH1cblx0aWYocnVudGltZSkgcnVudGltZShfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblx0aWYocGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24pIHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uKGRhdGEpO1xuXHR3aGlsZShyZXNvbHZlcy5sZW5ndGgpIHtcblx0XHRyZXNvbHZlcy5zaGlmdCgpKCk7XG5cdH1cblxuXHQvLyBhZGQgZW50cnkgbW9kdWxlcyBmcm9tIGxvYWRlZCBjaHVuayB0byBkZWZlcnJlZCBsaXN0XG5cdGlmKGV4ZWN1dGVNb2R1bGVzKSBkZWZlcnJlZE1vZHVsZXMucHVzaC5hcHBseShkZWZlcnJlZE1vZHVsZXMsIGV4ZWN1dGVNb2R1bGVzKTtcblxuXHQvLyBydW4gZGVmZXJyZWQgbW9kdWxlcyB3aGVuIGFsbCBjaHVua3MgcmVhZHlcblx0cmV0dXJuIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCk7XG59XG5cbnZhciBjaHVua0xvYWRpbmdHbG9iYWwgPSBzZWxmW1wid2VicGFja0NodW5rdGlueV9maWxlc1wiXSA9IHNlbGZbXCJ3ZWJwYWNrQ2h1bmt0aW55X2ZpbGVzXCJdIHx8IFtdO1xuY2h1bmtMb2FkaW5nR2xvYmFsLmZvckVhY2god2VicGFja0pzb25wQ2FsbGJhY2suYmluZChudWxsLCAwKSk7XG5jaHVua0xvYWRpbmdHbG9iYWwucHVzaCA9IHdlYnBhY2tKc29ucENhbGxiYWNrLmJpbmQobnVsbCwgY2h1bmtMb2FkaW5nR2xvYmFsLnB1c2guYmluZChjaHVua0xvYWRpbmdHbG9iYWwpKTtcblxuZnVuY3Rpb24gY2hlY2tEZWZlcnJlZE1vZHVsZXNJbXBsKCkge1xuXHR2YXIgcmVzdWx0O1xuXHRmb3IodmFyIGkgPSAwOyBpIDwgZGVmZXJyZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGRlZmVycmVkTW9kdWxlID0gZGVmZXJyZWRNb2R1bGVzW2ldO1xuXHRcdHZhciBmdWxmaWxsZWQgPSB0cnVlO1xuXHRcdGZvcih2YXIgaiA9IDE7IGogPCBkZWZlcnJlZE1vZHVsZS5sZW5ndGg7IGorKykge1xuXHRcdFx0dmFyIGRlcElkID0gZGVmZXJyZWRNb2R1bGVbal07XG5cdFx0XHRpZihpbnN0YWxsZWRDaHVua3NbZGVwSWRdICE9PSAwKSBmdWxmaWxsZWQgPSBmYWxzZTtcblx0XHR9XG5cdFx0aWYoZnVsZmlsbGVkKSB7XG5cdFx0XHRkZWZlcnJlZE1vZHVsZXMuc3BsaWNlKGktLSwgMSk7XG5cdFx0XHRyZXN1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IGRlZmVycmVkTW9kdWxlWzBdKTtcblx0XHR9XG5cdH1cblx0aWYoZGVmZXJyZWRNb2R1bGVzLmxlbmd0aCA9PT0gMCkge1xuXHRcdF9fd2VicGFja19yZXF1aXJlX18ueCgpO1xuXHRcdF9fd2VicGFja19yZXF1aXJlX18ueCA9IHggPT4ge307XG5cdH1cblx0cmV0dXJuIHJlc3VsdDtcbn1cbnZhciBzdGFydHVwID0gX193ZWJwYWNrX3JlcXVpcmVfXy54O1xuX193ZWJwYWNrX3JlcXVpcmVfXy54ID0gKCkgPT4ge1xuXHQvLyByZXNldCBzdGFydHVwIGZ1bmN0aW9uIHNvIGl0IGNhbiBiZSBjYWxsZWQgYWdhaW4gd2hlbiBtb3JlIHN0YXJ0dXAgY29kZSBpcyBhZGRlZFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnggPSBzdGFydHVwIHx8ICh4ID0+IHt9KTtcblx0cmV0dXJuIChjaGVja0RlZmVycmVkTW9kdWxlcyA9IGNoZWNrRGVmZXJyZWRNb2R1bGVzSW1wbCkoKTtcbn07IiwiLy8gcnVuIHN0YXJ0dXBcbl9fd2VicGFja19yZXF1aXJlX18ueCgpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==