(()=>{"use strict";var t,e,i,s,o={1149:(t,e,i)=>{var s=i(7670),o=i(6582),n=i(5527),r=i(4251),a=i(6726),l=i(7143),c=i(3987),d=i(6013),h=i(4234),u=i(9869),p=i(4498),f=i(4357),m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[t.loggedIn?i("b-dropdown",{attrs:{id:"account-dropdown",position:"is-bottom-left"}},[i("button",{staticClass:"has-background-primary",attrs:{slot:"trigger",id:"menu-fab",title:t.username},slot:"trigger"},[i("b-icon",{attrs:{icon:"account"}})],1),t._v(" "),i("b-dropdown-item",{staticClass:"hover-info",on:{click:function(e){return t.settings()}}},[t._v("settings")]),t._v(" "),i("b-dropdown-item",{on:{click:function(e){return t.logout()}}},[t._v("logout")]),t._v(" "),i("b-dropdown-item",{staticClass:"hover-danger",on:{click:function(e){return t.deleteSelf()}}},[i("b-icon",{attrs:{icon:"alert-circle-outline",size:"is-small"}}),t._v("Â delete self")],1)],1):t._e(),t._v(" "),i("router-view")],1)};m._withStripped=!0;var v=i(7853),g=i(9461);const w=s.Z.component("app",{data(){var t;return{loggedIn:Boolean(g.Z.homeToken),username:(null===(t=g.Z.storeUser)||void 0===t?void 0:t.username)||""}},watch:{$route(t,e){t.path===e.path||this.loggedIn||/^\/login/.test(t.path)||(this.loggedIn=Boolean(g.Z.homeToken))}},methods:{async settings(){c.q.alert({type:"is-info",message:"to be implemented ;3"})},async logout(){await v.Z.auth.logout(),this.$router.push("/login"),this.loggedIn=!1},async deleteSelf(){await new Promise((t=>c.q.confirm({title:"Delete Account",type:"is-danger",message:"Are you sure you want to delete your account? This cannot be undone.",onCancel:()=>t(!1),onConfirm:()=>t(!0)})))&&(await v.Z.deleteSelf(),this.$router.push("/login"),this.loggedIn=!1)}}});var y=i(1900),b=(0,y.Z)(w,m,[],!1,null,null,null);b.options.__file="src/app/app.vue";const x=b.exports;var _=function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"tiny-loading"}})};_._withStripped=!0;const k=s.Z.component("tiny-loading",{});var S=(0,y.Z)(k,_,[],!1,null,null,null);S.options.__file="src/components/loading/loading.vue";const I=S.exports;var C=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"tiny-explorer"}},[i("div",{attrs:{id:"header"}},[i("div",{staticClass:"has-background-primary",style:{width:(100*t.progress).toFixed(2)+"%"},attrs:{id:"progress"}}),t._v(" "),i("div",{attrs:{id:"path"}},[i("button",{staticClass:"button is-small is-dark",staticStyle:{"margin-right":"0.5rem","margin-left":"0.8rem"},attrs:{disabled:t.splitDir.length<=1},on:{click:function(e){return t.goto(t.splitDir.length-2)}}},[i("b-icon",{staticStyle:{color:"#FFD54F"},attrs:{icon:"folder-upload"}})],1),t._v(" "),t._l(t.splitDir,(function(e,s){return[i("a",{key:"a-"+s,staticClass:"tag",attrs:{title:e},on:{click:function(e){return t.goto(s)}}},[i("span",[t._v(t._s(e))])]),t._v(" "),s+1<t.splitDir.length?i("span",{key:"s-"+s},[i("b-icon",{attrs:{icon:"chevron-right"}})],1):t._e()]}))],2),t._v(" "),i("div",{attrs:{id:"buttons"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.working,expression:"working"}],attrs:{id:"tiny-loading-small"}}),t._v(" "),t.viewOnly?t._e():[i("button",{staticClass:"button is-small is-dark",class:{"has-text-warning":t.clipboard.length&&t.cut},attrs:{disabled:!t.anyActive||t.working,title:"cut"},on:{click:function(e){return t.cutSelected()}}},[i("b-icon",{attrs:{icon:"content-cut"}})],1),t._v(" "),i("button",{staticClass:"button is-small is-dark",class:{"has-text-info":t.clipboard.length&&!t.cut},attrs:{disabled:!t.anyActive||t.working,title:"copy"},on:{click:function(e){return t.copySelected()}}},[i("b-icon",{attrs:{icon:"content-copy"}})],1),t._v(" "),i("button",{staticClass:"button is-small is-dark",class:{"has-text-warning":t.clipboard.length&&t.cut,"has-text-info":t.clipboard.length&&!t.cut},attrs:{disabled:t.working||t.clipboard.length<1,title:t.clipboard.length?"paste ("+t.clipboard.length+")":"paste"},on:{click:function(e){return t.paste()}}},[i("b-icon",{attrs:{icon:"content-paste"}})],1),t._v(" "),i("button",{staticClass:"button is-small is-dark",attrs:{disabled:t.working||t.clipboard.length<1,title:"clear"},on:{click:function(e){return t.clearClipboard()}}},[i("b-icon",{attrs:{icon:"backspace-outline"}})],1),t._v(" "),i("hr"),t._v(" "),i("button",{staticClass:"button is-small is-dark",attrs:{disabled:!t.anyActive||t.working,title:"delete"},on:{click:function(e){return t.removeSelected()}}},[i("b-icon",{attrs:{icon:"delete-forever"}})],1),t._v(" "),i("hr"),t._v(" "),t.dir.startsWith("/public")?[i("button",{staticClass:"button is-small is-dark",attrs:{disabled:!t.anyActive||t.working,title:"share"},on:{click:function(e){return t.shareSelected()}}},[i("b-icon",{attrs:{icon:"share"}})],1),t._v(" "),i("hr")]:t._e()],t._v(" "),i("button",{staticClass:"button is-small is-dark",attrs:{disabled:!t.anyActive||t.working,title:"Download"},on:{click:function(e){return t.downloadSelected()}}},[i("b-icon",{attrs:{icon:"download"}})],1)],2)]),t._v(" "),i("div",{staticClass:"exp-grid",attrs:{id:"explorer-header"}},[t.viewOnly?i("span"):i("button",{staticClass:"button is-small is-dark",on:{click:function(e){return t.newFolder()}}},[i("b-icon",{staticStyle:{color:"#FFD54F"},attrs:{icon:"folder-plus"}})],1),t._v(" "),i("button",{staticClass:"button is-dark",on:{click:function(e){return t.sort("name")}}},[i("span",[t._v("name")]),t._v(" "),i("b-icon",{directives:[{name:"show",rawName:"v-show",value:"name"===t.sortByName,expression:'sortByName === "name"'}],attrs:{icon:t.sortByDir?"chevron-up":"chevron-down"}})],1),t._v(" "),i("button",{staticClass:"button is-dark",on:{click:function(e){return t.sort("size")}}},[i("span",[t._v("size")]),t._v(" "),i("b-icon",{directives:[{name:"show",rawName:"v-show",value:"size"===t.sortByName,expression:'sortByName === "size"'}],attrs:{icon:t.sortByDir?"chevron-up":"chevron-down"}})],1),t._v(" "),i("button",{staticClass:"button is-dark",on:{click:function(e){return t.sort("mod")}}},[i("span",[t._v("last modified")]),t._v(" "),i("b-icon",{directives:[{name:"show",rawName:"v-show",value:"mod"===t.sortByName,expression:'sortByName === "mod"'}],attrs:{icon:t.sortByDir?"chevron-up":"chevron-down"}})],1),t._v(" "),i("b-dropdown",{attrs:{"aria-role":"list",position:"is-bottom-left"}},[i("button",{staticClass:"dot-button hover-primary",attrs:{slot:"trigger"},slot:"trigger"},[i("b-icon",{attrs:{icon:"dots-horizontal"}})],1),t._v(" "),!t.viewOnly&&t.dir.startsWith("/public")?i("b-dropdown-item",{attrs:{"aria-role":"list-item"},on:{click:function(e){return t.$emit("share",t.dir)}}},[t._v("share")]):t._e(),t._v(" "),i("b-dropdown-item",{attrs:{"aria-role":"list-item"},on:{click:function(e){return t.selectAll()}}},[t._v("select all")]),t._v(" "),i("b-dropdown-item",{attrs:{"aria-role":"list-item"},on:{click:function(e){return t.downloadDir(t.dir)}}},[t._v("download")])],1)],1),t._v(" "),i("div",{ref:"explorer",attrs:{id:"explorer"}},[i("div",{attrs:{id:"background"},on:{mousedown:t.drawStart,contextmenu:function(e){return t.contextMenu(e)}}},[!t.index||!t.index[t.dir]||0===t.index[t.dir].folders.length&&0===t.index[t.dir].files.length?i("h5",{staticClass:"subtitle is-5"},[t._v("\r\n        nothing here...\r\n      ")]):t._e()]),t._v(" "),t.index&&t.index[t.dir]?[t._l(t.sortedFolders,(function(e){return i("router-link",{key:"/"+e.name,attrs:{to:t.getPath(e.name),custom:""},scopedSlots:t._u([{key:"default",fn:function(s){var o=s.href;return[i("a",{staticClass:"folder exp-grid",class:{active:t.active["/"+e.name],"last-active":t.lastActive==="/"+e.name},attrs:{id:"m-/"+e.name,href:o,draggable:!t.viewOnly},on:{click:function(i){return i.preventDefault(),i.stopPropagation(),t.clickItem(i,e,!0)},drop:function(i){return t.folderDrop(i,e)},dragover:t.dragOver,dragstart:function(i){return t.folderDragStart(i,e)},dragend:t.dragEnd,contextmenu:function(i){return t.contextMenu(i,"folder",e)}}},[i("b-icon",{style:{color:(e.itemCount,"#FFD54F")},attrs:{icon:e.itemCount<0?"folder-alert":e.path.startsWith("/public")?"folder-search":"folder",title:e.itemCount<0?"will be removed unless files are uploaded inside":e.itemCount+(e.path.startsWith("/public")?" shareable":"")+" items"}}),t._v(" "),i("div",{staticStyle:{"padding-left":"1em"}},[i("span",[t._v(t._s(e.name))])]),t._v(" "),i("span",[t._v(t._s(e.size))]),t._v(" "),i("span",[t._v(t._s(e.lastModified))]),t._v(" "),i("b-dropdown",{attrs:{"aria-role":"list",position:"is-bottom-left"}},[i("button",{staticClass:"dot-button",attrs:{slot:"trigger"},slot:"trigger"},[i("b-icon",{attrs:{icon:"dots-horizontal"}})],1),t._v(" "),i("b-dropdown-item",{attrs:{"aria-role":"list-item"},on:{click:function(i){return t.downloadDir(e.path+"/")}}},[t._v("download")]),t._v(" "),t.viewOnly?t._e():[i("hr"),t._v(" "),i("b-dropdown-item",{attrs:{"aria-role":"list-item"},on:{click:function(i){return t.cutItem("folder",e.path)}}},[t._v("cut")]),t._v(" "),i("b-dropdown-item",{attrs:{"aria-role":"list-item"},on:{click:function(i){return t.copyItem("folder",e.path)}}},[t._v("copy")]),t._v(" "),i("b-dropdown-item",{attrs:{"aria-role":"list-item",disabled:!t.clipboard.length},on:{click:function(i){return t.pasteInto(e.path)}}},[t._v("paste into")]),t._v(" "),i("hr"),t._v(" "),e.path.startsWith("/public")?i("b-dropdown-item",{attrs:{"aria-role":"list-item"},on:{click:function(i){return t.$emit("share",e.path)}}},[t._v("share")]):t._e(),t._v(" "),i("b-dropdown-item",{attrs:{"aria-role":"list-item"},on:{click:function(i){return t.$emit("delete",{type:"folder",path:e.path})}}},[t._v("delete")]),t._v(" "),i("b-dropdown-item",{attrs:{"aria-role":"list-item"},on:{click:function(i){return t.rename("folder",e)}}},[t._v("rename")])]],2)],1)]}}],null,!0)})})),t._v(" "),t._l(t.sortedFiles,(function(e){return i("a",{key:e.name,staticClass:"file exp-grid",class:{active:t.active[e.name],"last-active":t.lastActive===e.name},attrs:{id:"m-"+e.name,href:t.getLink(e.path),draggable:!t.viewOnly},on:{click:function(i){return i.preventDefault(),i.stopPropagation(),t.clickItem(i,e)},drop:t.nullEvent,dragover:t.nullEvent,dragstart:function(i){return t.fileDragStart(i,e)},dragend:t.dragEnd,contextmenu:function(i){return t.contextMenu(i,"file",e)}}},[i("b-icon",{style:{color:e.fileIconColor},attrs:{icon:e.fileIcon,title:e.contentType}}),t._v(" "),i("div",{staticStyle:{"padding-left":"1em"}},[i("span",[t._v(t._s(e.name))])]),t._v(" "),i("span",[t._v(t._s(e.size))]),t._v(" "),i("span",[t._v(t._s(e.lastModified))]),t._v(" "),i("b-dropdown",{attrs:{"aria-role":"list",position:"is-bottom-left"}},[i("button",{staticClass:"dot-button",attrs:{slot:"trigger"},slot:"trigger"},[i("b-icon",{attrs:{icon:"dots-horizontal"}})],1),t._v(" "),i("b-dropdown-item",{attrs:{"aria-role":"list-item"},on:{click:function(i){return t.openFile(e.path)}}},[t._v("open")]),t._v(" "),t.viewOnly?t._e():[i("hr"),t._v(" "),i("b-dropdown-item",{attrs:{"aria-role":"list-item"},on:{click:function(i){return t.cutItem("file",e.path)}}},[t._v("cut")]),t._v(" "),i("b-dropdown-item",{attrs:{"aria-role":"list-item"},on:{click:function(i){return t.copyItem("file",e.path)}}},[t._v("copy")]),t._v(" "),i("hr"),t._v(" "),t.dir.startsWith("/public")?i("b-dropdown-item",{attrs:{"aria-role":"list-item"},on:{click:function(i){return t.$emit("share",e.path)}}},[t._v("share")]):t._e(),t._v(" "),i("b-dropdown-item",{attrs:{"aria-role":"list-item"},on:{click:function(i){return t.$emit("delete",{type:"file",path:e.path})}}},[t._v("delete")]),t._v(" "),i("b-dropdown-item",{attrs:{"aria-role":"list-item"},on:{click:function(i){return t.rename("file",e)}}},[t._v("rename")])]],2)],1)}))]:t._e(),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.drawing,expression:"drawing"}],style:t.drawPos,attrs:{id:"selectbox"}})],2),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showContextMenu,expression:"showContextMenu"}],ref:"contextmenu",staticClass:"dropdown-content",attrs:{id:"context-menu","aria-role":"list"},on:{mousedown:function(t){t.stopPropagation()},mouseup:function(e){return t.closeContextMenu()}}},[i("button",{staticClass:"dropdown-item",attrs:{"aria-role":"list-item"},on:{click:function(e){t.contextItem?t.downloadSelected():t.downloadDir()}}},[t._v("download "+t._s(t.contextItem?t.contextItemType:" directory"))]),t._v(" "),t.viewOnly?t._e():[i("button",{staticClass:"dropdown-item",attrs:{"aria-role":"list-item",disabled:!t.contextItem&&!t.anyActive},on:{click:function(e){return t.cutSelected()}}},[t._v("cut")]),t._v(" "),i("button",{staticClass:"dropdown-item",attrs:{"aria-role":"list-item",disabled:!t.contextItem&&!t.anyActive},on:{click:function(e){return t.copySelected()}}},[t._v("copy")]),t._v(" "),t.contextItemType?"folder"===t.contextItemType?i("button",{staticClass:"dropdown-item",attrs:{"aria-role":"list-item",disabled:!t.clipboard.length},on:{click:function(e){return t.pasteInto(t.contextItem.path)}}},[t._v("paste into")]):t._e():i("button",{staticClass:"dropdown-item",attrs:{"aria-role":"list-item",disabled:!t.clipboard.length},on:{click:function(e){return t.paste()}}},[t._v("paste")]),t._v(" "),i("hr"),t._v(" "),t.dir.startsWith("/public")?i("button",{staticClass:"dropdown-item",attrs:{"aria-role":"list-item"},on:{click:function(e){t.anyActive?t.shareSelected():t.$emit("share",t.dir)}}},[t._v("share "+t._s(t.anyActive?"":" directory"))]):t._e(),t._v(" "),i("button",{staticClass:"dropdown-item",attrs:{"aria-role":"list-item",disabled:!t.anyActive},on:{click:function(e){return t.removeSelected()}}},[t._v("delete")]),t._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:t.contextItemType&&t.contextItem,expression:"contextItemType && contextItem"}],staticClass:"dropdown-item",attrs:{"aria-role":"list-item"},on:{click:function(){return t.rename(t.contextItemType,t.contextItem)}}},[t._v("rename")])]],2)])};C._withStripped=!0;var Z=i(7343),T=i.n(Z),A=i(7463),D=i.n(A),$=i(7165),E=i.n($),M=i(6167),O=i.n(M),P=i(3305),z=i(6222),L=i.n(z);const F=s.Z.component("tiny-explorer",{props:{rootName:{type:String,required:!1,default:"root"},rootRoute:{type:String,required:!0},paths:{type:Array,required:!0},mapLink:{type:Function,required:!0},viewOnly:Boolean},data(){const t={path:"/",name:"root",size:O()(0),rawSize:0,lastModified:"null",rawLastModified:0};return{dir:"/",dirInfo:t,index:{},rootInfo:t,working:!1,progress:0,workingOn:"",cut:!1,from:"",clipboard:[],sortByName:"name",sortByDir:!1,showContextMenu:!1,contextItemType:"",contextItem:null,lastActive:"",lastActiveTime:0,active:{},anyActive:!1,drawing:!1,drawBegin:{x:0,y:0},drawPoints:{x1:0,y1:0,x2:0,y2:0},drawPos:{top:"0px",left:"0px",height:"0px",width:"0px"}}},computed:{splitDir(){const t=[];let e="";return this.dir.replace(/^\/|\/$/g,"").split("/").forEach((i=>{i?e?t.push(e+i):t.push(i):e+="/"})),[this.rootName,...t]},sortedFolders(){return this.index&&this.index[this.dir]?this.sortEntries(this.index[this.dir].folders):[]},sortedFiles(){return this.index&&this.index[this.dir]?this.sortEntries(this.index[this.dir].files):[]}},watch:{dir(){if(this.active={},this.lastActive="",this.lastActiveTime=0,this.sliceRouteForDir()!==this.dir&&this.$router.replace({path:this.rootRoute+this.dir,query:this.$route.query}),this.dir.length>1&&this.index&&this.index[this.dir]){const t=this.dir.lastIndexOf("/",this.dir.length-2),e=this.dir.slice(0,t+1),i=this.dir.slice(t+1,-1),s=this.index[e]?this.index[e].folders.find((t=>t.name===i)):null;this.dirInfo=s||this.rootInfo}else this.dirInfo=this.rootInfo;this.$emit("update:dir",this.dir)},paths(){this.refresh()},$route(){this.sliceRouteForDir()!==this.dir&&this.index[this.sliceRouteForDir()]&&(this.dir=this.sliceRouteForDir())},active(){this.anyActive=this.active&&Object.values(this.active).reduce(((t,e)=>t||e),!1)}},async mounted(){window.addEventListener("mousedown",this.closeContextMenu),window.addEventListener("resize",this.closeContextMenu),window.addEventListener("mouseup",this.drawEnd),window.addEventListener("mousemove",this.drawContinue),window.addEventListener("keydown",this.shortcutHandler),this.refresh(),this.index[this.sliceRouteForDir()]?this.dir=this.sliceRouteForDir():this.$router.replace({path:this.rootRoute,query:this.$route.query})},destroyed(){window.removeEventListener("mousedown",this.closeContextMenu),window.removeEventListener("resize",this.closeContextMenu),window.removeEventListener("mouseup",this.drawEnd),window.removeEventListener("mousemove",this.drawContinue),window.removeEventListener("keydown",this.shortcutHandler)},methods:{sliceRouteForDir(){let t=this.$route.path.slice(this.rootRoute.length);return t.endsWith("/")||(t+="/"),t},formatDate:t=>P.ou.fromMillis(t,{zone:"utc"}).toLocal().toLocaleString(P.ou.DATETIME_SHORT),sortEntries(t){return t.sort(((t,e)=>{let i,s;switch(this.sortByDir?(s=t,i=e):(i=t,s=e),this.sortByName){case"size":return s.rawSize-i.rawSize;case"mod":return s.rawLastModified-i.rawLastModified;case"name":default:return i.name.localeCompare(s.name)}}))},sort(t){t===this.sortByName?this.sortByDir=!this.sortByDir:(this.sortByName=t,this.sortByDir=!1)},goto(t){if(t<=0)return void(this.dir="/");if(t>=this.splitDir.length)return;const e="/"+this.splitDir.slice(1,t+1).join("/");this.dir=e.endsWith("/")?e:e+"/"},newFolder(){c.q.prompt({title:"new folder name",message:"",inputAttrs:{pattern:"(?:(?:[\\.][ \\.]*)?[\\w\\-](?:[\\w\\- \\.]*[\\w\\-]+)?\\/?)+"},cancelText:"cancel",confirmText:"create",onConfirm:t=>{if(!t||!/^(?:(?:[\.][\ \.]*)?[\w\-](?:[\w\-\ \.]*[\w\-]+)?\/?)+$/.test(t))return;const e=t.split("/").filter((t=>Boolean(t)));for(let t=0;t<e.length;t++){const i=this.dir+(t>0?e.slice(0,t).join("/")+"/":"");this.$set(this.index,i+e[t]+"/",{files:[],folders:[]}),this.index[i].folders.push({name:e[t],path:i+e[t]+"/",lastModified:"--",rawLastModified:0,rawSize:0,size:"--",itemCount:-1}),this.$forceUpdate()}}})},rename(t,e,i){c.q.prompt({title:"rename "+t+' "'+e.name+'"',message:"",inputAttrs:{pattern:"(?:[\\.][ \\.]*)?[\\w\\-](?:[\\w\\- \\.]*[\\w\\-]+)?",value:i||e.name},cancelText:"cancel",confirmText:"rename",onConfirm:i=>{if(!i||!/^(?:[\.][\ \.]*)?[\w\-](?:[\w\-\ \.]*[\w\-]+)?$/.test(i)||i===e.name)return;if(this.index[this.dir].files.find((t=>t.name===i))||this.index[this.dir].folders.find((t=>t.name===i)))return void c.q.alert({message:"name already taken",confirmText:"okay"});const s="file"===t?e.path.slice(0,e.path.lastIndexOf("/")):e.path;"file"===t?this.$emit("move",{from:e.path,paths:[e.path],to:s+"/"+i}):this.$emit("move",{from:s,paths:this.paths.filter((t=>t.path.startsWith(s))).map((t=>t.path)),to:s.slice(0,s.lastIndexOf("/"))+"/"+i})}})},refresh(){const t={};this.index&&0!==Object.keys(this.index).length||(this.index=t);const e={};for(const i of this.paths){const s=i.path.split("/").map(((t,e,i)=>i.slice(0,e).join("/")+"/")).slice(1);for(let e=0,i=s[e];e<s.length;e++,i=s[e])if(t[i]||(t[i]={files:[],folders:[]}),e+1<s.length){const o=s[e+1].slice(s[e+1].lastIndexOf("/",s[e+1].length-2)).replace(/\//g,"");t[i].folders.find((t=>t.name===o))||t[i].folders.push({path:i+o,name:o,size:"--",rawSize:0,lastModified:"--",rawLastModified:0,itemCount:0})}if(0===i.size&&0===i.modified&&i.path.endsWith("null"))continue;const o=t[s[s.length-1]],n=i.name||i.path.slice(i.path.lastIndexOf("/",i.path.length-2)+1),r=o.files.find((t=>t.name===n)),a=i.modified;if(!r){const t={name:n,path:i.path,rawSize:i.size,size:i.size?O()(i.size):"--",rawLastModified:a,lastModified:a?this.formatDate(a):"--",contentType:i.type,...(0,f.LP)(i.type)};o.files.push(t),e[i.path]={oldest:a,latest:a}}if(e[i.path].latest<a&&i.size>0){r.rawSize=i.size,r.size=i.size?O()(i.size):"--",r.rawLastModified=a,r.lastModified=a?this.formatDate(a):"--",r.contentType=i.type;const t=(0,f.LP)(i.type);r.fileIcon=t.fileIcon,r.fileIconColor=t.fileIconColor,e[i.path]={oldest:a,latest:a}}}let i=Object.keys(t).filter((e=>t[e]&&(t[e].folders.length||t[e].files.length)));i=i.sort(((t,e)=>t.length===e.length?t.localeCompare(e):e.length-t.length));for(const e of i){let i=0,s=0,o=0;for(const n of t[e].folders)i+=n.rawSize,s=Math.max(s,n.rawLastModified),o+=n.itemCount;for(const n of t[e].files)i+=n.rawSize,s=Math.max(s,n.rawLastModified),o++;if(e.length>1){const n=e.lastIndexOf("/",e.length-2),r=e.slice(0,n+1),a=e.slice(n+1,-1),l=t[r].folders.find((t=>t.name===a));l.rawSize=i,l.size=i?O()(i):"--",l.rawLastModified=s,l.lastModified=s?this.formatDate(s):"--",l.itemCount=o}else this.rootInfo.rawSize=i,this.rootInfo.size=i?O()(i):"--",this.rootInfo.rawLastModified=s,this.rootInfo.lastModified=s?this.formatDate(s):"--",this.rootInfo.itemCount=o}this.index=t,this.$forceUpdate()},clickItem(t,e,i=!1){const o=i?"/"+e.name:e.name;if(t.getModifierState("Shift")||t.shiftKey){const e=this.index[this.dir].folders.map((t=>"/"+t.name)).concat(this.index[this.dir].files.map((t=>t.name))),i=e.indexOf(this.lastActive),n=e.indexOf(o),r=e.slice(Math.min(i,n),Math.max(i,n)+1);if(t.getModifierState("Control")||t.ctrlKey)for(const t of r)s.Z.set(this.active,t,!0);else this.active=r.reduce(((t,e)=>(t[e]=!0,t)),{});this.lastActiveTime=0}else t.getModifierState("Control")||t.ctrlKey?(this.$set(this.active,o,!this.active[o]),this.lastActiveTime=0):(this.active={[o]:!0},Date.now()-this.lastActiveTime<333&&(o.startsWith("/")?this.openFolder(o.slice(1)):this.openFile(e.path),this.lastActiveTime=0),this.lastActiveTime=Date.now()),this.lastActive=o},getSelected(){const t=[];for(const e in this.active)!0===this.active[e]&&t.push(e.startsWith("/")?e.slice(1):e);let e=[];for(const i of t)e=e.concat(this.paths.filter((t=>t.path.startsWith(this.dir+i))));return{items:t,paths:e.map((t=>t.path))}},selectAll(){const t=this.index[this.dir].files.map((t=>t.name)).concat(this.index[this.dir].folders.map((t=>"/"+t.name)));if(Boolean(t.find((t=>!this.active[t]))))for(const e of t)this.$set(this.active,e,!0);else for(const e of t)this.$set(this.active,e,!1)},cutItem(t,e){this.cut=!0,this.from=this.dir.slice(0,-1),this.clipboard="file"===t?[e]:this.paths.filter((t=>t.path.startsWith(e))).map((t=>t.path))},cutSelected(){this.cut=!0,this.from=this.dir.slice(0,-1),this.clipboard=this.getSelected().paths},copyItem(t,e){this.cut=!1,this.from=this.dir.slice(0,-1),this.clipboard="file"===t?[e]:this.paths.filter((t=>t.path.startsWith(e))).map((t=>t.path))},copySelected(){this.cut=!1,this.from=this.dir.slice(0,-1),this.clipboard=this.getSelected().paths},clearClipboard(){this.cut=!1,this.from=this.dir.slice(0,-1),this.clipboard=[]},paste(){this.pasteInto(this.dir.slice(0,-1))},pasteInto(t){this.$emit(this.cut?"move":"copy",{from:this.from,paths:this.clipboard,to:t}),this.cut&&(this.cut=!1,this.clipboard=[]),this.from=""},async removeSelected(){const t=this.getSelected().paths;await new Promise((e=>c.q.confirm({type:"is-danger",title:"delete selected",message:"are you sure you want to delete the "+t.length+" selected item(s)?",onConfirm:()=>e(!0),onCancel:()=>e(!1)})))&&this.$emit("delete",{type:"paths",paths:t})},shareSelected(){this.$emit("share",this.getSelected().paths)},renameSelected(){let t,e;if(this.lastActive.startsWith("/")){t="folder";const i=this.lastActive.slice(1);e=this.index[this.dir].folders.find((t=>t.name===i))}else t="file",e=this.index[this.dir].files.find((t=>t.name===this.lastActive));e&&this.rename(t,e)},openFolder(t){this.dir?this.dir=this.dir+t+"/":this.dir="/"+t+"/"},async openFile(t,e=!0){if(!e)return L().get(this.mapLink(t),{responseType:"blob"}).then((t=>t.data));this.$emit("open",t)},async downloadSelected(){if(this.working)return;const{items:t,paths:e}=this.getSelected();let i=1===t.length?t[0]:1===this.splitDir.length?"tiny-files-data":this.splitDir[this.splitDir.length-1];return this.download(this.dir,e,i)},async downloadDir(t){if(this.working)return;let e;if(t.endsWith("/")||(t+="/"),t.startsWith("/")&&(t=t.slice(1)),t.length<2)e="tiny-files-data";else{const i=t.lastIndexOf("/",t.length-2);e=t.slice(i+1,-1)}const i=this.paths.filter((e=>e.path.startsWith(t))).map((t=>t.path));return this.download(t.slice(0,-1),i,e)},async download(t,e,i){if(this.working)return;if(this.working=!0,this.progress=0,1===e.length&&!e[0].slice(t.length+1).includes("/"))return E().saveAs(this.mapLink(e[0]),i.replace("*","")),void(this.working=!1);const s=t.length,o=new(D());for(let t=0,i=e[t];t<e.length;t++,i=e[t]){console.log("download:",i);const n=i.slice(s);this.progress=t/e.length,this.workingOn="Zipping "+n,await new Promise((t=>setTimeout(t,333))),o.file(n,await this.openFile(i,!1))}this.progress=1,this.workingOn="Serving the Zip",console.log("zipping...");const n=await o.generateAsync({type:"blob"});console.log("serving..."),E().saveAs(n,i.replace("*","")),console.log("done"),this.workingOn="",this.working=!1,this.progress=0},drawStart(t){0===t.button&&(this.drawing=!0,s.Z.set(this.drawBegin,"x",t.x),s.Z.set(this.drawBegin,"y",t.y),this.drawPoints={x1:t.x,x2:t.x,y1:t.y,y2:t.y},this.drawPos={top:t.y+"px",left:t.x+"px",height:"0px",width:"0px"})},boxInside:(t,e)=>!(t.x1>e.x2||t.x2<e.x1||t.y1>e.y2||t.y2<e.y1),drawContinue:T().throttle((function(t){if(!this.drawing)return;s.Z.set(this.drawPoints,"y1",Math.min(t.y,this.drawBegin.y)),s.Z.set(this.drawPoints,"x1",Math.min(t.x,this.drawBegin.x)),s.Z.set(this.drawPoints,"y2",Math.max(t.y,this.drawBegin.y)),s.Z.set(this.drawPoints,"x2",Math.max(t.x,this.drawBegin.x)),s.Z.set(this.drawPos,"top",this.drawPoints.y1+"px"),s.Z.set(this.drawPos,"left",this.drawPoints.x1+"px"),s.Z.set(this.drawPos,"height",this.drawPoints.y2-this.drawPoints.y1+"px"),s.Z.set(this.drawPos,"width",this.drawPoints.x2-this.drawPoints.x1+"px");const e=this.$refs.explorer.children;for(let t=0,i=e.item(t);t<e.length;t++,i=e.item(t)){if(!i.classList.contains("folder")&&!i.classList.contains("file"))continue;const t=i.getBoundingClientRect(),e={x1:t.left,y1:t.top,x2:t.right,y2:t.bottom};this.boxInside(e,this.drawPoints)?i.classList.add("hover"):i.classList.contains("hover")&&i.classList.remove("hover")}}),15),drawEnd(t){if(!this.drawing||0!==t.button)return;this.drawing=!1;const e=this.$refs.explorer.children,i=[];for(let t=0,s=e.item(t);t<e.length;t++,s=e.item(t))if((s.classList.contains("folder")||s.classList.contains("file"))&&s.classList.contains("hover")){const t=/m-(.+)/.exec(s.id);t&&t[1]&&i.push(t[1]),s.classList.remove("hover")}t.getModifierState("State")||t.shiftKey||(this.active={});for(const t of i)s.Z.set(this.active,t,!0)},fileDragStart(t,e){if(!this.viewOnly){if(this.$emit("dragging",!0),t.dataTransfer.setData("text/plain",e.path),!0!==this.active[e.name]){if(this.anyActive)for(const t in this.active)this.$set(this.active,t,!1);this.$set(this.active,e.name,!0)}this.lastActive=e.name,this.lastActiveTime=Date.now(),t.dataTransfer.effectAllowed="move",t.target.style.opacity="0.5"}},folderDragStart(t,e){if(!this.viewOnly){if(this.$emit("dragging",!0),t.dataTransfer.setData("text/plain",e.path),t.dataTransfer.effectAllowed="move",!0!==this.active["/"+e.name]){if(this.anyActive)for(const t in this.active)this.$set(this.active,t,!1);this.$set(this.active,"/"+e.name,!0)}this.lastActive="/"+e.name,this.lastActiveTime=Date.now(),t.target.style.opacity="0.5"}},dragEnd(t){this.viewOnly||(t.target.style.opacity="",this.$nextTick((()=>this.$emit("draggingEnd",!0))))},dragOver(t){this.viewOnly||(t.preventDefault(),t.dataTransfer.dropEffect="move")},nullEvent(t){this.viewOnly||(t.preventDefault(),t.dataTransfer.dropEffect="none")},folderDrop(t,e){if(this.viewOnly)return;let i;t.preventDefault();let s="";if(this.anyActive)i=this.getSelected().paths,s=this.dir.slice(0,-1);else{const e=t.dataTransfer.getData("text/plain");if(i=this.paths.filter((t=>t.path.startsWith(e))).map((t=>t.path)),i.length<1)return;s=e.slice(0,e.lastIndexOf("/"))}i.find((t=>t.startsWith(e.path)))||s!==e.path&&this.$emit(t.ctrlKey?"copy":"move",{from:s,paths:i,to:e.path})},contextMenu(t,e,i){if(t.preventDefault(),e&&i){if(this.lastActiveTime=Date.now(),this.lastActive=("folder"===e?"/":"")+i.name,!this.active[this.lastActive])for(const t in this.active)this.$set(this.active,t,!1);this.$set(this.active,this.lastActive,!0),this.contextItem=i,this.contextItemType=e}else this.contextItemType="",this.contextItem=null;const s=this.$refs.contextmenu;this.showContextMenu=!0,this.$nextTick((()=>{t.clientX+s.offsetWidth>window.innerWidth?(s.style.right=window.innerWidth-t.clientX+"px",s.style.left=""):(s.style.left=t.clientX+"px",s.style.right=""),t.clientY+s.offsetHeight>window.innerHeight?(s.style.bottom=window.innerHeight-t.clientY+"px",s.style.top=""):(s.style.top=t.clientY+"px",s.style.bottom="")}))},closeContextMenu(){this.showContextMenu&&(this.showContextMenu=!1)},shortcutHandler(t){document.querySelector("div.modal.is-active")||(t.ctrlKey?"a"===t.key?(t.preventDefault(),this.selectAll()):this.viewOnly||("x"===t.key&&this.anyActive?(this.cutSelected(),h.V.open({message:"cut selected",queue:!1,position:"is-bottom"})):"c"===t.key&&this.anyActive?(this.copySelected(),h.V.open({message:"copy selected",queue:!1,position:"is-bottom"})):"v"===t.key&&this.clipboard.length&&(this.paste(),h.V.open({message:"pasted clipboard",queue:!1,position:"is-bottom"}))):t.shiftKey&&("D"===t.key&&this.anyActive?this.downloadSelected():this.viewOnly||("A"===t.key||"N"===t.key?(t.preventDefault(),this.newFolder(),h.V.open({message:"new folder",queue:!1,position:"is-bottom"})):"R"===t.key&&this.lastActive?(t.preventDefault(),this.renameSelected()):"X"===t.key&&this.anyActive?this.removeSelected():"S"===t.key&&(t.preventDefault(),this.anyActive?this.shareSelected():this.$emit("share",this.dir.slice(0,-1)),h.V.open({message:"share"+(this.anyActive?" selected":" dir"),queue:!1,position:"is-bottom"})))))},getPath(t){return this.rootRoute+this.dir+t},getLink(t){return this.mapLink(t)}}});var B=(0,y.Z)(F,C,[],!1,null,null,null);B.options.__file="src/components/explorer/explorer.vue";const W=B.exports;var U=i(990),N=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content",attrs:{id:"tiny-not-found"}},[i("h1",[t._v("404 Not Found")]),t._v(" "),i("p",[t._v("Couldn't find the page you were looking for. Try going "),i("router-link",{attrs:{to:"/"}},[t._v("Home")]),t._v("?")],1)])};N._withStripped=!0;const q=s.Z.component("tiny-not-found",{});var j=(0,y.Z)(q,N,[],!1,null,null,null);j.options.__file="src/pages/not-found/not-found.vue";const R=j.exports;s.Z.use(U.Z);const H=new U.Z({mode:"hash",routes:[{path:"/",redirect:"/browse",name:"home"},{path:"/browse**",component:()=>i.e(605).then(i.bind(i,605)),name:"browse"},{path:"/explore**",component:()=>i.e(662).then(i.bind(i,3662)),name:"explore"},{path:"/settings",component:()=>i.e(440).then(i.bind(i,3440)),name:"settings"},{path:"/login",component:()=>i.e(846).then(i.bind(i,1846)),name:"login"},{path:"**",component:R,name:"not-found"}]});H.beforeEach(((t,e,i)=>{if(t.path!==e.path)if(t.path.length>1){const e=[];let i="";t.path.slice(1).split("/").forEach((t=>{t?i?e.push(i+t):e.push(t):i+="/"})),document.title="tiny files - "+e.join(" - ")}else document.title="tiny files";g.Z.homeToken||/^\/(login|explore)/.test(t.path)||i({path:"/login",query:Object.assign({goto:t.path},t.query)}),i()}));const K=H;Promise.all([i.e(467),i.e(418)]).then(i.bind(i,3418)),console.log("Environment:","production"),s.Z.use(o.Z),s.Z.use(n.Z),s.Z.use(r.Z),s.Z.use(a.Z),s.Z.use(l.ZP),s.Z.use(c.ZP),s.Z.use(d.ZP),s.Z.use(h.ZP),s.Z.use(u.ZP),s.Z.use(p.Z);const V=new s.Z({router:K,el:"#app",components:{AppComponent:x,TinyExplorer:W},data:{loaded:!1},render(t){return this.loaded?t(x,{key:"app"}):(0,f.gI)(t,I)}});(async()=>{if(g.Z.storeToken&&(g.Z.storeUser=await v.Z.auth.getStoreUser()),!location.hash){const[t,e,i]=location.href.match(/^(.+?)(\?.+)/);location.href=e+"#"+i}})().then((()=>{console.log("Initialized Main!"),V.loaded=!0}),(t=>{console.error("Error initializing main: ",t.stack||t.message||t),c.q.alert({title:"Error",message:"Error initializing main: "+String(t.message||t),type:"is-danger"})}))},9461:(t,e,i)=>{i.d(e,{Z:()=>s});const s=new class{constructor(){this.storeUser=null}get privateScope(){return"/appdata/tiny-files"}get publicScope(){return"/public/tiny-files"}get homeUrl(){return localStorage.getItem("home_url")}set homeUrl(t){localStorage.setItem("home_url",t)}get homeToken(){return localStorage.getItem("home_token")}set homeToken(t){localStorage.setItem("home_token",t)}get storeUrl(){return localStorage.getItem("store_url")}set storeUrl(t){localStorage.setItem("store_url",t)}get storeToken(){return localStorage.getItem("store_token")}set storeToken(t){localStorage.setItem("store_token",t)}get storeScopes(){return JSON.parse(localStorage.getItem("store_scopes"))}set storeScopes(t){localStorage.setItem("store_scopes",JSON.stringify(t))}get dbUrl(){return localStorage.getItem("db_url")}set dbUrl(t){localStorage.setItem("db_url",t)}get dbToken(){return localStorage.getItem("db_token")}set dbToken(t){localStorage.setItem("db_token",t)}get infoArray(){return[{id:"home",url:this.homeUrl,token:this.homeToken},{id:"store",url:this.storeUrl,token:this.storeToken,scopes:this.storeScopes},{id:"db",url:this.dbUrl,token:this.dbToken}]}clear(){localStorage.clear()}}},7853:(t,e,i)=>{i.d(e,{Z:()=>l});var s=i(6222),o=i.n(s),n=i(9461),r=i(4357);const a=location.origin+"/tiny-files/";const l=new class{constructor(){this._auth=Object.freeze({async login(t,e=!0){const i=t.split("@");let s="";i[1]&&(t=i[1],s=i[0]);const o=/^localhost:/.test(t)?"http:":location.protocol;n.Z.homeUrl=o+"//"+t,n.Z.storeScopes=e?[n.Z.privateScope,n.Z.publicScope]:["/"],location.href=n.Z.homeUrl+"/auth/handshake/start?app=tiny-files&redirect="+a+"&scopes=home,store,db"+(e?`&fileScopes=["${n.Z.privateScope}", "${n.Z.publicScope}"]`:'&fileScopes=["/"]')+(s?"&username="+s:"")},async getTokens(t,e){const i=await o().post(t+"/auth/token",{app:"tiny-files",redirect:a,scopes:"home,store,db",code:e,secret:"keyboardcat"}).then((t=>t.data),(t=>{throw(0,r.S3)(t),t}));for(const t of Object.keys(i))n.Z[t+"Url"]=i[t].url,n.Z[t+"Token"]=i[t].token},async refresh(){await Promise.all(n.Z.infoArray.map((({id:t,url:e,token:i})=>o().get(`${e}/auth/refresh?sid=${i}`).then((e=>n.Z[t+"Token"]=String(e.data)),r.S3))))},getStoreUser:async()=>o().get(n.Z.storeUrl+"/self?sid="+n.Z.storeToken).then((t=>t.data),r.S3),async logout(){await Promise.all(n.Z.infoArray.map((({url:t,token:e})=>o().post(`${t}/auth/logout?sid=${e}`)))).catch(r.S3),n.Z.clear()}}),this._files=Object.freeze({read:async(t,e)=>o().get(n.Z.storeUrl+"/files"+t+"?sid="+n.Z.storeToken,{responseType:e}).then((t=>t.data)).catch((t=>{throw(0,r.S3)(t),t})),getReadUrl:t=>n.Z.storeUrl+"/files"+t+"?sid="+n.Z.storeToken,async write(t,e,i,s=(()=>null)){await o().put(`${n.Z.storeUrl}/files${t}?sid=${n.Z.storeToken}${i?"&contentType="+i:""}`,e,{headers:i?{"Content-Type":i}:void 0,onUploadProgress:s}).catch((t=>{throw(0,r.S3)(t),t}))},async writeFile(t,e,i=(()=>null)){const s=new FormData;s.append("file",e),await o().put(n.Z.storeUrl+"/files"+t+"?sid="+n.Z.storeToken,s,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:i}).catch((t=>{throw(0,r.S3)(t),t}))},async delete(t){await o().delete(n.Z.storeUrl+"/files"+t+"?sid="+n.Z.storeToken).catch((t=>{throw(0,r.S3)(t),t}))},listFiles:async(t,e,i)=>o().get(`${n.Z.storeUrl}/list-files${t.length>0&&!t.startsWith("/")?"/":""}${t}?sid=${n.Z.storeToken}${e?"&advance=true":""}`+(i?"&page="+i:"")).then((t=>t.data)).catch((t=>{throw(0,r.S3)(t),t})),getStorageStats:async()=>o().get(n.Z.storeUrl+"/storage-stats?sid="+n.Z.storeToken).then((t=>t.data)).catch((t=>{throw(0,r.S3)(t),t})),readPublic:async(t,e,i)=>o().get(n.Z.storeUrl+"/public/"+t+e,{responseType:i}).then((t=>t.data)).catch((t=>{throw(0,r.S3)(t),t})),getPublicReadUrl:(t,e,i)=>(i||n.Z.storeUrl)+"/public/"+t+e})}get auth(){return this._auth}async deleteSelf(){await Promise.all(n.Z.infoArray.map((({url:t,token:e})=>o().delete(`${t}/self?sid=${e}`).catch(r.S3)))),n.Z.clear()}get files(){return this._files}}},4357:(t,e,i)=>{i.d(e,{gI:()=>o,S3:()=>n,LP:()=>r,Ic:()=>a});var s=i(3987);function o(t,e){return t("div",{staticStyle:{display:"flex",flexFlow:"column",flexWrap:"nowrap",alignItems:"center",justifyContent:"center",position:"fixed",top:"0",left:"0",height:"100%",width:"100%",backgroundColor:"transparent"}},[t(e)])}async function n(t,e,i){var o,n;const r=(null===(n=null===(o=t.response)||void 0===o?void 0:o.data)||void 0===n?void 0:n.message)||t.message||String(t),a=new Promise((t=>s.q.alert({title:e?"Error "+e:"Error",message:r,type:"is-danger",hasIcon:!0,onConfirm:()=>t(),onCancel:()=>t()})));i&&await a}function r(t){return"none"===t?{fileIcon:"file-question",fileIconColor:"#b5b5b5"}:t.startsWith("application/json")?{fileIcon:"file-code",fileIconColor:"#f44336"}:t.startsWith("application/octet-stream")?{fileIcon:"file-question",fileIconColor:"#BDBDBD"}:t.startsWith("text")?{fileIcon:"file-document",fileIconColor:"#3F51B5"}:t.startsWith("application/pdf")?{fileIcon:"file-pdf",fileIconColor:"#3F51B5"}:t.startsWith("audio")||t.startsWith("video/ogg")?{fileIcon:"file-music",fileIconColor:"#E91E63"}:t.startsWith("image")?{fileIcon:"file-image",fileIconColor:"#4CAF50"}:t.startsWith("video")?{fileIcon:"file-video",fileIconColor:"#673AB7"}:{fileIcon:"file",fileIconColor:"#78909C"}}function a(t){let e=t[0];for(const i of t)i.length<e.length&&(e=i);for(e=e.slice(0,e.lastIndexOf("/"));t.find((t=>!t.startsWith(e+"/")));)e=e.slice(0,e.lastIndexOf("/"));return e}}},n={};function r(t){if(n[t])return n[t].exports;var e=n[t]={id:t,loaded:!1,exports:{}};return o[t].call(e.exports,e,e.exports,r),e.loaded=!0,e.exports}r.m=o,r.x=t=>{},r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var i in e)r.o(e,i)&&!r.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},r.f={},r.e=t=>Promise.all(Object.keys(r.f).reduce(((e,i)=>(r.f[i](t,e),e)),[])),r.u=t=>t+"."+{418:"b528aa090a3367125ac1",440:"a8f8548cb2c45fd03da8",467:"96c34189f72dd0aca960",605:"e434c0a1e1690c0868a3",662:"77f3625b71bd502160eb",667:"181e499dfd6643bdacc7",846:"aa5ae2545d0ad3a4b587"}[t]+".js",r.miniCssF=t=>t+".css",r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),t={},e="tiny-files:",r.l=(i,s,o,n)=>{if(t[i])t[i].push(s);else{var a,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var h=c[d];if(h.getAttribute("src")==i||h.getAttribute("data-webpack")==e+o){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,r.nc&&a.setAttribute("nonce",r.nc),a.setAttribute("data-webpack",e+o),a.src=i),t[i]=[s];var u=(e,s)=>{a.onerror=a.onload=null,clearTimeout(p);var o=t[i];if(delete t[i],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((t=>t(s))),e)return e(s)},p=setTimeout(u.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=u.bind(null,a.onerror),a.onload=u.bind(null,a.onload),l&&document.head.appendChild(a)}},r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),r.p="",i=t=>new Promise(((e,i)=>{var s=r.miniCssF(t),o=r.p+s;if(((t,e)=>{for(var i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var o=(r=i[s]).getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(o===t||o===e))return r}var n=document.getElementsByTagName("style");for(s=0;s<n.length;s++){var r;if((o=(r=n[s]).getAttribute("data-href"))===t||o===e)return r}})(s,o))return e();((t,e,i,s)=>{var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.onerror=o.onload=n=>{if(o.onerror=o.onload=null,"load"===n.type)i();else{var r=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.href||e,l=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=r,l.request=a,o.parentNode.removeChild(o),s(l)}},o.href=e,document.head.appendChild(o)})(t,o,e,i)})),s={345:0},r.f.miniCss=(t,e)=>{s[t]?e.push(s[t]):0!==s[t]&&{440:1,467:1,605:1,662:1,667:1,846:1}[t]&&e.push(s[t]=i(t).then((()=>{s[t]=0}),(e=>{throw delete s[t],e})))},(()=>{var t={345:0},e=[[1149,411]];r.f.j=(e,i)=>{var s=r.o(t,e)?t[e]:void 0;if(0!==s)if(s)i.push(s[2]);else if(467!=e){var o=new Promise(((i,o)=>{s=t[e]=[i,o]}));i.push(s[2]=o);var n=r.p+r.u(e),a=new Error;r.l(n,(i=>{if(r.o(t,e)&&(0!==(s=t[e])&&(t[e]=void 0),s)){var o=i&&("load"===i.type?"missing":i.type),n=i&&i.target&&i.target.src;a.message="Loading chunk "+e+" failed.\n("+o+": "+n+")",a.name="ChunkLoadError",a.type=o,a.request=n,s[1](a)}}),"chunk-"+e,e)}else t[e]=0};var i=t=>{},s=(s,o)=>{for(var n,a,[l,c,d,h]=o,u=0,p=[];u<l.length;u++)a=l[u],r.o(t,a)&&t[a]&&p.push(t[a][0]),t[a]=0;for(n in c)r.o(c,n)&&(r.m[n]=c[n]);for(d&&d(r),s&&s(o);p.length;)p.shift()();return h&&e.push.apply(e,h),i()},o=self.webpackChunktiny_files=self.webpackChunktiny_files||[];function n(){for(var i,s=0;s<e.length;s++){for(var o=e[s],n=!0,a=1;a<o.length;a++){var l=o[a];0!==t[l]&&(n=!1)}n&&(e.splice(s--,1),i=r(r.s=o[0]))}return 0===e.length&&(r.x(),r.x=t=>{}),i}o.forEach(s.bind(null,0)),o.push=s.bind(null,o.push.bind(o));var a=r.x;r.x=()=>(r.x=a||(t=>{}),(i=n)())})(),r.x()})();